var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,a;function c(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function l(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function h(e){return null==e?"":e}function u(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function y(e){return document.createTextNode(e)}function g(){return y(" ")}function w(){return y("")}function v(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function E(e,t){e.value=null==t?"":t}function T(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function k(e){a=e}function $(){const e=function(){if(!a)throw new Error("Function called outside component initialization");return a}();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function S(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const C=[],D=[],I=[],x=[],O=Promise.resolve();let B=!1;function R(e){I.push(e)}const M=new Set;let P=0;function A(){const e=a;do{for(;P<C.length;){const e=C[P];P++,k(e),N(e.$$)}for(k(null),C.length=0,P=0;D.length;)D.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];M.has(t)||(M.add(t),t())}I.length=0}while(C.length);for(;x.length;)x.pop()();B=!1,M.clear(),k(e)}function N(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const L=new Set;let j;function Y(){j={r:0,c:[],p:j}}function q(){j.r||r(j.c),j=j.p}function F(e,t){e&&e.i&&(L.delete(e),e.i(t))}function z(e,t,n,r){if(e&&e.o){if(L.has(e))return;L.add(e),j.c.push((()=>{L.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function U(e){e&&e.c()}function W(e,n,i,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:h}=e.$$;a&&a.m(n,i),s||R((()=>{const n=c.map(t).filter(o);l?l.push(...n):r(n),e.$$.on_mount=[]})),h.forEach(R)}function Z(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function H(e,t){-1===e.$$.dirty[0]&&(C.push(e),B||(B=!0,O.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(t,o,i,s,c,l,h,u=[-1]){const d=a;k(t);const m=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||d.$$.root};h&&h(m.root);let p=!1;if(m.ctx=i?i(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&c(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),p&&H(t,e)),n})):[],m.update(),p=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);m.fragment&&m.fragment.l(e),e.forEach(f)}else m.fragment&&m.fragment.c();o.intro&&F(t.$$.fragment),W(t,o.target,o.anchor,o.customElement),A()}k(d)}class G{$destroy(){Z(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function J(e){var t={exports:{}};return e(t,t.exports),t.exports}var X=J((function(e,t){e.exports=function(){var e=Math.imul,t=Math.clz32;function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(){return h=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&c(o,n.prototype),o},h.apply(null,arguments)}function u(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){function n(){return h(e,arguments,a(this).constructor)}if(null===e||!u(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},d(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function p(e){var t=l();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function y(e,t){return g(e)||w(e,t)||v(e,t)||_()}function g(e){if(Array.isArray(e))return e}function w(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}var T=function(e){var t=Math.abs,o=Math.max,a=Math.floor;function c(e,t){var n;if(r(this,c),(n=l.call(this,e)).sign=t,Object.setPrototypeOf(f(n),c.prototype),e>c.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return n}s(c,e);var l=p(c);return i(c,[{key:"toDebugString",value:function(){var e,t=["BigInt["],n=E(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push((r?(r>>>0).toString(16):r)+", ")}}catch(e){n.e(e)}finally{n.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?c.__toStringBasePowerOfTwo(this,e):c.__toStringGeneric(this,e,!1)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new c(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return c.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,n){n>this.length&&(n=this.length);for(var r=32767&e,o=e>>>15,i=0,s=t,a=0;a<n;a++){var l=this.__digit(a),h=32767&l,u=l>>>15,d=c.__imul(h,r),f=c.__imul(h,o),m=c.__imul(u,r),p=s+d+i;i=p>>>30,p&=1073741823,i+=(p+=((32767&f)<<15)+((32767&m)<<15))>>>30,s=c.__imul(u,o)+(f>>>15)+(m>>>15),this.__setDigit(a,1073741823&p)}if(0!==i||0!==s)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r,o=0,i=0;i<n;i++)o=(r=this.__halfDigit(t+i)+e.__halfDigit(i)+o)>>>15,this.__setHalfDigit(t+i,32767&r);return o}},{key:"__inplaceSub",value:function(e,t,n){var r=0;if(1&t){t>>=1;for(var o=this.__digit(t),i=32767&o,s=0;s<n-1>>>1;s++){var a=e.__digit(s),c=(o>>>15)-(32767&a)-r;r=1&c>>>15,this.__setDigit(t+s,(32767&c)<<15|32767&i),r=1&(i=(32767&(o=this.__digit(t+s+1)))-(a>>>15)-r)>>>15}var l=e.__digit(s),h=(o>>>15)-(32767&l)-r;if(r=1&h>>>15,this.__setDigit(t+s,(32767&h)<<15|32767&i),t+s+1>=this.length)throw new RangeError("out of bounds");0==(1&n)&&(r=1&(i=(32767&(o=this.__digit(t+s+1)))-(l>>>15)-r)>>>15,this.__setDigit(t+e.length,1073709056&o|32767&i))}else{t>>=1;for(var u=0;u<e.length-1;u++){var d=this.__digit(t+u),f=e.__digit(u),m=(32767&d)-(32767&f)-r,p=(d>>>15)-(f>>>15)-(r=1&m>>>15);r=1&p>>>15,this.__setDigit(t+u,(32767&p)<<15|32767&m)}var y=this.__digit(t+u),g=e.__digit(u),w=(32767&y)-(32767&g)-r;r=1&w>>>15;var v=0;0==(1&n)&&(r=1&(v=(y>>>15)-(g>>>15)-r)>>>15),this.__setDigit(t+u,(32767&v)<<15|32767&w)}return r}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,n=this.__digit(0)>>>e,r=this.length-1,o=0;o<r;o++)t=this.__digit(o+1),this.__setDigit(o,1073741823&t<<30-e|n),n=t>>>e;this.__setDigit(r,n)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),o=1&e?32767&r|t<<15:1073709056&r|32767&t;this.__setDigit(n,o)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return c.__zero();if(c.__isOneDigitInt(e))return 0>e?c.__oneDigit(-e,!0):c.__oneDigit(e,!1);if(!t(e)||a(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return c.__fromDouble(e)}if("string"==typeof e){var r=c.__fromString(e);if(null===r)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return r}if("boolean"==typeof e)return!0===e?c.__oneDigit(1,!1):c.__zero();if("object"===n(e)){if(e.constructor===c)return e;var o=c.__toPrimitive(e);return c.BigInt(o)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var n=e.__unsignedDigit(0);return e.sign?-n:n}var r=e.__digit(t-1),o=c.__clz30(r),i=30*t-o;if(1024<i)return e.sign?-1/0:1/0;var s=i-1,a=r,l=t-1,h=o+3,u=32===h?0:a<<h;u>>>=12;var d=h-12,f=12<=h?0:a<<20+h,m=20+h;for(0<d&&0<l&&(l--,u|=(a=e.__digit(l))>>>30-d,f=a<<d+2,m=d+2);0<m&&0<l;)l--,a=e.__digit(l),f|=30<=m?a<<m-30:a>>>30-m,m-=30;var p=c.__decideRounding(e,m,l,a);if((1===p||0===p&&1==(1&f))&&0==(f=f+1>>>0)&&0!=++u>>>20&&(u=0,1023<++s))return e.sign?-1/0:1/0;var y=e.sign?-2147483648:0;return s=s+1023<<20,c.__kBitConversionInts[1]=y|s|u,c.__kBitConversionInts[0]=f,c.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?c.__absoluteSubOne(e).__trim():c.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return c.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?c.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var n=t.__unsignedDigit(0);if(1===n)return e;if(n>=c.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var r=1+(0|n/30),o=new c(r,e.sign&&0!=(1&n));o.__initializeDigits();var i=1<<n%30;return o.__setDigit(r-1,i),o}var s=null,a=e;for(0!=(1&n)&&(s=e),n>>=1;0!==n;n>>=1)a=c.multiply(a,a),0!=(1&n)&&(s=null===s?a:c.multiply(s,a));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var n=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&n--;var r=new c(n,e.sign!==t.sign);r.__initializeDigits();for(var o=0;o<e.length;o++)c.__multiplyAccumulate(t,e.__digit(o),r,o);return r.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return c.__zero();var n,r=e.sign!==t.sign,o=t.__unsignedDigit(0);if(1===t.length&&32767>=o){if(1===o)return r===e.sign?e:c.unaryMinus(e);n=c.__absoluteDivSmall(e,o,null)}else n=c.__absoluteDivLarge(e,t,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return e;var n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return c.__zero();var r=c.__absoluteModSmall(e,n);return 0===r?c.__zero():c.__oneDigit(r,e.sign)}var o=c.__absoluteDivLarge(e,t,!1,!0);return o.sign=e.sign,o.__trim()}},{key:"add",value:function(e,t){var n=e.sign;return n===t.sign?c.__absoluteAdd(e,t,n):0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,n):c.__absoluteSub(t,e,!n)}},{key:"subtract",value:function(e,t){var n=e.sign;return n===t.sign?0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,n):c.__absoluteSub(t,e,!n):c.__absoluteAdd(e,t,n)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__rightShiftByAbsolute(e,t):c.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__leftShiftByAbsolute(e,t):c.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>c.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=c.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<c.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=c.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,t){return!c.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var n=o(e.length,t.length)+1,r=c.__absoluteSubOne(e,n),i=c.__absoluteSubOne(t);return r=c.__absoluteOr(r,i,r),c.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}return c.__absoluteAndNot(e,c.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var n=o(e.length,t.length),r=c.__absoluteSubOne(e,n),i=c.__absoluteSubOne(t);return c.__absoluteXor(r,i,r).__trim()}var s=o(e.length,t.length)+1;if(e.sign){var a=[t,e];e=a[0],t=a[1]}var l=c.__absoluteSubOne(t,s);return l=c.__absoluteXor(l,e,l),c.__absoluteAddOne(l,!0,l).__trim()}},{key:"bitwiseOr",value:function(e,t){var n=o(e.length,t.length);if(!e.sign&&!t.sign)return c.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var r=c.__absoluteSubOne(e,n),i=c.__absoluteSubOne(t);return r=c.__absoluteAnd(r,i,r),c.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}var a=c.__absoluteSubOne(t,n);return a=c.__absoluteAndNot(a,e,a),c.__absoluteAddOne(a,!0,a).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=a(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return c.__zero();if(e>=c.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=t.__unsignedDigit(n-1),o=1<<(e-1)%30;if(t.length===n&&r<o)return t;if((r&o)!==o)return c.__truncateToNBits(e,t);if(!t.sign)return c.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(r&o-1)){for(var i=n-2;0<=i;i--)if(0!==t.__digit(i))return c.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===o?t:c.__truncateToNBits(e,t)}return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=a(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return c.__zero();if(t.sign){if(e>c.__kMaxLengthBits)throw new RangeError("BigInt too big");return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=c.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=e%30;if(t.length==n){if(0===r)return t;if(0==t.__digit(n-1)>>>r)return t}return c.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)&&c.__isBigInt(t))return c.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return c.__compare(e,t,0)}},{key:"LE",value:function(e,t){return c.__compare(e,t,1)}},{key:"GT",value:function(e,t){return c.__compare(e,t,2)}},{key:"GE",value:function(e,t){return c.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(c.__isBigInt(e))return c.__isBigInt(t)?c.equal(e,t):c.EQ(t,e);if("number"==typeof e){if(c.__isBigInt(t))return c.__equalToNumber(t,e);if("object"!==n(t))return e==t;t=c.__toPrimitive(t)}else if("string"==typeof e){if(c.__isBigInt(t))return null!==(e=c.__fromString(e))&&c.equal(e,t);if("object"!==n(t))return e==t;t=c.__toPrimitive(t)}else if("boolean"==typeof e){if(c.__isBigInt(t))return c.__equalToNumber(t,+e);if("object"!==n(t))return e==t;t=c.__toPrimitive(t)}else if("symbol"===n(e)){if(c.__isBigInt(t))return!1;if("object"!==n(t))return e==t;t=c.__toPrimitive(t)}else{if("object"!==n(e))return e==t;if("object"===n(t)&&t.constructor!==c)return e==t;e=c.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!c.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return c.asIntN(64,c.DataViewGetBigUint64(e,t,n))}},{key:"DataViewGetBigUint64",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=y(n?[4,0]:[0,4],2),o=r[0],i=r[1],s=e.getUint32(t+o,n),a=e.getUint32(t+i,n),l=new c(3,!1);return l.__setDigit(0,1073741823&a),l.__setDigit(1,(268435455&s)<<2|a>>>30),l.__setDigit(2,s>>>28),l.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];c.DataViewSetBigUint64(e,t,n,r)}},{key:"DataViewSetBigUint64",value:function(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],o=0,i=0;if(0<(n=c.asUintN(64,n)).length&&(i=n.__digit(0),1<n.length)){var s=n.__digit(1);i|=s<<30,o=s>>>2,2<n.length&&(o|=n.__digit(2)<<28)}var a=y(r?[4,0]:[0,4],2),l=a[0],h=a[1];e.setUint32(t+l,o,r),e.setUint32(t+h,i,r)}},{key:"__zero",value:function(){return new c(0,!1)}},{key:"__oneDigit",value:function(e,t){var n=new c(1,t);return n.__setDigit(0,e),n}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var o;if(0>t)o=-t-1;else{if(0===n)return-1;n--,r=e.__digit(n),o=29}var i=1<<o;if(0==(r&i))return-1;if(0!=(r&(i-=1)))return 1;for(;0<n;)if(n--,0!==e.__digit(n))return 1;return 0}},{key:"__fromDouble",value:function(e){c.__kBitConversionDouble[0]=e;var t,n=(2047&c.__kBitConversionInts[1]>>>20)-1023,r=1+(0|n/30),o=new c(r,0>e),i=1048575&c.__kBitConversionInts[1]|1048576,s=c.__kBitConversionInts[0],a=20,l=n%30,h=0;if(l<a){var u=a-l;h=u+32,t=i>>>u,i=i<<32-u|s>>>u,s<<=32-u}else if(l===a)h=32,t=i,i=s,s=0;else{var d=l-a;h=32-d,t=i<<d|s>>>32-d,i=s<<d,s=0}o.__setDigit(r-1,t);for(var f=r-2;0<=f;f--)0<h?(h-=30,t=i>>>2,i=i<<30|s>>>2,s<<=30):t=0,o.__setDigit(f,t);return o.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0,r=e.length,o=0;if(o===r)return c.__zero();for(var i=e.charCodeAt(o);c.__isWhitespace(i);){if(++o===r)return c.__zero();i=e.charCodeAt(o)}if(43===i){if(++o===r)return null;i=e.charCodeAt(o),n=1}else if(45===i){if(++o===r)return null;i=e.charCodeAt(o),n=-1}if(0===t){if(t=10,48===i){if(++o===r)return c.__zero();if(88===(i=e.charCodeAt(o))||120===i){if(t=16,++o===r)return null;i=e.charCodeAt(o)}else if(79===i||111===i){if(t=8,++o===r)return null;i=e.charCodeAt(o)}else if(66===i||98===i){if(t=2,++o===r)return null;i=e.charCodeAt(o)}}}else if(16===t&&48===i){if(++o===r)return c.__zero();if(88===(i=e.charCodeAt(o))||120===i){if(++o===r)return null;i=e.charCodeAt(o)}}if(0!==n&&10!==t)return null;for(;48===i;){if(++o===r)return c.__zero();i=e.charCodeAt(o)}var s=r-o,a=c.__kMaxBitsPerChar[t],l=c.__kBitsPerCharTableMultiplier-1;if(s>1073741824/a)return null;var h=new c(0|(29+(a*s+l>>>c.__kBitsPerCharTableShift))/30,!1),u=10>t?t:10,d=10<t?t-10:0;if(0==(t&t-1)){a>>=c.__kBitsPerCharTableShift;var f=[],m=[],p=!1;do{for(var y,g=0,w=0;;){if(y=void 0,i-48>>>0<u)y=i-48;else{if(!((32|i)-97>>>0<d)){p=!0;break}y=(32|i)-87}if(w+=a,g=g<<a|y,++o===r){p=!0;break}if(i=e.charCodeAt(o),30<w+a)break}f.push(g),m.push(w)}while(!p);c.__fillFromParts(h,f,m)}else{h.__initializeDigits();var v=!1,b=0;do{for(var _,E=0,T=1;;){if(_=void 0,i-48>>>0<u)_=i-48;else{if(!((32|i)-97>>>0<d)){v=!0;break}_=(32|i)-87}var k=T*t;if(1073741823<k)break;if(T=k,E=E*t+_,b++,++o===r){v=!0;break}i=e.charCodeAt(o)}var $=0|(a*b+(l=30*c.__kBitsPerCharTableMultiplier-1)>>>c.__kBitsPerCharTableShift)/30;h.__inplaceMultiplyAdd(T,E,$)}while(!v)}if(o!==r){if(!c.__isWhitespace(i))return null;for(o++;o<r;o++)if(i=e.charCodeAt(o),!c.__isWhitespace(i))return null}return h.sign=-1===n,h.__trim()}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,o=0,i=0,s=t.length-1;0<=s;s--){var a=t[s],c=n[s];o|=a<<i,30===(i+=c)?(e.__setDigit(r++,o),i=0,o=0):30<i&&(e.__setDigit(r++,1073741823&o),o=a>>>c-(i-=30))}if(0!==o){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,o)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var n=e.length,r=t-1,o=r=(15&(r=(51&(r=(85&r>>>1)+(85&r))>>>2)+(51&r))>>>4)+(15&r),i=t-1,s=e.__digit(n-1),a=0|(30*n-c.__clz30(s)+o-1)/o;if(e.sign&&a++,268435456<a)throw new Error("string too long");for(var l=Array(a),h=a-1,u=0,d=0,f=0;f<n-1;f++){var m=e.__digit(f),p=(u|m<<d)&i;l[h--]=c.__kConversionChars[p];var y=o-d;for(u=m>>>y,d=30-y;d>=o;)l[h--]=c.__kConversionChars[u&i],u>>>=o,d-=o}var g=(u|s<<d)&i;for(l[h--]=c.__kConversionChars[g],u=s>>>o-d;0!==u;)l[h--]=c.__kConversionChars[u&i],u>>>=o;if(e.sign&&(l[h--]="-"),-1!==h)throw new Error("implementation bug");return l.join("")}},{key:"__toStringGeneric",value:function(e,t,n){var r=e.length;if(0===r)return"";if(1===r){var o=e.__unsignedDigit(0).toString(t);return!1===n&&e.sign&&(o="-"+o),o}var i,s,a=30*r-c.__clz30(e.__digit(r-1)),l=c.__kMaxBitsPerChar[t]-1,h=a*c.__kBitsPerCharTableMultiplier,u=1+(h=0|(h+=l-1)/l)>>1,d=c.exponentiate(c.__oneDigit(t,!1),c.__oneDigit(u,!1)),f=d.__unsignedDigit(0);if(1===d.length&&32767>=f){(i=new c(e.length,!1)).__initializeDigits();for(var m,p=0,y=2*e.length-1;0<=y;y--)m=p<<15|e.__halfDigit(y),i.__setHalfDigit(y,0|m/f),p=0|m%f;s=p.toString(t)}else{var g=c.__absoluteDivLarge(e,d,!0,!0);i=g.quotient;var w=g.remainder.__trim();s=c.__toStringGeneric(w,t,!0)}i.__trim();for(var v=c.__toStringGeneric(i,t,!0);s.length<u;)s="0"+s;return!1===n&&e.sign&&(v="-"+v),v+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var n=e.sign;if(n!==t.sign)return c.__unequalSign(n);var r=c.__absoluteCompare(e,t);return 0<r?c.__absoluteGreater(n):0>r?c.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(e,n){if(c.__isOneDigitInt(n)){var r=e.sign,o=0>n;if(r!==o)return c.__unequalSign(r);if(0===e.length){if(o)throw new Error("implementation bug");return 0===n?0:-1}if(1<e.length)return c.__absoluteGreater(r);var i=t(n),s=e.__unsignedDigit(0);return s>i?c.__absoluteGreater(r):s<i?c.__absoluteLess(r):0}return c.__compareToDouble(e,n)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var n=e.sign;if(n!==0>t)return c.__unequalSign(n);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;c.__kBitConversionDouble[0]=t;var r=2047&c.__kBitConversionInts[1]>>>20;if(2047==r)throw new Error("implementation bug: handled elsewhere");var o=r-1023;if(0>o)return c.__absoluteGreater(n);var i=e.length,s=e.__digit(i-1),a=c.__clz30(s),l=30*i-a,h=o+1;if(l<h)return c.__absoluteLess(n);if(l>h)return c.__absoluteGreater(n);var u=1048576|1048575&c.__kBitConversionInts[1],d=c.__kBitConversionInts[0],f=20,m=29-a;if(m!==(0|(l-1)%30))throw new Error("implementation bug");var p,y=0;if(m<f){var g=f-m;y=g+32,p=u>>>g,u=u<<32-g|d>>>g,d<<=32-g}else if(m===f)y=32,p=u,u=d,d=0;else{var w=m-f;y=32-w,p=u<<w|d>>>32-w,u=d<<w,d=0}if((s>>>=0)>(p>>>=0))return c.__absoluteGreater(n);if(s<p)return c.__absoluteLess(n);for(var v=i-2;0<=v;v--){0<y?(y-=30,p=u>>>2,u=u<<30|d>>>2,d<<=30):p=0;var b=e.__unsignedDigit(v);if(b>p)return c.__absoluteGreater(n);if(b<p)return c.__absoluteLess(n)}if(0!==u||0!==d){if(0===y)throw new Error("implementation bug");return c.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(e,n){return c.__isOneDigitInt(n)?0===n?0===e.length:1===e.length&&e.sign===0>n&&e.__unsignedDigit(0)===t(n):0===c.__compareToDouble(e,n)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,n){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(c.__isBigInt(e)&&"string"==typeof t)return null!==(t=c.__fromString(t))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if("string"==typeof e&&c.__isBigInt(t))return null!==(e=c.__fromString(e))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)){if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if("number"!=typeof t)throw new Error("implementation bug");return c.__comparisonResultToBool(c.__compareToNumber(e,t),n)}if("number"!=typeof e)throw new Error("implementation bug");if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToNumber(t,e),2^n);if("number"!=typeof t)throw new Error("implementation bug");return 0===n?e<t:1===n?e<=t:2===n?e>t:3===n?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,n){if(e.length<t.length)return c.__absoluteAdd(t,e,n);if(0===e.length)return e;if(0===t.length)return e.sign===n?e:c.unaryMinus(e);var r=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&r++;for(var o,i=new c(r,n),s=0,a=0;a<t.length;a++)s=(o=e.__digit(a)+t.__digit(a)+s)>>>30,i.__setDigit(a,1073741823&o);for(;a<e.length;a++){var l=e.__digit(a)+s;s=l>>>30,i.__setDigit(a,1073741823&l)}return a<i.length&&i.__setDigit(a,s),i.__trim()}},{key:"__absoluteSub",value:function(e,t,n){if(0===e.length)return e;if(0===t.length)return e.sign===n?e:c.unaryMinus(e);for(var r,o=new c(e.length,n),i=0,s=0;s<t.length;s++)i=1&(r=e.__digit(s)-t.__digit(s)-i)>>>30,o.__setDigit(s,1073741823&r);for(;s<e.length;s++){var a=e.__digit(s)-i;i=1&a>>>30,o.__setDigit(s,1073741823&a)}return o.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length;null===n?n=new c(r,t):n.sign=t;for(var o,i=1,s=0;s<r;s++)i=(o=e.__digit(s)+i)>>>30,n.__setDigit(s,1073741823&o);return 0!==i&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(e,t){for(var n,r=e.length,o=new c(t=t||r,!1),i=1,s=0;s<r;s++)i=1&(n=e.__digit(s)-i)>>>30,o.__setDigit(s,1073741823&n);if(0!==i)throw new Error("implementation bug");for(var a=r;a<t;a++)o.__setDigit(a,0);return o}},{key:"__absoluteAnd",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,o=t.length,i=o;if(r<o){i=r;var s=e,a=r;e=t,r=o,t=s,o=a}var l=i;null===n?n=new c(l,!1):l=n.length;for(var h=0;h<i;h++)n.__setDigit(h,e.__digit(h)&t.__digit(h));for(;h<l;h++)n.__setDigit(h,0);return n}},{key:"__absoluteAndNot",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,o=t.length,i=o;r<o&&(i=r);var s=r;null===n?n=new c(s,!1):s=n.length;for(var a=0;a<i;a++)n.__setDigit(a,e.__digit(a)&~t.__digit(a));for(;a<r;a++)n.__setDigit(a,e.__digit(a));for(;a<s;a++)n.__setDigit(a,0);return n}},{key:"__absoluteOr",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,o=t.length,i=o;if(r<o){i=r;var s=e,a=r;e=t,r=o,t=s,o=a}var l=r;null===n?n=new c(l,!1):l=n.length;for(var h=0;h<i;h++)n.__setDigit(h,e.__digit(h)|t.__digit(h));for(;h<r;h++)n.__setDigit(h,e.__digit(h));for(;h<l;h++)n.__setDigit(h,0);return n}},{key:"__absoluteXor",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,o=t.length,i=o;if(r<o){i=r;var s=e,a=r;e=t,r=o,t=s,o=a}var l=r;null===n?n=new c(l,!1):l=n.length;for(var h=0;h<i;h++)n.__setDigit(h,e.__digit(h)^t.__digit(h));for(;h<r;h++)n.__setDigit(h,e.__digit(h));for(;h<l;h++)n.__setDigit(h,0);return n}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(0!=n)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,n,r){if(0!==t){for(var o=32767&t,i=t>>>15,s=0,a=0,l=0;l<e.length;l++,r++){var h=n.__digit(r),u=e.__digit(l),d=32767&u,f=u>>>15,m=c.__imul(d,o),p=c.__imul(d,i),y=c.__imul(f,o);s=(h+=a+m+s)>>>30,h&=1073741823,s+=(h+=((32767&p)<<15)+((32767&y)<<15))>>>30,a=c.__imul(f,i)+(p>>>15)+(y>>>15),n.__setDigit(r,1073741823&h)}for(;0!==s||0!==a;r++){var g=n.__digit(r);g+=s+a,a=0,s=g>>>30,n.__setDigit(r,1073741823&g)}}}},{key:"__internalMultiplyAdd",value:function(e,t,n,r,o){for(var i=n,s=0,a=0;a<r;a++){var l=e.__digit(a),h=c.__imul(32767&l,t),u=c.__imul(l>>>15,t),d=h+((32767&u)<<15)+s+i;i=d>>>30,s=u>>>15,o.__setDigit(a,1073741823&d)}if(o.length>r)for(o.__setDigit(r++,i+s);r<o.length;)o.__setDigit(r++,0);else if(0!==i+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=new c(e.length,!1));for(var r=0,o=2*e.length-1;0<=o;o-=2){var i=(r<<15|e.__halfDigit(o))>>>0,s=0|i/t,a=0|(i=((r=0|i%t)<<15|e.__halfDigit(o-1))>>>0)/t;r=0|i%t,n.__setDigit(o>>>1,s<<15|a)}return n}},{key:"__absoluteModSmall",value:function(e,t){for(var n=0,r=2*e.length-1;0<=r;r--)n=0|((n<<15|e.__halfDigit(r))>>>0)%t;return n}},{key:"__absoluteDivLarge",value:function(e,t,n,r){var o=t.__halfDigitLength(),i=t.length,s=e.__halfDigitLength()-o,a=null;n&&(a=new c(s+2>>>1,!1)).__initializeDigits();var l=new c(o+2>>>1,!1);l.__initializeDigits();var h=c.__clz15(t.__halfDigit(o-1));0<h&&(t=c.__specialLeftShift(t,h,0));for(var u=c.__specialLeftShift(e,h,1),d=t.__halfDigit(o-1),f=0,m=s;0<=m;m--){var p=32767,y=u.__halfDigit(m+o);if(y!==d){var g=(y<<15|u.__halfDigit(m+o-1))>>>0;p=0|g/d;for(var w=0|g%d,v=t.__halfDigit(o-2),b=u.__halfDigit(m+o-2);c.__imul(p,v)>>>0>(w<<16|b)>>>0&&(p--,!(32767<(w+=d))););}c.__internalMultiplyAdd(t,p,0,i,l);var _=u.__inplaceSub(l,m,o+1);0!==_&&(_=u.__inplaceAdd(t,m,o),u.__setHalfDigit(m+o,32767&u.__halfDigit(m+o)+_),p--),n&&(1&m?f=p<<15:a.__setDigit(m>>>1,f|p))}if(r)return u.__inplaceRightShift(h),n?{quotient:a,remainder:u}:u;if(n)return a;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return c.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,n){var r=e.length,o=new c(r+n,!1);if(0===t){for(var i=0;i<r;i++)o.__setDigit(i,e.__digit(i));return 0<n&&o.__setDigit(r,0),o}for(var s,a=0,l=0;l<r;l++)s=e.__digit(l),o.__setDigit(l,1073741823&s<<t|a),a=s>>>30-t;return 0<n&&o.__setDigit(r,a),o}},{key:"__leftShiftByAbsolute",value:function(e,t){var n=c.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");var r=0|n/30,o=n%30,i=e.length,s=0!==o&&0!=e.__digit(i-1)>>>30-o,a=i+r+(s?1:0),l=new c(a,e.sign);if(0===o){for(var h=0;h<r;h++)l.__setDigit(h,0);for(;h<a;h++)l.__setDigit(h,e.__digit(h-r))}else{for(var u=0,d=0;d<r;d++)l.__setDigit(d,0);for(var f,m=0;m<i;m++)f=e.__digit(m),l.__setDigit(m+r,1073741823&f<<o|u),u=f>>>30-o;if(s)l.__setDigit(i+r,u);else if(0!==u)throw new Error("implementation bug")}return l.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var n=e.length,r=e.sign,o=c.__toShiftAmount(t);if(0>o)return c.__rightShiftByMaximum(r);var i=0|o/30,s=o%30,a=n-i;if(0>=a)return c.__rightShiftByMaximum(r);var l=!1;if(r)if(0!=(e.__digit(i)&(1<<s)-1))l=!0;else for(var h=0;h<i;h++)if(0!==e.__digit(h)){l=!0;break}l&&0===s&&0==~e.__digit(n-1)&&a++;var u=new c(a,r);if(0===s){u.__setDigit(a-1,0);for(var d=i;d<n;d++)u.__setDigit(d-i,e.__digit(d))}else{for(var f,m=e.__digit(i)>>>s,p=n-i-1,y=0;y<p;y++)f=e.__digit(y+i+1),u.__setDigit(y,1073741823&f<<30-s|m),m=f>>>s;u.__setDigit(p,m)}return l&&(u=c.__absoluteAddOne(u,!0,u)),u.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?c.__oneDigit(1,!0):c.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>c.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==n(e))return e;if(e.constructor===c)return e;if("undefined"!=typeof Symbol&&"symbol"===n(Symbol.toPrimitive)){var r=e[Symbol.toPrimitive];if(r){var o=r(t);if("object"!==n(o))return o;throw new TypeError("Cannot convert object to primitive value")}}var i=e.valueOf;if(i){var s=i.call(e);if("object"!==n(s))return s}var a=e.toString;if(a){var l=a.call(e);if("object"!==n(l))return l}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return c.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===n(e)&&null!==e&&e.constructor===c}},{key:"__truncateToNBits",value:function(e,t){for(var n=0|(e+29)/30,r=new c(n,t.sign),o=n-1,i=0;i<o;i++)r.__setDigit(i,t.__digit(i));var s=t.__digit(o);if(0!=e%30){var a=32-e%30;s=s<<a>>>a}return r.__setDigit(o,s),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,n){for(var r,o=Math.min,i=0|(e+29)/30,s=new c(i,n),a=0,l=i-1,h=0,u=o(l,t.length);a<u;a++)h=1&(r=0-t.__digit(a)-h)>>>30,s.__setDigit(a,1073741823&r);for(;a<l;a++)s.__setDigit(a,0|1073741823&-h);var d,f=l<t.length?t.__digit(l):0,m=e%30;if(0===m)d=0-f-h,d&=1073741823;else{var p=32-m,y=1<<32-p;d=y-(f=f<<p>>>p)-h,d&=y-1}return s.__setDigit(l,d),s.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),c}(d(Array));return T.__kMaxLength=33554432,T.__kMaxLengthBits=T.__kMaxLength<<5,T.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],T.__kBitsPerCharTableShift=5,T.__kBitsPerCharTableMultiplier=1<<T.__kBitsPerCharTableShift,T.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],T.__kBitConversionBuffer=new ArrayBuffer(8),T.__kBitConversionDouble=new Float64Array(T.__kBitConversionBuffer),T.__kBitConversionInts=new Int32Array(T.__kBitConversionBuffer),T.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,n=Math.log;return 0===e?30:0|29-(0|n(e>>>0)/t)},T.__imul=e||function(e,t){return 0|e*t},T}()}));const Q={};function ee(e,t){Object.defineProperty(e.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(e)){const n=Object.getOwnPropertyDescriptor(e,t);n.configurable&&n.enumerable&&(n.enumerable=!1,Object.defineProperty(e,t,n))}for(const t of Object.getOwnPropertyNames(e.prototype)){const n=Object.getOwnPropertyDescriptor(e.prototype,t);n.configurable&&n.enumerable&&(n.enumerable=!1,Object.defineProperty(e.prototype,t,n))}te(t,e),te(`${t}.prototype`,e.prototype)}function te(e,t){const n=`%${e}%`;if(void 0!==Q[n])throw new Error(`intrinsic ${e} already exists`);Q[n]=t}function ne(e){return Q[e]}const re="slot-epochNanoSeconds",oe="slot-timezone-identifier",ie="slot-year",se="slot-month",ae="slot-day",ce="slot-hour",le="slot-minute",he="slot-second",ue="slot-millisecond",de="slot-microsecond",fe="slot-nanosecond",me="slot-calendar",pe="slot-cached-instant",ye="slot-time-zone",ge="slot-years",we="slot-months",ve="slot-weeks",be="slot-days",_e="slot-hours",Ee="slot-minutes",Te="slot-seconds",ke="slot-milliseconds",$e="slot-microseconds",Se="slot-nanoseconds",Ce="slot-calendar-identifier",De=new WeakMap;function Ie(e){De.set(e,Object.create(null))}function xe(e){return De.get(e)}function Oe(e,...t){if(!e||"object"!=typeof e)return!1;const n=xe(e);return!!n&&t.reduce(((e,t)=>e&&t in n),!0)}function Be(e,t){const n=xe(e)[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function Re(e,t,n){xe(e)[t]=n}const Me=Array.prototype.includes,Pe=Array.prototype.push,Ae=globalThis.Intl.DateTimeFormat,Ne=Array.prototype.sort,Le=Math.abs,je=Math.floor,Ye=Object.entries,qe=Object.keys,Fe={};class ze{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=Tn(e);if(!Et(t))throw new RangeError(`invalid calendar identifier ${t}`);Ie(this),Re(this,Ce,t)}get id(){if(!An(this))throw new TypeError("invalid receiver");return Tn(this)}dateFromFields(e,t){if(!An(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid fields");const n=Wi(t);return Fe[Be(this,Ce)].dateFromFields(e,n,this)}yearMonthFromFields(e,t){if(!An(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid fields");const n=Wi(t);return Fe[Be(this,Ce)].yearMonthFromFields(e,n,this)}monthDayFromFields(e,t){if(!An(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid fields");const n=Wi(t);return Fe[Be(this,Ce)].monthDayFromFields(e,n,this)}fields(e){if(!An(this))throw new TypeError("invalid receiver");const t=[],n=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const r of e){if("string"!=typeof r)throw new TypeError("invalid fields");if(!n.has(r))throw new RangeError(`invalid field name ${r}`);n.delete(r),Pe.call(t,r)}return Fe[Be(this,Ce)].fields(t)}mergeFields(e,t){if(!An(this))throw new TypeError("invalid receiver");return Fe[Be(this,Ce)].mergeFields(e,t)}dateAdd(e,t,n){if(!An(this))throw new TypeError("invalid receiver");const r=Tr(e),o=Sr(t),i=tr(Wi(n)),{days:s}=ii(Be(o,be),Be(o,_e),Be(o,Ee),Be(o,Te),Be(o,ke),Be(o,$e),Be(o,Se),"day");return Fe[Be(this,Ce)].dateAdd(r,Be(o,ge),Be(o,we),Be(o,ve),s,i,this)}dateUntil(e,t,n){if(!An(this))throw new TypeError("invalid receiver");const r=Tr(e),o=Tr(t),i=hr(Wi(n),"auto",["hour","minute","second","millisecond","microsecond","nanosecond"],"day"),{years:s,months:a,weeks:c,days:l}=Fe[Be(this,Ce)].dateUntil(r,o,i);return new(ne("%Temporal.Duration%"))(s,a,c,l,0,0,0,0,0,0)}year(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");return qn(t)||(t=Tr(t)),Fe[Be(this,Ce)].year(t)}month(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");if(Fn(t))throw new TypeError("use monthCode on PlainMonthDay instead");return qn(t)||(t=Tr(t)),Fe[Be(this,Ce)].month(t)}monthCode(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");return qn(t)||Fn(t)||(t=Tr(t)),Fe[Be(this,Ce)].monthCode(t)}day(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");return Fn(t)||(t=Tr(t)),Fe[Be(this,Ce)].day(t)}era(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");return qn(t)||(t=Tr(t)),Fe[Be(this,Ce)].era(t)}eraYear(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");return qn(t)||(t=Tr(t)),Fe[Be(this,Ce)].eraYear(t)}dayOfWeek(e){if(!An(this))throw new TypeError("invalid receiver");const t=Tr(e);return Fe[Be(this,Ce)].dayOfWeek(t)}dayOfYear(e){if(!An(this))throw new TypeError("invalid receiver");const t=Tr(e);return Fe[Be(this,Ce)].dayOfYear(t)}weekOfYear(e){if(!An(this))throw new TypeError("invalid receiver");const t=Tr(e);return Fe[Be(this,Ce)].weekOfYear(t)}daysInWeek(e){if(!An(this))throw new TypeError("invalid receiver");const t=Tr(e);return Fe[Be(this,Ce)].daysInWeek(t)}daysInMonth(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");return qn(t)||(t=Tr(t)),Fe[Be(this,Ce)].daysInMonth(t)}daysInYear(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");return qn(t)||(t=Tr(t)),Fe[Be(this,Ce)].daysInYear(t)}monthsInYear(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");return qn(t)||(t=Tr(t)),Fe[Be(this,Ce)].monthsInYear(t)}inLeapYear(e){let t=e;if(!An(this))throw new TypeError("invalid receiver");return qn(t)||(t=Tr(t)),Fe[Be(this,Ce)].inLeapYear(t)}toString(){if(!An(this))throw new TypeError("invalid receiver");return Be(this,Ce)}toJSON(){if(!An(this))throw new TypeError("invalid receiver");return Tn(this)}static from(e){return co(e)}}function Ue(e){if(!e.startsWith("M"))throw new RangeError(`Invalid month code: ${e}.  Month codes must start with M.`);const t=+e.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${e}`);return t}function We(e,t=!1){return`M${e.toString().padStart(2,"0")}${t?"L":""}`}function Ze(e,t,n=12){let{month:r,monthCode:o}=e;if(void 0===o){if(void 0===r)throw new TypeError("Either month or monthCode are required");"reject"===t&&ui(r,1,n),"constrain"===t&&(r=li(r,1,n)),o=We(r)}else{const e=Ue(o);if(void 0!==r&&r!==e)throw new RangeError(`monthCode ${o} and month ${r} must match if both are present`);if(o!==We(e))throw new RangeError(`Invalid month code: ${o}`);if(r=e,r<1||r>n)throw new RangeError(`Invalid monthCode: ${o}`)}return{...e,month:r,monthCode:o}}ee(ze,"Temporal.Calendar"),te("Temporal.Calendar.from",ze.from),Fe.iso8601={dateFromFields(e,t,n){const r=tr(t);let o=gr(e,[["day"],["month",void 0],["monthCode",void 0],["year"]]);o=Ze(o);let{year:i,month:s,day:a}=o;return({year:i,month:s,day:a}=Jn(i,s,a,r)),Mr(i,s,a,n)},yearMonthFromFields(e,t,n){const r=tr(t);let o=gr(e,[["month",void 0],["monthCode",void 0],["year"]]);o=Ze(o);let{year:i,month:s}=o;return({year:i,month:s}=function(e,t,n){let r=e,o=t;switch(n){case"reject":di(r,o,1);break;case"constrain":({year:r,month:o}=hi(r,o))}return{year:r,month:o}}(i,s,r)),Yr(i,s,n,1)},monthDayFromFields(e,t,n){const r=tr(t);let o=gr(e,[["day"],["month",void 0],["monthCode",void 0],["year",void 0]]);if(void 0!==o.month&&void 0===o.year&&void 0===o.monthCode)throw new TypeError("either year or monthCode required with month");const i=void 0===o.monthCode;o=Ze(o);let{month:s,day:a,year:c}=o;return({month:s,day:a}=Jn(i?c:1972,s,a,r)),Lr(s,a,n,1972)},fields:e=>e,mergeFields(e,t){const n={};for(const t of qe(e))"month"!==t&&"monthCode"!==t&&(n[t]=e[t]);const r=qe(t);for(const e of r)n[e]=t[e];if(!Me.call(r,"month")&&!Me.call(r,"monthCode")){const{month:t,monthCode:r}=e;void 0!==t&&(n.month=t),void 0!==r&&(n.monthCode=r)}return n},dateAdd(e,t,n,r,o,i,s){let a=Be(e,ie),c=Be(e,se),l=Be(e,ae);return({year:a,month:c,day:l}=ki(a,c,l,t,n,r,o,i)),Mr(a,c,l,s)},dateUntil:(e,t,n)=>vi(Be(e,ie),Be(e,se),Be(e,ae),Be(t,ie),Be(t,se),Be(t,ae),n),year:e=>Be(e,ie),era(){},eraYear(){},month:e=>Be(e,se),monthCode:e=>We(Be(e,se)),day:e=>Be(e,ae),dayOfWeek:e=>Vo(Be(e,ie),Be(e,se),Be(e,ae)),dayOfYear:e=>Jo(Be(e,ie),Be(e,se),Be(e,ae)),weekOfYear:e=>function(e,t,n){const r=Jo(e,t,n),o=Vo(e,t,n)||7,i=Vo(e,1,1),s=Ht((r-o+10)/7);return s<1?5===i||6===i&&Ko(e-1)?53:52:53===s&&(Ko(e)?366:365)-r<4-o?1:s}(Be(e,ie),Be(e,se),Be(e,ae)),daysInWeek:()=>7,daysInMonth:e=>Go(Be(e,ie),Be(e,se)),daysInYear(e){let t=e;return Oe(t,ie)||(t=Tr(t)),Ko(Be(t,ie))?366:365},monthsInYear:()=>12,inLeapYear(e){let t=e;return Oe(t,ie)||(t=Tr(t)),Ko(Be(t,ie))}};class He{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==e){let t=0;for(const n of e.map.entries()){if(++t>He.MAX_CACHE_ENTRIES)break;this.map.set(...n)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(He.objectMap.get(e))throw new RangeError("object already cached");He.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=He.objectMap.get(e);return t||(t=new He,He.objectMap.set(e,t)),t}}function Ke({isoYear:e,isoMonth:t,isoDay:n}){return`${So(e)}-${Co(t)}-${Co(n)}T00:00Z`}function Ge(e,t){return{years:e.year-t.year,months:e.month-t.month,days:e.day-t.day}}He.objectMap=new WeakMap,He.MAX_CACHE_ENTRIES=1e3;class Ve{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return void 0===this.formatter&&(this.formatter=new Ae(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){const{year:n,month:r,day:o}=e,i=JSON.stringify({func:"isoToCalendarDate",isoYear:n,isoMonth:r,isoDay:o,id:this.id}),s=t.get(i);if(s)return s;const a=this.getFormatter();let c,l;try{l=Ke({isoYear:n,isoMonth:r,isoDay:o}),c=a.formatToParts(new Date(l))}catch(e){throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:n,isoMonth:r,isoDay:o})}`)}const h={};for(let{type:e,value:t}of c){if("year"===e&&(h.eraYear=+t),"relatedYear"===e&&(h.eraYear=+t),"month"===e){const e=/^([0-9]*)(.*?)$/.exec(t);if(!e||3!=e.length||!e[1]&&!e[2])throw new RangeError(`Unexpected month: ${t}`);if(h.month=e[1]?+e[1]:1,h.month<1)throw new RangeError(`Invalid month ${t} from ${l}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(h.month>13)throw new RangeError(`Invalid month ${t} from ${l}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);e[2]&&(h.monthExtra=e[2])}"day"===e&&(h.day=+t),this.hasEra&&"era"===e&&null!=t&&""!==t&&(t=t.split(" (")[0],h.era=t.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===h.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:t,eraYear:n}=this.reviseIntlEra(h,e);h.era=t,h.eraYear=n}this.checkIcuBugs&&this.checkIcuBugs(e);const u=this.adjustCalendarDate(h,t,"constrain",!0);if(void 0===u.year)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(void 0===u.month)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(void 0===u.day)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(i,u),["constrain","reject"].forEach((n=>{const r=JSON.stringify({func:"calendarToIsoDate",year:u.year,month:u.month,day:u.day,overflow:n,id:this.id});t.set(r,e)})),u}validateCalendarDate(e){const{era:t,month:n,year:r,day:o,eraYear:i,monthCode:s,monthExtra:a}=e;if(void 0!==a)throw new RangeError("Unexpected `monthExtra` value");if(void 0===r&&void 0===i)throw new TypeError("year or eraYear is required");if(void 0===n&&void 0===s)throw new TypeError("month or monthCode is required");if(void 0===o)throw new RangeError("Missing day");if(void 0!==s){if("string"!=typeof s)throw new RangeError("monthCode must be a string, not "+typeof s);if(!/^M([01]?\d)(L?)$/.test(s))throw new RangeError(`Invalid monthCode: ${s}`)}if(this.constantEra){if(void 0!==t&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(void 0!==i&&void 0!==r&&i!==r)throw new RangeError(`eraYear ${i} does not match year ${r}`)}}adjustCalendarDate(e,t,n="constrain",r=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let o=e;if(this.validateCalendarDate(o),this.constantEra){const{year:e,eraYear:t}=o;o={...o,era:this.constantEra,year:void 0!==e?e:t,eraYear:void 0!==t?t:e}}const i=this.monthsInYear(o,t);let{month:s,monthCode:a}=o;return({month:s,monthCode:a}=Ze(o,n,i)),{...o,month:s,monthCode:a}}regulateMonthDayNaive(e,t,n){const r=this.monthsInYear(e,n);let{month:o,day:i}=e;return"reject"===t?(ui(o,1,r),ui(i,1,this.maximumMonthLength(e))):(o=li(o,1,r),i=li(i,1,this.maximumMonthLength({...e,month:o}))),{...e,month:o,day:i}}calendarToIsoDate(e,t="constrain",n){const r=e;let o=this.adjustCalendarDate(e,n,t,!1);o=this.regulateMonthDayNaive(o,t,n);const{year:i,month:s,day:a}=o,c=JSON.stringify({func:"calendarToIsoDate",year:i,month:s,day:a,overflow:t,id:this.id});let l,h=n.get(c);if(h)return h;if(void 0!==r.year&&void 0!==r.month&&void 0!==r.day&&(r.year!==o.year||r.month!==o.month||r.day!==o.day)&&(l=JSON.stringify({func:"calendarToIsoDate",year:r.year,month:r.month,day:r.day,overflow:t,id:this.id}),h=n.get(l),h))return h;let u=this.estimateIsoDate({year:i,month:s,day:a});const d=e=>{let r=this.addDaysIso(u,e);if(o.day>this.minimumMonthLength(o)){let e=this.isoToCalendarDate(r,n);for(;e.month!==s||e.year!==i;){if("reject"===t)throw new RangeError(`day ${a} does not exist in month ${s} of year ${i}`);r=this.addDaysIso(r,-1),e=this.isoToCalendarDate(r,n)}}return r};let f=0,m=this.isoToCalendarDate(u,n),p=Ge(o,m);if(0!==p.years||0!==p.months||0!==p.days){const e=365*p.years+30*p.months+p.days;u=this.addDaysIso(u,e),m=this.isoToCalendarDate(u,n),p=Ge(o,m),0===p.years&&0===p.months?u=d(p.days):f=this.compareCalendarDates(o,m)}let y=8,g=!1;for(;f;){u=this.addDaysIso(u,f*y);const e=m;m=this.isoToCalendarDate(u,n);const i=f;if(f=this.compareCalendarDates(o,m),f)if(p=Ge(o,m),0===p.years&&0===p.months)u=d(p.days),f=0,g=o.day>this.minimumMonthLength(o);else if(i&&f!==i)if(y>1)y/=2;else{if("reject"===t)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...r})}`);this.compareCalendarDates(m,e)>0&&(u=this.addDaysIso(u,-1)),g=!0,f=0}}if(n.set(c,u),l&&n.set(l,u),void 0===o.year||void 0===o.month||void 0===o.day||void 0===o.monthCode||this.hasEra&&(void 0===o.era||void 0===o.eraYear))throw new RangeError("Unexpected missing property");if(!g){const e=JSON.stringify({func:"isoToCalendarDate",isoYear:u.year,isoMonth:u.month,isoDay:u.day,id:this.id});n.set(e,o)}return u}temporalToCalendarDate(e,t){const n={year:Be(e,ie),month:Be(e,se),day:Be(e,ae)};return this.isoToCalendarDate(n,t)}compareCalendarDates(e,t){const n=gr(e,[["day"],["month"],["year"]]),r=gr(t,[["day"],["month"],["year"]]);return n.year!==r.year?Ui(n.year-r.year):n.month!==r.month?Ui(n.month-r.month):n.day!==r.day?Ui(n.day-r.day):0}regulateDate(e,t="constrain",n){const r=this.calendarToIsoDate(e,t,n);return this.isoToCalendarDate(r,n)}addDaysIso(e,t){return ki(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,n){const r=this.calendarToIsoDate(e,"constrain",n),o=this.addDaysIso(r,t);return this.isoToCalendarDate(o,n)}addMonthsCalendar(e,t,n,r){let o=e;const{day:i}=o;for(let e=0,n=Le(t);e<n;e++){const{month:e}=o,n=o,s=t<0?-Math.max(i,this.daysInPreviousMonth(o,r)):this.daysInMonth(o,r),a=this.calendarToIsoDate(o,"constrain",r);let c=this.addDaysIso(a,s);if(o=this.isoToCalendarDate(c,r),t>0){const t=this.monthsInYear(n,r);for(;o.month-1!=e%t;)c=this.addDaysIso(c,-1),o=this.isoToCalendarDate(c,r)}o.day!==i&&(o=this.regulateDate({...o,day:i},"constrain",r))}if("reject"===n&&o.day!==i)throw new RangeError(`Day ${i} does not exist in resulting calendar month`);return o}addCalendar(e,{years:t=0,months:n=0,weeks:r=0,days:o=0},i,s){const{year:a,month:c,day:l}=e,h=this.addMonthsCalendar({year:a+t,month:c,day:l},n,i,s),u=o+7*r;return this.addDaysCalendar(h,u,s)}untilCalendar(e,t,n,r){let o=0,i=0,s=0,a=0;switch(n){case"day":o=this.calendarDaysUntil(e,t,r);break;case"week":{const n=this.calendarDaysUntil(e,t,r);o=n%7,i=(n-o)/7;break}case"month":case"year":{const i=t.year-e.year,c=t.month-e.month,l=t.day-e.day,h=this.compareCalendarDates(t,e);"year"===n&&i&&(a=c*h<0||0===c&&l*h<0?i-h:i);let u,d=a?this.addCalendar(e,{years:a},"constrain",r):e;do{s+=h,u=d,d=this.addMonthsCalendar(u,h,"constrain",r),d.day!==e.day&&(d=this.regulateDate({...d,day:e.day},"constrain",r))}while(this.compareCalendarDates(t,d)*h>=0);s-=h,o=this.calendarDaysUntil(u,t,r);break}}return{years:a,months:s,weeks:i,days:o}}daysInMonth(e,t){const{day:n}=e,r=this.maximumMonthLength(e),o=this.minimumMonthLength(e);if(o===r)return o;const i=n<=r-o?r:o,s=this.calendarToIsoDate(e,"constrain",t),a=this.addDaysIso(s,i),c=this.isoToCalendarDate(a,t),l=this.addDaysIso(a,-c.day);return this.isoToCalendarDate(l,t).day}daysInPreviousMonth(e,t){const{day:n,month:r,year:o}=e;let i={year:r>1?o:o-1,month:r,day:1};const s=r>1?r-1:this.monthsInYear(i,t);i={...i,month:s};const a=this.minimumMonthLength(i),c=this.maximumMonthLength(i);if(a===c)return c;const l=this.calendarToIsoDate(e,"constrain",t),h=this.addDaysIso(l,-n);return this.isoToCalendarDate(h,t).day}startOfCalendarYear(e){return{year:e.year,month:1,day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,n){const r=this.calendarToIsoDate(e,"constrain",n),o=this.calendarToIsoDate(t,"constrain",n);return this.isoDaysUntil(r,o)}isoDaysUntil(e,t){return vi(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,n){let r,o,i,s,a,{year:c,month:l,monthCode:h,day:u,era:d,eraYear:f}=e;if(void 0===h){if(void 0===c&&(void 0===d||void 0===f))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:h,year:c}=this.adjustCalendarDate({year:c,month:l,monthCode:h,day:u,era:d,eraYear:f},n,t))}const{year:m}=this.isoToCalendarDate({year:1972,month:1,day:1},n);for(let e=0;e<100;e++){const c=this.adjustCalendarDate({day:u,monthCode:h,year:m-e},n),l=this.calendarToIsoDate(c,"constrain",n),d=this.isoToCalendarDate(l,n);if(({year:r,month:o,day:i}=l),d.monthCode===h&&d.day===u)return{month:o,day:i,year:r};"constrain"===t&&(void 0===s||d.monthCode===s.monthCode&&d.day>s.day)&&(s=d,a=l)}if("constrain"===t&&void 0!==a)return a;throw new RangeError(`No recent ${this.id} year with monthCode ${h} and day ${u}`)}}class Je extends Ve{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:n,year:r}=e,o=this.getMonthCode(r,n),i=Ye(this.months).find((e=>e[1].monthCode===o));if(void 0===i)throw new RangeError(`unmatched Hebrew month: ${n}`);const s=i[1].days;return"number"==typeof s?s:s[t]}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?6===t?We(5,!0):We(t<6?t:t-1):We(t)}adjustCalendarDate(e,t,n="constrain",r=!1){let{year:o,eraYear:i,month:s,monthCode:a,day:c,monthExtra:l}=e;if(void 0===o&&void 0!==i&&(o=i),void 0===i&&void 0!==o&&(i=o),r){if(l){const e=this.months[l];if(!e)throw new RangeError(`Unrecognized month from formatToParts: ${l}`);s=this.inLeapYear({year:o})?e.leap:e.regular}return a=this.getMonthCode(o,s),{year:o,month:s,day:c,era:void 0,eraYear:i,monthCode:a}}if(this.validateCalendarDate(e),void 0===s)if(a.endsWith("L")){if("M05L"!==a)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${a}`);if(s=6,!this.inLeapYear({year:o})){if("reject"===n)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${o} which is not a leap year`);s=5,c=30,a="M05"}}else{s=Ue(a),this.inLeapYear({year:o})&&s>6&&s++;const e=this.monthsInYear({year:o});if(s<1||s>e)throw new RangeError(`Invalid monthCode: ${a}`)}else if("reject"===n?(ui(s,1,this.monthsInYear({year:o})),ui(c,1,this.maximumMonthLength({year:o,month:s}))):(s=li(s,1,this.monthsInYear({year:o})),c=li(c,1,this.maximumMonthLength({year:o,month:s}))),void 0===a)a=this.getMonthCode(o,s);else if(this.getMonthCode(o,s)!==a)throw new RangeError(`monthCode ${a} doesn't correspond to month ${s} in Hebrew year ${o}`);return{...e,day:c,month:s,monthCode:a,year:o,eraYear:i}}}class Xe extends Ve{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return 30===this.daysInMonth({year:e.year,month:12,day:1},t)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:je(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class Qe extends Xe{constructor(){super(...arguments),this.id="islamic"}}class et extends Xe{constructor(){super(...arguments),this.id="islamic-umalqura"}}class tt extends Xe{constructor(){super(...arguments),this.id="islamic-tbla"}}class nt extends Xe{constructor(){super(...arguments),this.id="islamic-civil"}}class rt extends Xe{constructor(){super(...arguments),this.id="islamic-rgsa"}}class ot extends Xe{constructor(){super(...arguments),this.id="islamicc"}}class it extends Ve{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return Qe.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return 12===t?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return 12===t?30:t<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class st extends Ve{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(e){return at(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:t}=e;let n=this.months[t];if(void 0===n)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&n.leap&&(n=n.leap),n}estimateIsoDate(e){const t=this.adjustCalendarDate(e),n=this.getMonthInfo(t);return ki(t.year+78+(n.nextYear?1:0),n.month,n.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function at(e){return e%4==0&&(e%100!=0||e%400==0)}class ct extends Ve{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:n,anchorEra:r}=function(e){let t,n=e;if(0===n.length)throw new RangeError("Invalid era data: eras are required");if(1===n.length&&n[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===n.length&&!n[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(n.filter((e=>null!=e.reverseOf)).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");n.forEach((e=>{if(e.isAnchor||!e.anchorEpoch&&!e.reverseOf){if(t)throw new RangeError("Invalid era data: cannot have multiple anchor eras");t=e,e.anchorEpoch={year:e.hasYearZero?0:1}}else if(!e.name)throw new RangeError("If era name is blank, it must be the anchor era")})),n=n.filter((e=>e.name)),n.forEach((e=>{const{reverseOf:t}=e;if(t){const r=n.find((e=>e.name===t));if(void 0===r)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${t}`);e.reverseOf=r,e.anchorEpoch=r.anchorEpoch,e.isoEpoch=r.isoEpoch}void 0===e.anchorEpoch.month&&(e.anchorEpoch.month=1),void 0===e.anchorEpoch.day&&(e.anchorEpoch.day=1)})),Ne.call(n,((e,t)=>{if(e.reverseOf)return 1;if(t.reverseOf)return-1;if(!e.isoEpoch||!t.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return t.isoEpoch.year-e.isoEpoch.year}));const r=n[n.length-1].reverseOf;if(r&&r!==n[n.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return n.forEach(((e,t)=>{e.genericName="era"+(n.length-1-t)})),{eras:n,anchorEra:t||n[0]}}(t);this.anchorEra=r,this.eras=n}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return at(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return 2===t?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const t=(t,n)=>{const r=e[t];if(null!=r&&r!=n)throw new RangeError(`Input ${t} ${r} doesn't match calculated value ${n}`)},n=t=>{let n;const r={...e,year:t},o=this.eras.find(((e,o)=>{if(o===this.eras.length-1){if(e.reverseOf){if(t>0)throw new RangeError(`Signed year ${t} is invalid for era ${e.name}`);return n=e.anchorEpoch.year-t,!0}return n=t-e.anchorEpoch.year+(e.hasYearZero?0:1),!0}return this.compareCalendarDates(r,e.anchorEpoch)>=0&&(n=t-e.anchorEpoch.year+(e.hasYearZero?0:1),!0)}));if(!o)throw new RangeError(`Year ${t} was not matched by any era`);return{eraYear:n,era:o.name}};let{year:r,eraYear:o,era:i}=e;if(null!=r)({eraYear:o,era:i}=n(r)),t("era",i),t("eraYear",o);else{if(null==o)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const e=void 0===i?void 0:this.eras.find((e=>e.name===i||e.genericName===i));if(!e)throw new RangeError(`Era ${i} (ISO year ${o}) was not matched by any era`);if(o<1&&e.reverseOf)throw new RangeError(`Years in ${i} era must be positive, not ${r}`);r=e.reverseOf?e.anchorEpoch.year-o:o+e.anchorEpoch.year-(e.hasYearZero?0:1),t("year",r),({eraYear:o,era:i}=n(r))}}return{...e,year:r,eraYear:o,era:i}}adjustCalendarDate(e,t,n="constrain"){let r=e;const{month:o,monthCode:i}=r;return void 0===o&&(r={...r,month:Ue(i)}),this.validateCalendarDate(r),r=this.completeEraYear(r),super.adjustCalendarDate(r,t,n)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:n,month:r,day:o}=t,{anchorEra:i}=this;return Jn(n+i.isoEpoch.year-(i.hasYearZero?0:1),r,o,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&ji(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class lt extends ct{constructor(e,t){super(e,t)}inLeapYear(e){const{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:t}=e;return 13===t?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class ht extends lt{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class ut extends lt{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class dt extends lt{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class ft extends ct{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class mt extends ct{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class pt extends ct{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:n}=e;return"bc"!==t&&"b"!==t||(t="bce"),"ad"!==t&&"a"!==t||(t="ce"),{era:t,eraYear:n}}}class yt extends ct{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(e,t){const{era:n,eraYear:r}=e,{year:o}=t;return this.eras.find((e=>e.name===n))?{era:n,eraYear:r}:o<1?{era:"bce",eraYear:1-o}:{era:"ce",eraYear:o}}}class gt extends Ve{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){const n=this.getMonthList(e.year,t);return 13===Ye(n).length}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(void 0===e)throw new TypeError("Missing year");const n=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),r=t.get(n);if(r)return r;const o=this.getFormatter(),i=(e,t)=>{const n=Ke({isoYear:e,isoMonth:2,isoDay:1}),r=new Date(n);r.setUTCDate(t+1);const i=o.formatToParts(r),s=i.find((e=>"month"===e.type)).value,a=+i.find((e=>"day"===e.type)).value;let c=i.find((e=>"relatedYear"===e.type));if(void 0===c)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return c=+c.value,{calendarMonthString:s,calendarDay:a,calendarYearToVerify:c}};let s=17,{calendarMonthString:a,calendarDay:c,calendarYearToVerify:l}=i(e,s);"1"!==a&&(s+=29,({calendarMonthString:a,calendarDay:c}=i(e,s))),s-=c-5;const h={};let u,d,f=1,m=!1;do{({calendarMonthString:a,calendarDay:c,calendarYearToVerify:l}=i(e,s)),u&&(h[d].daysInMonth=u+30-c),l!==e?m=!0:(h[a]={monthIndex:f++},s+=30),u=c,d=a}while(!m);return h[d].daysInMonth=u+30-c,t.set(n,h),h}estimateIsoDate(e){const{year:t,month:n}=e;return{year:t,month:n>=12?12:n+1,day:1}}adjustCalendarDate(e,t,n="constrain",r=!1){let{year:o,month:i,monthExtra:s,day:a,monthCode:c,eraYear:l}=e;if(r){if(o=l,s&&"bis"!==s)throw new RangeError(`Unexpected leap month suffix: ${s}`);const e=We(i,void 0!==s),n=`${i}${s||""}`,r=this.getMonthList(o,t)[n];if(void 0===r)throw new RangeError(`Unmatched month ${n} in Chinese year ${o}`);return i=r.monthIndex,{year:o,month:i,day:a,era:void 0,eraYear:l,monthCode:e}}if(this.validateCalendarDate(e),void 0===o&&(o=l),void 0===l&&(l=o),void 0===i){const e=this.getMonthList(o,t);let r=c.replace("L","bis").slice(1);"0"===r[0]&&(r=r.slice(1));let s=e[r];if(i=s&&s.monthIndex,void 0===i&&c.endsWith("L")&&!Me.call(["M01L","M12L","M13L"],c)&&"constrain"===n){let t=c.slice(1,-1);"0"===t[0]&&(t=t.slice(1)),s=e[t],s&&(({daysInMonth:a,monthIndex:i}=s),c=We(t))}if(void 0===i)throw new RangeError(`Unmatched month ${c} in Chinese year ${o}`)}else if(void 0===c){const e=this.getMonthList(o,t),r=Ye(e),s=r.length;"reject"===n?(ui(i,1,s),ui(a,1,this.maximumMonthLength())):(i=li(i,1,s),a=li(a,1,this.maximumMonthLength()));const l=r.find((([,e])=>e.monthIndex===i));if(void 0===l)throw new RangeError(`Invalid month ${i} in Chinese year ${o}`);c=We(l[0].replace("bis",""),-1!==l[0].indexOf("bis"))}else{const e=this.getMonthList(o,t);let n=c.replace("L","bis").slice(1);"0"===n[0]&&(n=n.slice(1));const r=e[n];if(!r)throw new RangeError(`Unmatched monthCode ${c} in Chinese year ${o}`);if(i!==r.monthIndex)throw new RangeError(`monthCode ${c} doesn't correspond to month ${i} in Chinese year ${o}`)}return{...e,year:o,eraYear:l,month:i,monthCode:c,day:a}}}class wt extends gt{constructor(){super(...arguments),this.id="chinese"}}class vt extends gt{constructor(){super(...arguments),this.id="dangi"}}const bt={helper:void 0,dateFromFields(e,t,n){const r=tr(t),o=new He,i=gr(e,[["day"],["era",void 0],["eraYear",void 0],["month",void 0],["monthCode",void 0],["year",void 0]]),{year:s,month:a,day:c}=this.helper.calendarToIsoDate(i,r,o),l=Mr(s,a,c,n);return o.setObject(l),l},yearMonthFromFields(e,t,n){const r=tr(t),o=new He,i=gr(e,[["era",void 0],["eraYear",void 0],["month",void 0],["monthCode",void 0],["year",void 0]]),{year:s,month:a,day:c}=this.helper.calendarToIsoDate({...i,day:1},r,o),l=Yr(s,a,n,c);return o.setObject(l),l},monthDayFromFields(e,t,n){const r=tr(t),o=new He,i=gr(e,[["day"],["era",void 0],["eraYear",void 0],["month",void 0],["monthCode",void 0],["year",void 0]]),{year:s,month:a,day:c}=this.helper.monthDayFromFields(i,r,o),l=Lr(a,c,n,s);return o.setObject(l),l},fields(e){let t=e;return Me.call(t,"year")&&(t=[...t,"era","eraYear"]),t},mergeFields(e,t){const n={...e},r={...t},{month:o,monthCode:i,year:s,era:a,eraYear:c,...l}=n,{month:h,monthCode:u,year:d,era:f,eraYear:m}=r;return void 0===h&&void 0===u&&(l.month=o,l.monthCode=i),void 0===d&&void 0===f&&void 0===m&&(l.year=s),{...l,...r}},dateAdd(e,t,n,r,o,i,s){const a=He.getCacheForObject(e),c=this.helper.temporalToCalendarDate(e,a),l=this.helper.addCalendar(c,{years:t,months:n,weeks:r,days:o},i,a),h=this.helper.calendarToIsoDate(l,"constrain",a),{year:u,month:d,day:f}=h,m=Mr(u,d,f,s);return new He(a).setObject(m),m},dateUntil(e,t,n){const r=He.getCacheForObject(e),o=He.getCacheForObject(t),i=this.helper.temporalToCalendarDate(e,r),s=this.helper.temporalToCalendarDate(t,o);return this.helper.untilCalendar(i,s,n,r)},year(e){const t=He.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).year},month(e){const t=He.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).month},day(e){const t=He.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).day},era(e){if(!this.helper.hasEra)return;const t=He.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).era},eraYear(e){if(!this.helper.hasEra)return;const t=He.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).eraYear},monthCode(e){const t=He.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).monthCode},dayOfWeek:e=>Fe.iso8601.dayOfWeek(e),dayOfYear(e){const t=He.getCacheForObject(e),n=this.helper.isoToCalendarDate(e,t),r=this.helper.startOfCalendarYear(n);return this.helper.calendarDaysUntil(r,n,t)+1},weekOfYear:e=>Fe.iso8601.weekOfYear(e),daysInWeek:e=>Fe.iso8601.daysInWeek(e),daysInMonth(e){const t=He.getCacheForObject(e),n=this.helper.temporalToCalendarDate(e,t),r=this.helper.maximumMonthLength(n);if(r===this.helper.minimumMonthLength(n))return r;const o=this.helper.startOfCalendarMonth(n),i=this.helper.addMonthsCalendar(o,1,"constrain",t);return this.helper.calendarDaysUntil(o,i,t)},daysInYear(e){let t=e;Oe(t,ie)||(t=Tr(t));const n=He.getCacheForObject(t),r=this.helper.temporalToCalendarDate(t,n),o=this.helper.startOfCalendarYear(r),i=this.helper.addCalendar(o,{years:1},"constrain",n);return this.helper.calendarDaysUntil(o,i,n)},monthsInYear(e){const t=He.getCacheForObject(e),n=this.helper.temporalToCalendarDate(e,t);return this.helper.monthsInYear(n,t)},inLeapYear(e){let t=e;Oe(t,ie)||(t=Tr(t));const n=He.getCacheForObject(t),r=this.helper.temporalToCalendarDate(t,n);return this.helper.inLeapYear(r,n)}};for(const e of[Je,it,dt,ht,ut,wt,vt,ft,st,mt,pt,yt,Qe,et,tt,nt,rt,ot]){const t=new e;Fe[t.id]={...bt,helper:t}}const _t=Object.keys(Fe);function Et(e){return Me.call(_t,e)}const Tt=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,kt=new RegExp(`(?:(?:${Tt.source})(?:\\/(?:${Tt.source}))*|Etc/GMT[-+]\\d{1,2}|${/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source})`),$t=/[A-Za-z0-9]{3,8}/,St=new RegExp(`(?:${$t.source}(?:-${$t.source})*)`),Ct=/(?:[+\u2212-]\d{6}|\d{4})/,Dt=/(?:0[1-9]|1[0-2])/,It=/(?:0[1-9]|[12]\d|3[01])/,xt=new RegExp(`(${Ct.source})(?:-(${Dt.source})-(${It.source})|(${Dt.source})(${It.source}))`),Ot=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,Bt=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,Rt=new RegExp(`(?:([zZ])|(?:${Bt.source})?)(?:\\[(${kt.source})\\])?`),Mt=new RegExp(`\\[u-ca=(${St.source})\\]`),Pt=new RegExp(`^${xt.source}(?:(?:T|\\s+)${Ot.source})?${Rt.source}(?:${Mt.source})?$`,"i"),At=new RegExp(`^T?${Ot.source}(?:${Rt.source})?(?:${Mt.source})?$`,"i"),Nt=new RegExp(`^(${Ct.source})-?(${Dt.source})$`),Lt=new RegExp(`^(?:--)?(${Dt.source})-?(${It.source})$`),jt=/(\d+)(?:[.,](\d{1,9}))?/,Yt=new RegExp(`(?:${jt.source}H)?(?:${jt.source}M)?(?:${jt.source}S)?`),qt=new RegExp(`^([+-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Yt.source})?$`,"i"),Ft=Array.prototype.push,zt=globalThis.Intl.DateTimeFormat,Ut=Math.min,Wt=Math.max,Zt=Math.abs,Ht=Math.floor,Kt=Math.sign,Gt=Math.trunc,Vt=Number.isNaN,Jt=Number.isFinite,Xt=Number,Qt=String,en=Number.MAX_SAFE_INTEGER,tn=Object.create,nn=Object.is,rn=Reflect.apply,on=X.BigInt(0),sn=X.BigInt(1),an=X.BigInt(60),cn=X.BigInt(1e3),ln=X.BigInt(1e6),hn=X.BigInt(1e9),un=X.BigInt(-1),dn=X.multiply(X.BigInt(86400),hn),fn=X.multiply(X.BigInt(-86400),X.BigInt(1e17)),mn=X.multiply(X.BigInt(86400),X.BigInt(1e17)),pn=X.multiply(X.BigInt(-388152),X.BigInt(1e13)),yn=X.multiply(dn,X.BigInt(3660)),gn=X.multiply(dn,X.BigInt(366)),wn=X.multiply(dn,X.BigInt(14));function vn(e){if("number"!=typeof e||!Jt(e))return!1;const t=Zt(e);return Ht(t)===t}function bn(e){return"object"==typeof e&&null!==e||"function"==typeof e}function _n(e){if("bigint"==typeof e)throw new TypeError("Cannot convert BigInt to number");return Xt(e)}function En(e){const t=_n(e);if(Vt(t))return 0;const n=Gt(t);return 0===t?0:n}function Tn(e){if("symbol"==typeof e)throw new TypeError("Cannot convert a Symbol value to a String");return Qt(e)}function kn(e){const t=En(e);if(!Jt(t))throw new RangeError("infinity is out of range");return t}function $n(e,t){const n=En(e);if(!Jt(n))throw new RangeError("infinity is out of range");if(n<1){if(void 0!==t)throw new RangeError(`property '${t}' cannot be a a number less than one`);throw new RangeError("Cannot convert a number less than one to a positive integer")}return n}function Sn(e){const t=_n(e);if(Vt(t))return 0;if(!Jt(t))throw new RangeError("infinity is out of range");if(!vn(t))throw new RangeError(`unsupported fractional value ${t}`);return En(t)}function Cn(e,t){return{quotient:X.divide(e,t),remainder:X.remainder(e,t)}}function Dn(e){return X.lessThan(e,on)?X.multiply(e,un):e}const In=new Map([["year",kn],["month",$n],["monthCode",Tn],["day",$n],["hour",kn],["minute",kn],["second",kn],["millisecond",kn],["microsecond",kn],["nanosecond",kn],["years",Sn],["months",Sn],["weeks",Sn],["days",Sn],["hours",Sn],["minutes",Sn],["seconds",Sn],["milliseconds",Sn],["microseconds",Sn],["nanoseconds",Sn],["era",Tn],["eraYear",En],["offset",Tn]]),xn=["year","month","week","day","hour","minute","second","millisecond","microsecond","nanosecond"],On=[["years","year"],["months","month"],["weeks","week"],["days","day"],["hours","hour"],["minutes","minute"],["seconds","second"],["milliseconds","millisecond"],["microseconds","microsecond"],["nanoseconds","nanosecond"]],Bn=new Map;function Rn(e){let t=Bn.get(e);return void 0===t&&(t=new zt("en-us",{timeZone:Qt(e),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Bn.set(e,t)),t}function Mn(e){return Oe(e,re)&&!Oe(e,ye,me)}function Pn(e){return Oe(e,oe)}function An(e){return Oe(e,Ce)}function Nn(e){return Oe(e,ge,we,be,_e,Ee,Te,ke,$e,Se)}function Ln(e){return Oe(e,"slot-date-brand")}function jn(e){return Oe(e,ce,le,he,ue,de,fe)&&!Oe(e,ie,se,ae)}function Yn(e){return Oe(e,ie,se,ae,ce,le,he,ue,de,fe)}function qn(e){return Oe(e,"slot-year-month-brand")}function Fn(e){return Oe(e,"slot-month-day-brand")}function zn(e){return Oe(e,re,ye,me)}function Un(e){if(Oe(e,me)||Oe(e,ye))throw new TypeError("with() does not support a calendar or timeZone property");if(void 0!==e.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==e.timeZone)throw new TypeError("with() does not support a timeZone property")}function Wn(e){let{ianaName:t,offset:n,z:r}=function(e){try{let t=Lo(e);if(t)return t=t.toString(),Ao(t)?{offset:t}:{ianaName:t}}catch{}try{const t=Hn(e);if(t.z||t.offset||t.ianaName)return t}catch{}throw new RangeError(`Invalid time zone: ${e}`)}(e);return t||(r?"UTC":n)}function Zn(e,t){return"never"===t||"auto"===t&&"iso8601"===e?"":`[u-ca=${e}]`}function Hn(e){const t=Pt.exec(e);if(!t)throw new RangeError(`invalid ISO 8601 string: ${e}`);let n=t[1];if(""===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${e}`);const r=En(n),o=En(t[2]||t[4]),i=En(t[3]||t[5]),s=En(t[6]),a=void 0!==t[6],c=En(t[7]||t[10]);let l=En(t[8]||t[11]);60===l&&(l=59);const h=(t[9]||t[12])+"000000000",u=En(h.slice(0,3)),d=En(h.slice(3,6)),f=En(h.slice(6,9));let m,p=!1;if(t[13])m=void 0,p=!0;else if(t[14]&&t[15]){const e="-"===t[14]||""===t[14]?"-":"+",n=t[15]||"00",r=t[16]||"00",o=t[17]||"00";let i=t[18]||"0";if(m=`${e}${n}:${r}`,+i){for(;i.endsWith("0");)i=i.slice(0,-1);m+=`:${o}.${i}`}else+o&&(m+=`:${o}`);"-00:00"===m&&(m="+00:00")}let y=t[19];if(y)try{y=Lo(y).toString()}catch{}return{year:r,month:o,day:i,hasTime:a,hour:s,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:f,ianaName:y,offset:m,z:p,calendar:t[20]}}function Kn(e){const t=Nt.exec(e);let n,r,o,i;if(t){let i=t[1];if(""===i[0]&&(i=`-${i.slice(1)}`),"-000000"===i)throw new RangeError(`invalid ISO 8601 string: ${e}`);n=En(i),r=En(t[2]),o=t[3]}else{let t;if(({year:n,month:r,calendar:o,day:i,z:t}=Hn(e)),t)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:r,calendar:o,referenceISODay:i}}function Gn(e){const t=Lt.exec(e);let n,r,o,i;if(t)n=En(t[1]),r=En(t[2]);else{let t;if(({month:n,day:r,calendar:o,year:i,z:t}=Hn(e)),t)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:r,calendar:o,referenceISOYear:i}}function Vn(e){const t=qt.exec(e);if(!t)throw new RangeError(`invalid duration: ${e}`);if(t.slice(2).every((e=>void 0===e)))throw new RangeError(`invalid duration: ${e}`);const n="-"===t[1]||""===t[1]?-1:1,r=En(t[2])*n,o=En(t[3])*n,i=En(t[4])*n,s=En(t[5])*n,a=En(t[6])*n;let c=t[7],l=En(t[8])*n,h=t[9],u=En(t[10])*n;const d=t[11]+"000000000";let f=En(d.slice(0,3))*n,m=En(d.slice(3,6))*n,p=En(d.slice(6,9))*n;return c=c?n*En(c)/10**c.length:0,h=h?n*En(h)/10**h.length:0,({minutes:l,seconds:u,milliseconds:f,microseconds:m,nanoseconds:p}=function(e,t,n,r,o,i,s){let a=e,c=t,l=n,h=r,u=o,d=i,f=s;if(0!==a){[c,l,h,u,d,f].forEach((e=>{if(0!==e)throw new RangeError("only the smallest unit can be fractional")}));const e=60*a;c=Gt(e),l=e%1}if(0!==l){[h,u,d,f].forEach((e=>{if(0!==e)throw new RangeError("only the smallest unit can be fractional")}));const e=60*l;h=Gt(e);const t=e%1;if(0!==t){const e=1e3*t;u=Gt(e);const n=e%1;if(0!==n){const e=1e3*n;d=Gt(e);const t=e%1;0!==t&&(f=Gt(1e3*t))}}}return{minutes:c,seconds:h,milliseconds:u,microseconds:d,nanoseconds:f}}(c,l,h,u,f,m,p)),{years:r,months:o,weeks:i,days:s,hours:a,minutes:l,seconds:u,milliseconds:f,microseconds:m,nanoseconds:p}}function Jn(e,t,n,r){let o=e,i=t,s=n;switch(r){case"reject":di(o,i,s);break;case"constrain":({year:o,month:i,day:s}=hi(o,i,s))}return{year:o,month:i,day:s}}function Xn(e,t,n,r,o,i,s){let a=e,c=t,l=n,h=r,u=o,d=i;switch(s){case"reject":mi(a,c,l,h,u,d);break;case"constrain":({hour:a,minute:c,second:l,millisecond:h,microsecond:u,nanosecond:d}=function(e,t,n,r,o,i){return{hour:li(e,0,23),minute:li(t,0,59),second:li(n,0,59),millisecond:li(r,0,999),microsecond:li(o,0,999),nanosecond:li(i,0,999)}}(a,c,l,h,u,d))}return{hour:a,minute:c,second:l,millisecond:h,microsecond:u,nanosecond:d}}function Qn(e){if(Nn(e))return{years:Be(e,ge),months:Be(e,we),weeks:Be(e,ve),days:Be(e,be),hours:Be(e,_e),minutes:Be(e,Ee),seconds:Be(e,Te),milliseconds:Be(e,ke),microseconds:Be(e,$e),nanoseconds:Be(e,Se)};const t=yr(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"]);if(!t)throw new TypeError("invalid duration-like");const{years:n=0,months:r=0,weeks:o=0,days:i=0,hours:s=0,minutes:a=0,seconds:c=0,milliseconds:l=0,microseconds:h=0,nanoseconds:u=0}=t;return{years:n,months:r,weeks:o,days:i,hours:s,minutes:a,seconds:c,milliseconds:l,microseconds:h,nanoseconds:u}}function er(e,t=[]){let n;n=bn(e)?Qn(e):Vn(Tn(e));const{years:r,months:o,weeks:i,days:s,hours:a,minutes:c,seconds:l,milliseconds:h,microseconds:u,nanoseconds:d}=n;wi(r,o,i,s,a,c,l,h,u,d);for(const e of t)if(0!==n[e])throw new RangeError(`Duration field ${e} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return n}function tr(e){return Hi(e,"overflow",["constrain","reject"],"constrain")}function nr(e){return Hi(e,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function rr(e,t){return Hi(e,"roundingMode",["ceil","floor","trunc","halfExpand"],t)}function or(e){switch(e){case"ceil":return"floor";case"floor":return"ceil";default:return e}}function ir(e,t){return Hi(e,"offset",["prefer","use","ignore","reject"],t)}function sr(e){return Hi(e,"calendarName",["auto","always","never"],"auto")}function ar(e,t,n){let r=1/0;void 0!==t&&(r=t),n||void 0===t||(r=t>1?t-1:1);const o=function(e,t,n,r,o){let i=e[t];if(void 0===i)return o;const s=_n(i);if(Vt(s)||s<n||s>r)throw new RangeError(`${t} must be between ${n} and ${r}, not ${s}`);return Ht(s)}(e,"roundingIncrement",1,r,1);if(void 0!==t&&t%o!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`);return o}function cr(e,t){return ar(e,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[t],!1)}function lr(e){switch(ur(e,void 0,["year","month","week","day","hour"])){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let t=e.fractionalSecondDigits;if(void 0===t&&(t="auto"),"number"!=typeof t){const e=Tn(t);if("auto"===e)return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}if(Vt(t)||t<0||t>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);const n=Ht(t);switch(n){case 0:return{precision:n,unit:"second",increment:1};case 1:case 2:case 3:return{precision:n,unit:"millisecond",increment:10**(3-n)};case 4:case 5:case 6:return{precision:n,unit:"microsecond",increment:10**(6-n)};case 7:case 8:case 9:return{precision:n,unit:"nanosecond",increment:10**(9-n)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}function hr(e,t,n=[],r){const o=new Map(On.filter((([,e])=>!n.includes(e)))),i=new Set(xn);for(const e of n)i.delete(e);const s=Hi(e,"largestUnit",["auto",...i,...o.keys()],t);return"auto"===s&&void 0!==r?r:o.has(s)?o.get(s):s}function ur(e,t,n=[]){const r=new Map(On.filter((([,e])=>!n.includes(e)))),o=new Set(xn);for(const e of n)o.delete(e);const i=Hi(e,"smallestUnit",[...o,...r.keys()],t);return r.has(i)?r.get(i):i}function dr(e){const t=e.relativeTo;if(void 0===t)return t;let n,r,o,i,s,a,c,l,h,u,d,f,m="option",p=!1;if(bn(t)){if(zn(t)||Ln(t))return t;if(Yn(t))return wo(t);u=lo(t);const e=vr(t,Ur(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"])),p=tn(null);p.overflow="constrain",({year:n,month:r,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h}=kr(u,e,p)),f=t.offset,void 0===f&&(m="wall"),d=t.timeZone}else{let e,y;({year:n,month:r,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h,calendar:u,ianaName:e,offset:f,z:y}=Hn(Tn(t))),e&&(d=e),y?m="exact":f||(m="wall"),u||(u=zr()),u=co(u),p=!0}if(d){d=yo(d);let e=0;return"option"===m&&(e=No(Tn(f))),Fr(Or(n,r,o,i,s,a,c,l,h,m,e,d,"compatible","reject",p),d,u)}return Mr(n,r,o,u)}function fr(e,t){if(xn.indexOf(e)>xn.indexOf(t))throw new RangeError(`largestUnit ${e} cannot be smaller than smallestUnit ${t}`)}function mr(e,t,n,r,o,i,s,a,c,l){const h=new Map(On);for(const[u,d]of[["years",e],["months",t],["weeks",n],["days",r],["hours",o],["minutes",i],["seconds",s],["milliseconds",a],["microseconds",c],["nanoseconds",l]])if(0!==d)return h.get(u);return"nanosecond"}function pr(e,t){return xn.indexOf(e)>xn.indexOf(t)?t:e}function yr(e,t){const n=e,r=t;let o=!1,i={};for(const e of r){const t=n[e];void 0!==t&&(o=!0,In.has(e)?i[e]=In.get(e)(t):i[e]=t)}return!!o&&i}function gr(e,t){const n=e,r=t,o={};let i=!1;for(const e of r){const[t,r]=e;let s=n[t];if(void 0===s){if(1===e.length)throw new TypeError(`required property '${t}' missing or undefined`);s=r}else i=!0,In.has(t)&&(s=In.get(t)(s));o[t]=s}if(!i)throw new TypeError("no supported properties found");if(void 0===o.era!=(void 0===o.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return o}function wr(e,t){const n=[["day",void 0],["month",void 0],["monthCode",void 0],["year",void 0]];return t.forEach((e=>{n.some((([t])=>t===e))||n.push([e,void 0])})),gr(e,n)}function vr(e,t){const n=[["day",void 0],["hour",0],["microsecond",0],["millisecond",0],["minute",0],["month",void 0],["monthCode",void 0],["nanosecond",0],["second",0],["year",void 0]];return t.forEach((e=>{n.some((([t])=>t===e))||n.push([e,void 0])})),gr(e,n)}function br(e,t){const n=[["day",void 0],["month",void 0],["monthCode",void 0],["year",void 0]];return t.forEach((e=>{n.some((([t])=>t===e))||n.push([e,void 0])})),gr(e,n)}function _r(e){return gr(e,[["hour",0],["microsecond",0],["millisecond",0],["minute",0],["nanosecond",0],["second",0]])}function Er(e,t){const n=[["month",void 0],["monthCode",void 0],["year",void 0]];return t.forEach((e=>{n.some((([t])=>t===e))||n.push([e,void 0])})),gr(e,n)}function Tr(e,t=tn(null)){let n=e;if(bn(n)){if(Ln(n))return n;if(zn(n)&&(n=Eo(Be(n,ye),Be(n,pe),Be(n,me))),Yn(n))return Mr(Be(n,ie),Be(n,se),Be(n,ae),Be(n,me));const e=lo(n);return fo(e,wr(n,Ur(e,["day","month","monthCode","year"])),t)}tr(t);const{year:r,month:o,day:i,calendar:s,z:a}=function(e){return Hn(e)}(Tn(n));if(a)throw new RangeError("Z designator not supported for PlainDate");return new(ne("%Temporal.PlainDate%"))(r,o,i,s)}function kr(e,t,n){let{hour:r,minute:o,second:i,millisecond:s,microsecond:a,nanosecond:c}=_r(t);const l=tr(n),h=fo(e,t,n),u=Be(h,ie),d=Be(h,se),f=Be(h,ae);return({hour:r,minute:o,second:i,millisecond:s,microsecond:a,nanosecond:c}=Xn(r,o,i,s,a,c,l)),{year:u,month:d,day:f,hour:r,minute:o,second:i,millisecond:s,microsecond:a,nanosecond:c}}function $r(e,t=tn(null)){let n,r,o,i,s,a,c,l,h,u;if(bn(e)){if(Yn(e))return e;if(zn(e))return Eo(Be(e,ye),Be(e,pe),Be(e,me));if(Ln(e))return Ar(Be(e,ie),Be(e,se),Be(e,ae),0,0,0,0,0,0,Be(e,me));u=lo(e);const d=vr(e,Ur(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]));({year:n,month:r,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h}=kr(u,d,t))}else{let d;if(tr(t),({year:n,month:r,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h,calendar:u,z:d}=function(e){return Hn(e)}(Tn(e))),d)throw new RangeError("Z designator not supported for PlainDateTime");pi(n,r,o,i,s,a,c,l,h),void 0===u&&(u=zr()),u=co(u)}return Ar(n,r,o,i,s,a,c,l,h,u)}function Sr(e){let t,n,r,o,i,s,a,c,l,h;if(bn(e)){if(Nn(e))return e;({years:t,months:n,weeks:r,days:o,hours:i,minutes:s,seconds:a,milliseconds:c,microseconds:l,nanoseconds:h}=Qn(e))}else({years:t,months:n,weeks:r,days:o,hours:i,minutes:s,seconds:a,milliseconds:c,microseconds:l,nanoseconds:h}=Vn(Tn(e)));return new(ne("%Temporal.Duration%"))(t,n,r,o,i,s,a,c,l,h)}function Cr(e){if(Mn(e))return e;if(zn(e))return new(ne("%Temporal.Instant%"))(Be(e,re));const t=function(e){const{year:t,month:n,day:r,hour:o,minute:i,second:s,millisecond:a,microsecond:c,nanosecond:l,offset:h,z:u}=function(e){const t=Hn(e);if(!t.z&&!t.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return t}(e),d=Fo(t,n,r,o,i,s,a,c,l);if(null===d)throw new RangeError("DateTime outside of supported range");const f=u?0:No(h);return X.subtract(d,X.BigInt(f))}(Tn(e));return new(ne("%Temporal.Instant%"))(t)}function Dr(e,t=tn(null)){if(bn(e)){if(Fn(e))return e;let n,r;if(Oe(e,me))n=Be(e,me),r=!1;else{let t=e.calendar;r=void 0===t,void 0===t&&(t=zr()),n=co(t)}const o=br(e,Ur(n,["day","month","monthCode","year"]));return r&&void 0!==o.month&&void 0===o.monthCode&&void 0===o.year&&(o.year=1972),po(n,o,t)}tr(t);let{month:n,day:r,referenceISOYear:o,calendar:i}=Gn(Tn(e)),s=i;return void 0===s&&(s=zr()),s=co(s),void 0===o?(di(1972,n,r),Lr(n,r,s)):po(s,Lr(n,r,s,o),tn(null))}function Ir(e,t="constrain"){let n,r,o,i,s,a,c,l=e;if(bn(l)){if(jn(l))return l;if(zn(l)&&(l=Eo(Be(l,ye),Be(l,pe),Be(l,me))),Yn(l))return new(ne("%Temporal.PlainTime%"))(Be(l,ce),Be(l,le),Be(l,he),Be(l,ue),Be(l,de),Be(l,fe));if(c=lo(l),"iso8601"!==Tn(c))throw new RangeError("PlainTime can only have iso8601 calendar");({hour:n,minute:r,second:o,millisecond:i,microsecond:s,nanosecond:a}=_r(l)),({hour:n,minute:r,second:o,millisecond:i,microsecond:s,nanosecond:a}=Xn(n,r,o,i,s,a,t))}else if(({hour:n,minute:r,second:o,millisecond:i,microsecond:s,nanosecond:a,calendar:c}=function(e){const t=At.exec(e);let n,r,o,i,s,a,c;if(t){n=En(t[1]),r=En(t[2]||t[5]),o=En(t[3]||t[6]),60===o&&(o=59);const e=(t[4]||t[7])+"000000000";i=En(e.slice(0,3)),s=En(e.slice(3,6)),a=En(e.slice(6,9)),c=t[15]}else{let t,l;if(({hasTime:l,hour:n,minute:r,second:o,millisecond:i,microsecond:s,nanosecond:a,calendar:c,z:t}=Hn(e)),!l)throw new RangeError(`time is missing in string: ${e}`);if(t)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(e))return{hour:n,minute:r,second:o,millisecond:i,microsecond:s,nanosecond:a,calendar:c};try{const{month:t,day:n}=Gn(e);di(1972,t,n)}catch{try{const{year:t,month:n}=Kn(e);di(t,n,1)}catch{return{hour:n,minute:r,second:o,millisecond:i,microsecond:s,nanosecond:a,calendar:c}}}throw new RangeError(`invalid ISO 8601 time-only string ${e}; may need a T prefix`)}(Tn(l))),mi(n,r,o,i,s,a),void 0!==c&&"iso8601"!==c)throw new RangeError("PlainTime can only have iso8601 calendar");return new(ne("%Temporal.PlainTime%"))(n,r,o,i,s,a)}function xr(e,t=tn(null)){if(bn(e)){if(qn(e))return e;const n=lo(e);return mo(n,Er(e,Ur(n,["month","monthCode","year"])),t)}tr(t);let{year:n,month:r,referenceISODay:o,calendar:i}=Kn(Tn(e)),s=i;return void 0===s&&(s=zr()),s=co(s),void 0===o?(di(n,r,1),Yr(n,r,s)):mo(s,Yr(n,r,s,o),tn(null))}function Or(e,t,n,r,o,i,s,a,c,l,h,u,d,f,m){const p=new(ne("%Temporal.PlainDateTime%"))(e,t,n,r,o,i,s,a,c);if("wall"===l||"ignore"===f)return Be(To(u,p,d),re);if("exact"===l||"use"===f){const l=Fo(e,t,n,r,o,i,s,a,c);if(null===l)throw new RangeError("ZonedDateTime outside of supported range");return X.subtract(l,X.BigInt(h))}const y=$o(u,p);for(const e of y){const t=bo(u,e),n=X.toNumber(xi(X.BigInt(t),6e10,"halfExpand"));if(t===h||m&&n===h)return Be(e,re)}if("reject"===f){const e=Yo(h),t=Pn(u)?Be(u,oe):"time zone";throw new RangeError(`Offset ${e} is invalid for ${p.toString()} in ${t}`)}return Be(ko(y,u,p,d),re)}function Br(e,t=tn(null)){let n,r,o,i,s,a,c,l,h,u,d,f,m=!1,p="option";if(bn(e)){if(zn(e))return e;f=lo(e);const m=function(e,t){const n=[["day",void 0],["hour",0],["microsecond",0],["millisecond",0],["minute",0],["month",void 0],["monthCode",void 0],["nanosecond",0],["second",0],["year",void 0],["offset",void 0],["timeZone"]];return t.forEach((e=>{n.some((([t])=>t===e))||n.push([e,void 0])})),gr(e,n)}(e,Ur(f,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]));({year:n,month:r,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h}=kr(f,m,t)),u=yo(m.timeZone),d=m.offset,void 0===d?p="wall":d=Tn(d)}else{let y,g;if(tr(t),({year:n,month:r,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h,ianaName:y,offset:d,z:g,calendar:f}=function(e){const t=Hn(e);if(!t.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return t}(Tn(e))),!y)throw new RangeError("time zone ID required in brackets");g?p="exact":d||(p="wall"),u=new(ne("%Temporal.TimeZone%"))(y),f||(f=zr()),f=co(f),m=!0}let y=0;return"option"===p&&(y=No(d)),Fr(Or(n,r,o,i,s,a,c,l,h,p,y,u,nr(t),ir(t,"reject"),m),u,f)}function Rr(e,t,n,r,o){di(t,n,r),fi(t,n,r),Ie(e),Re(e,ie,t),Re(e,se,n),Re(e,ae,r),Re(e,me,o),Re(e,"slot-date-brand",!0)}function Mr(e,t,n,r=zr()){const o=ne("%Temporal.PlainDate%"),i=tn(o.prototype);return Rr(i,e,t,n,r),i}function Pr(e,t,n,r,o,i,s,a,c,l,h){pi(t,n,r,o,i,s,a,c,l),yi(t,n,r,o,i,s,a,c,l),Ie(e),Re(e,ie,t),Re(e,se,n),Re(e,ae,r),Re(e,ce,o),Re(e,le,i),Re(e,he,s),Re(e,ue,a),Re(e,de,c),Re(e,fe,l),Re(e,me,h)}function Ar(e,t,n,r,o,i,s,a,c,l=zr()){const h=ne("%Temporal.PlainDateTime%"),u=tn(h.prototype);return Pr(u,e,t,n,r,o,i,s,a,c,l),u}function Nr(e,t,n,r,o){di(o,t,n),fi(o,t,n),Ie(e),Re(e,se,t),Re(e,ae,n),Re(e,ie,o),Re(e,me,r),Re(e,"slot-month-day-brand",!0)}function Lr(e,t,n=zr(),r=1972){const o=ne("%Temporal.PlainMonthDay%"),i=tn(o.prototype);return Nr(i,e,t,n,r),i}function jr(e,t,n,r,o){di(t,n,o),function(e,t){ui(e,-271821,275760),-271821===e?ui(t,4,12):275760===e&&ui(t,1,9)}(t,n),Ie(e),Re(e,ie,t),Re(e,se,n),Re(e,ae,o),Re(e,me,r),Re(e,"slot-year-month-brand",!0)}function Yr(e,t,n=zr(),r=1){const o=ne("%Temporal.PlainYearMonth%"),i=tn(o.prototype);return jr(i,e,t,n,r),i}function qr(e,t,n,r){gi(t),Ie(e),Re(e,re,t),Re(e,ye,n),Re(e,me,r);const o=new(ne("%Temporal.Instant%"))(Be(e,re));Re(e,pe,o)}function Fr(e,t,n=zr()){const r=ne("%Temporal.ZonedDateTime%"),o=tn(r.prototype);return qr(o,e,t,n),o}function zr(){return new(ne("%Temporal.Calendar%"))("iso8601")}function Ur(e,t){let n=t;e.fields&&(n=e.fields(n));const r=[];for(const e of n){if("string"!=typeof e)throw new TypeError("bad return from calendar.fields()");Ft.call(r,e)}return r}function Wr(e,t,n){const r=e.mergeFields;if(!r)return{...t,...n};const o=Reflect.apply(r,e,[t,n]);if(!bn(o))throw new TypeError("bad return from calendar.mergeFields()");return o}function Zr(e,t,n,r,o){let i=o;void 0===i&&(i=e.dateAdd);const s=rn(i,e,[t,n,r]);if(!Ln(s))throw new TypeError("invalid result");return s}function Hr(e,t,n,r,o){let i=o;void 0===i&&(i=e.dateUntil);const s=rn(i,e,[t,n,r]);if(!Nn(s))throw new TypeError("invalid result");return s}function Kr(e,t){const n=e.year(t);if(void 0===n)throw new RangeError("calendar year result must be an integer");return kn(n)}function Gr(e,t){const n=e.month(t);if(void 0===n)throw new RangeError("calendar month result must be a positive integer");return $n(n)}function Vr(e,t){const n=e.monthCode(t);if(void 0===n)throw new RangeError("calendar monthCode result must be a string");return Tn(n)}function Jr(e,t){const n=e.day(t);if(void 0===n)throw new RangeError("calendar day result must be a positive integer");return $n(n)}function Xr(e,t){let n=e.era(t);return void 0!==n&&(n=Tn(n)),n}function Qr(e,t){let n=e.eraYear(t);return void 0!==n&&(n=kn(n)),n}function eo(e,t){return e.dayOfWeek(t)}function to(e,t){return e.dayOfYear(t)}function no(e,t){return e.weekOfYear(t)}function ro(e,t){return e.daysInWeek(t)}function oo(e,t){return e.daysInMonth(t)}function io(e,t){return e.daysInYear(t)}function so(e,t){return e.monthsInYear(t)}function ao(e,t){return e.inLeapYear(t)}function co(e){let t=e;if(bn(t)){if(Oe(t,me))return Be(t,me);if(!("calendar"in t))return t;if(t=t.calendar,bn(t)&&!("calendar"in t))return t}const n=Tn(t),r=ne("%Temporal.Calendar%");if(Et(n))return new r(n);let o;try{({calendar:o}=Hn(n))}catch{throw new RangeError(`Invalid calendar: ${n}`)}return o||(o="iso8601"),new r(o)}function lo(e){if(Oe(e,me))return Be(e,me);const{calendar:t}=e;return void 0===t?zr():co(t)}function ho(e,t){return e===t||Tn(e)===Tn(t)}function uo(e,t){if(e===t)return t;const n=Tn(e),r=Tn(t);if(n===r||"iso8601"===n)return t;if("iso8601"===r)return e;throw new RangeError("irreconcilable calendars")}function fo(e,t,n){const r=e.dateFromFields(t,n);if(!Ln(r))throw new TypeError("invalid result");return r}function mo(e,t,n){const r=e.yearMonthFromFields(t,n);if(!qn(r))throw new TypeError("invalid result");return r}function po(e,t,n){const r=e.monthDayFromFields(t,n);if(!Fn(r))throw new TypeError("invalid result");return r}function yo(e){let t=e;if(bn(t)){if(zn(t))return Be(t,ye);if(!("timeZone"in t))return t;if(t=t.timeZone,bn(t)&&!("timeZone"in t))return t}const n=Wn(Tn(t));return new(ne("%Temporal.TimeZone%"))(n)}function go(e,t){return e===t||Tn(e)===Tn(t)}function wo(e){return Mr(Be(e,ie),Be(e,se),Be(e,ae),Be(e,me))}function vo(e){return new(ne("%Temporal.PlainTime%"))(Be(e,ce),Be(e,le),Be(e,he),Be(e,ue),Be(e,de),Be(e,fe))}function bo(e,t){let n=e.getOffsetNanosecondsFor;if("function"!=typeof n)throw new TypeError("getOffsetNanosecondsFor not callable");const r=Reflect.apply(n,e,[t]);if("number"!=typeof r)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!vn(r)||Zt(r)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return r}function _o(e,t){return Yo(bo(e,t))}function Eo(e,t,n){const r=Be(t,re),o=bo(e,t);let{year:i,month:s,day:a,hour:c,minute:l,second:h,millisecond:u,microsecond:d,nanosecond:f}=zo(r);return({year:i,month:s,day:a,hour:c,minute:l,second:h,millisecond:u,microsecond:d,nanosecond:f}=ti(i,s,a,c,l,h,u,d,f+o)),Ar(i,s,a,c,l,h,u,d,f,n)}function To(e,t,n){return ko($o(e,t),e,t,n)}function ko(e,t,n,r){const o=ne("%Temporal.Instant%"),i=e.length;if(1===i)return e[0];if(i)switch(r){case"compatible":case"earlier":return e[0];case"later":return e[i-1];case"reject":throw new RangeError("multiple instants found")}const s=Be(n,ie),a=Be(n,se),c=Be(n,ae),l=Be(n,ce),h=Be(n,le),u=Be(n,he),d=Be(n,ue),f=Be(n,de),m=Be(n,fe),p=Fo(s,a,c,l,h,u,d,f,m);if(null===p)throw new RangeError("DateTime outside of supported range");const y=new o(X.subtract(p,dn)),g=new o(X.add(p,dn)),w=bo(t,y),v=bo(t,g)-w;switch(r){case"earlier":{const e=Be(n,me),r=ne("%Temporal.PlainDateTime%"),o=Di(s,a,c,l,h,u,d,f,m,e,0,0,0,0,0,0,0,0,0,-v,void 0);return $o(t,new r(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond,o.microsecond,o.nanosecond,e))[0]}case"compatible":case"later":{const e=Be(n,me),r=ne("%Temporal.PlainDateTime%"),o=Di(s,a,c,l,h,u,d,f,m,e,0,0,0,0,0,0,0,0,0,v,void 0),i=$o(t,new r(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond,o.microsecond,o.nanosecond,e));return i[i.length-1]}case"reject":throw new RangeError("no such instant found")}}function $o(e,t){const n=e.getPossibleInstantsFor(t),r=[];for(const e of n){if(!Mn(e))throw new TypeError("bad return from getPossibleInstantsFor");Ft.call(r,e)}return r}function So(e){let t;return t=e<1e3||e>9999?(e<0?"-":"+")+`000000${Zt(e)}`.slice(-6):`${e}`,t}function Co(e){return`00${e}`.slice(-2)}function Do(e,t,n,r,o){if("minute"===o)return"";const i=`:${Co(e)}`;let s,a=1e6*t+1e3*n+r;if("auto"===o){if(0===a)return i;for(s=`${a}`.padStart(9,"0");"0"===s[s.length-1];)s=s.slice(0,-1)}else{if(0===o)return i;s=`${a}`.padStart(9,"0").slice(0,o)}return`${i}.${s}`}function Io(e,t,n){let r=t;void 0===r&&(r=new(ne("%Temporal.TimeZone%"))("UTC"));const o=Eo(r,e,zr()),i=So(Be(o,ie)),s=Co(Be(o,se)),a=Co(Be(o,ae)),c=Co(Be(o,ce)),l=Co(Be(o,le)),h=Do(Be(o,he),Be(o,ue),Be(o,de),Be(o,fe),n);let u="Z";return void 0!==t&&(u=qo(bo(r,e))),`${i}-${s}-${a}T${c}:${l}${h}${u}`}function xo(e,t="auto",n){function r(e){return e<=en?e.toString(10):X.BigInt(e).toString(10)}const o=Be(e,ge),i=Be(e,we),s=Be(e,ve),a=Be(e,be),c=Be(e,_e),l=Be(e,Ee);let h=Be(e,Te),u=Be(e,ke),d=Be(e,$e),f=Be(e,Se);const m=Xo(o,i,s,a,c,l,h,u,d,f);if(n){const{unit:e,increment:t,roundingMode:r}=n;({seconds:h,milliseconds:u,microseconds:d,nanoseconds:f}=Li(0,0,0,0,0,0,h,u,d,f,t,e,r))}const p=[];o&&p.push(`${r(Zt(o))}Y`),i&&p.push(`${r(Zt(i))}M`),s&&p.push(`${r(Zt(s))}W`),a&&p.push(`${r(Zt(a))}D`);const y=[];c&&y.push(`${r(Zt(c))}H`),l&&y.push(`${r(Zt(l))}M`);const g=[];let w,v,b,_,E=ri(0,0,0,h,u,d,f,0);({quotient:E,remainder:w}=Cn(E,cn)),({quotient:E,remainder:v}=Cn(E,cn)),({quotient:_,remainder:b}=Cn(E,cn));const T=1e6*Zt(X.toNumber(b))+1e3*Zt(X.toNumber(v))+Zt(X.toNumber(w));let k;if("auto"===t){if(0!==T)for(k=`${T}`.padStart(9,"0");"0"===k[k.length-1];)k=k.slice(0,-1)}else 0!==t&&(k=`${T}`.padStart(9,"0").slice(0,t));return k&&g.unshift(".",k),X.equal(_,on)&&!g.length&&"auto"===t||g.unshift(Dn(_).toString()),g.length&&y.push(`${g.join("")}S`),y.length&&y.unshift("T"),p.length||y.length?`${m<0?"-":""}P${p.join("")}${y.join("")}`:"PT0S"}function Oo(e,t="auto"){return`${So(Be(e,ie))}-${Co(Be(e,se))}-${Co(Be(e,ae))}${Zn(Tn(Be(e,me)),t)}`}function Bo(e,t,n="auto",r){let o=Be(e,ie),i=Be(e,se),s=Be(e,ae),a=Be(e,ce),c=Be(e,le),l=Be(e,he),h=Be(e,ue),u=Be(e,de),d=Be(e,fe);if(r){const{unit:e,increment:t,roundingMode:n}=r;({year:o,month:i,day:s,hour:a,minute:c,second:l,millisecond:h,microsecond:u,nanosecond:d}=Bi(o,i,s,a,c,l,h,u,d,t,e,n))}return`${So(o)}-${Co(i)}-${Co(s)}T${Co(a)}:${Co(c)}${Do(l,h,u,d,t)}${Zn(Tn(Be(e,me)),n)}`}function Ro(e,t="auto"){let n=`${Co(Be(e,se))}-${Co(Be(e,ae))}`;const r=Tn(Be(e,me));"iso8601"!==r&&(n=`${So(Be(e,ie))}-${n}`);const o=Zn(r,t);return o&&(n+=o),n}function Mo(e,t="auto"){let n=`${So(Be(e,ie))}-${Co(Be(e,se))}`;const r=Tn(Be(e,me));"iso8601"!==r&&(n+=`-${Co(Be(e,ae))}`);const o=Zn(r,t);return o&&(n+=o),n}function Po(e,t,n="auto",r="auto",o="auto",i){let s=Be(e,pe);if(i){const{unit:t,increment:n,roundingMode:r}=i,o=Oi(Be(e,re),n,t,r);s=new(ne("%Temporal.Instant%"))(o)}const a=Be(e,ye),c=Eo(a,s,zr());let l=`${So(Be(c,ie))}-${Co(Be(c,se))}-${Co(Be(c,ae))}T${Co(Be(c,ce))}:${Co(Be(c,le))}${Do(Be(c,he),Be(c,ue),Be(c,de),Be(c,fe),t)}`;return"never"!==o&&(l+=qo(bo(a,s))),"never"!==r&&(l+=`[${a}]`),l+=Zn(Tn(Be(e,me)),n),l}function Ao(e){return Ki.test(Qt(e))}function No(e){const t=Ki.exec(Qt(e));if(!t)throw new RangeError(`invalid time zone offset: ${e}`);return("-"===t[1]||""===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function Lo(e){return Ao(e)?Yo(No(e)):Rn(Qt(e)).resolvedOptions().timeZone}function jo(e,t){const{year:n,month:r,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h}=Uo(e,t),u=Fo(n,r,o,i,s,a,c,l,h);if(null===u)throw new RangeError("Date outside of supported range");return X.toNumber(X.subtract(u,e))}function Yo(e){const t=e<0?"-":"+",n=Zt(e),r=n%1e9,o=Ht(n/1e9)%60,i=Ht(n/6e10)%60,s=Co(Ht(n/36e11)),a=Co(i),c=Co(o);let l="";if(r){let e=`${r}`.padStart(9,"0");for(;"0"===e[e.length-1];)e=e.slice(0,-1);l=`:${c}.${e}`}else o&&(l=`:${c}`);return`${t}${s}:${a}${l}`}function qo(e){let t=X.toNumber(xi(X.BigInt(e),6e10,"halfExpand"));const n=t<0?"-":"+";t=Zt(t);const r=t/6e10%60;return`${n}${Co(Ht(t/36e11))}:${Co(r)}`}function Fo(e,t,n,r,o,i,s,a,c){const l=new Date;l.setUTCHours(r,o,i,s),l.setUTCFullYear(e,t-1,n);const h=l.getTime();if(Vt(h))return null;let u=X.multiply(X.BigInt(h),ln);return u=X.add(u,X.multiply(X.BigInt(a),cn)),u=X.add(u,X.BigInt(c)),X.lessThan(u,fn)||X.greaterThan(u,mn)?null:u}function zo(e){const{quotient:t,remainder:n}=Cn(e,ln);let r=X.toNumber(t),o=X.toNumber(n);o<0&&(o+=1e6,r-=1);const i=Ht(o/1e3)%1e3,s=o%1e3,a=new Date(r);return{epochMilliseconds:r,year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds(),microsecond:i,nanosecond:s}}function Uo(e,t){const{epochMilliseconds:n,millisecond:r,microsecond:o,nanosecond:i}=zo(e),{year:s,month:a,day:c,hour:l,minute:h,second:u}=function(e,t){return function(e){const t=e.split(/[^\w]+/);if(7!==t.length)throw new RangeError(`expected 7 parts in "${e}`);const n=+t[0],r=+t[1];let o=+t[2];const i=t[3].toUpperCase();if("B"===i||"BC"===i)o=1-o;else if("A"!==i&&"AD"!==i)throw new RangeError(`Unknown era ${i} in "${e}`);let s=+t[4];24===s&&(s=0);const a=+t[5],c=+t[6];if(!(Jt(o)&&Jt(n)&&Jt(r)&&Jt(s)&&Jt(a)&&Jt(c)))throw new RangeError(`Invalid number in "${e}`);return{year:o,month:n,day:r,hour:s,minute:a,second:c}}(Rn(e).format(new Date(t)))}(t,n);return ti(s,a,c,l,h,u,r,o,i)}function Wo(e,t){return X.lessThan(e,t)?t:e}function Zo(){return X.add(zi(),yn)}function Ho(e,t){const n=Zo(),r=X.greaterThan(e,n),o=r?X.subtract(e,gn):pn;let i=X.subtract(e,sn);const s=jo(i,t);let a=i,c=s;for(;s===c&&X.greaterThan(i,o);)a=X.subtract(i,wn),c=jo(a,t),s===c&&(i=a);return s===c?r?Ho(X.subtract(n,dn),t):null:Gi((e=>jo(e,t)),a,i,c,s)}function Ko(e){return void 0!==e&&!(e%4!=0||e%100==0&&e%400!=0)}function Go(e,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Ko(e)?"leapyear":"standard"][t-1]}function Vo(e,t,n){const r=t+(t<3?10:-2),o=e-(t<3?1:0),i=Ht(o/100),s=o-100*i,a=(n+Ht(2.6*r-.2)+(s+Ht(s/4))+(Ht(i/4)-2*i))%7;return a+(a<=0?7:0)}function Jo(e,t,n){let r=n;for(let n=t-1;n>0;n--)r+=Go(e,n);return r}function Xo(e,t,n,r,o,i,s,a,c,l){for(const h of[e,t,n,r,o,i,s,a,c,l])if(0!==h)return h<0?-1:1;return 0}function Qo(e,t){let n=e,r=t;if(!Jt(n)||!Jt(r))throw new RangeError("infinity is out of range");return r-=1,n+=Ht(r/12),r%=12,r<0&&(r+=12),r+=1,{year:n,month:r}}function ei(e,t,n){let r=e,o=t,i=n;if(!Jt(i))throw new RangeError("infinity is out of range");({year:r,month:o}=Qo(r,o));let s=0,a=o>2?r:r-1;for(;s=Ko(a)?366:365,i<-s;)r-=1,a-=1,i+=s;for(a+=1;s=Ko(a)?366:365,i>s;)r+=1,a+=1,i-=s;for(;i<1;)({year:r,month:o}=Qo(r,o-1)),i+=Go(r,o);for(;i>Go(r,o);)i-=Go(r,o),({year:r,month:o}=Qo(r,o+1));return{year:r,month:o,day:i}}function ti(e,t,n,r,o,i,s,a,c){const{deltaDays:l,hour:h,minute:u,second:d,millisecond:f,microsecond:m,nanosecond:p}=ni(r,o,i,s,a,c),{year:y,month:g,day:w}=ei(e,t,n+l);return{year:y,month:g,day:w,hour:h,minute:u,second:d,millisecond:f,microsecond:m,nanosecond:p}}function ni(e,t,n,r,o,i){let s=e,a=t,c=n,l=r,h=o,u=i;if(!(Jt(s)&&Jt(a)&&Jt(c)&&Jt(l)&&Jt(h)&&Jt(u)))throw new RangeError("infinity is out of range");h+=Ht(u/1e3),u=Yi(u,1e3),l+=Ht(h/1e3),h=Yi(h,1e3),c+=Ht(l/1e3),l=Yi(l,1e3),a+=Ht(c/60),c=Yi(c,60),s+=Ht(a/60),a=Yi(a,60);const d=Ht(s/24);return s=Yi(s,24),{deltaDays:d,hour:s,minute:a,second:c,millisecond:l,microsecond:h,nanosecond:u}}function ri(e,t,n,r,o,i,s,a){const c=X.BigInt(e);let l=X.BigInt(s);0!==e&&(l=X.subtract(X.BigInt(s),X.BigInt(a)));const h=X.add(X.BigInt(t),X.multiply(c,X.BigInt(24))),u=X.add(X.BigInt(n),X.multiply(h,an)),d=X.add(X.BigInt(r),X.multiply(u,an)),f=X.add(X.BigInt(o),X.multiply(d,cn)),m=X.add(X.BigInt(i),X.multiply(f,cn));return X.add(X.BigInt(l),X.multiply(m,cn))}function oi(e,t){const n=ne("%Temporal.Instant%"),r=Kt(X.toNumber(e));let o=X.BigInt(e),i=864e11;if(0===r)return{days:0,nanoseconds:on,dayLengthNs:i};if(!zn(t)){let e;return({quotient:e,remainder:o}=Cn(o,X.BigInt(i))),{days:X.toNumber(e),nanoseconds:o,dayLengthNs:i}}const s=Be(t,re),a=Be(t,pe),c=X.add(s,o),l=new n(c),h=Be(t,ye),u=Be(t,me),d=Eo(h,a,u),f=Eo(h,l,u);let{days:m}=Ei(Be(d,ie),Be(d,se),Be(d,ae),Be(d,ce),Be(d,le),Be(d,he),Be(d,ue),Be(d,de),Be(d,fe),Be(f,ie),Be(f,se),Be(f,ae),Be(f,ce),Be(f,le),Be(f,he),Be(f,ue),Be(f,de),Be(f,fe),u,"day"),p=Ii(a,h,u,0,0,0,m,0,0,0,0,0,0);if(1===r)for(;m>0&&X.greaterThan(p,c);)--m,p=Ii(a,h,u,0,0,0,m,0,0,0,0,0,0);o=X.subtract(c,p);let y=!1,g=new n(p);do{const e=Ii(g,h,u,0,0,0,r,0,0,0,0,0,0),t=Be(g,re);i=X.toNumber(X.subtract(e,t)),y=X.greaterThan(X.multiply(X.subtract(o,X.BigInt(i)),X.BigInt(r)),on),y&&(o=X.subtract(o,X.BigInt(i)),g=new n(e),m+=r)}while(y);return{days:m,nanoseconds:o,dayLengthNs:Zt(i)}}function ii(e,t,n,r,o,i,s,a,c){let l,h,u,d,f,m,p=e;if(zn(c)){const e=Ii(Be(c,pe),Be(c,ye),Be(c,me),0,0,0,p,t,n,r,o,i,s),a=Be(c,re);l=X.subtract(e,a)}else l=ri(p,t,n,r,o,i,s,0);"year"===a||"month"===a||"week"===a||"day"===a?({days:p,nanoseconds:l}=oi(l,c)):p=0;const y=X.lessThan(l,on)?-1:1;switch(l=Dn(l),h=u=d=f=m=on,a){case"year":case"month":case"week":case"day":case"hour":({quotient:h,remainder:l}=Cn(l,cn)),({quotient:u,remainder:h}=Cn(h,cn)),({quotient:d,remainder:u}=Cn(u,cn)),({quotient:f,remainder:d}=Cn(d,an)),({quotient:m,remainder:f}=Cn(f,an));break;case"minute":({quotient:h,remainder:l}=Cn(l,cn)),({quotient:u,remainder:h}=Cn(h,cn)),({quotient:d,remainder:u}=Cn(u,cn)),({quotient:f,remainder:d}=Cn(d,an));break;case"second":({quotient:h,remainder:l}=Cn(l,cn)),({quotient:u,remainder:h}=Cn(h,cn)),({quotient:d,remainder:u}=Cn(u,cn));break;case"millisecond":({quotient:h,remainder:l}=Cn(l,cn)),({quotient:u,remainder:h}=Cn(h,cn));break;case"microsecond":({quotient:h,remainder:l}=Cn(l,cn));break;case"nanosecond":break;default:throw new Error("assert not reached")}return{days:p,hours:X.toNumber(m)*y,minutes:X.toNumber(f)*y,seconds:X.toNumber(d)*y,milliseconds:X.toNumber(u)*y,microseconds:X.toNumber(h)*y,nanoseconds:X.toNumber(l)*y}}function si(e,t,n,r,o,i){let s=e,a=t,c=n,l=r;const h=ne("%Temporal.Duration%"),u=Xo(s,a,c,l,0,0,0,0,0,0);let d,f;i&&(f=Tr(i),d=Be(f,me));const m=new h(u),p=new h(0,u),y=new h(0,0,u);switch(o){case"year":break;case"month":{if(!d)throw new RangeError("a starting point is required for months balancing");const e=d.dateAdd,t=d.dateUntil;let n=f;for(;Zt(s)>0;){const r=Zr(d,n,m,tn(null),e),o=tn(null);o.largestUnit="month";const i=Be(Hr(d,n,r,o,t),we);n=r,a+=i,s-=u}}break;case"week":if(!d)throw new RangeError("a starting point is required for weeks balancing");for(;Zt(s)>0;){let e;({relativeTo:f,days:e}=Pi(d,f,m)),l+=e,s-=u}for(;Zt(a)>0;){let e;({relativeTo:f,days:e}=Pi(d,f,p)),l+=e,a-=u}break;default:for(;Zt(s)>0;){if(!d)throw new RangeError("a starting point is required for balancing calendar units");let e;({relativeTo:f,days:e}=Pi(d,f,m)),l+=e,s-=u}for(;Zt(a)>0;){if(!d)throw new RangeError("a starting point is required for balancing calendar units");let e;({relativeTo:f,days:e}=Pi(d,f,p)),l+=e,a-=u}for(;Zt(c)>0;){if(!d)throw new RangeError("a starting point is required for balancing calendar units");let e;({relativeTo:f,days:e}=Pi(d,f,y)),l+=e,c-=u}}return{years:s,months:a,weeks:c,days:l}}function ai(e,t,n,r,o,i,s,a,c,l,h){if(zn(e)){const u=Be(e,pe),d=Be(e,ye),f=Be(e,me),m=bo(d,u),p=Ii(u,d,f,t,n,r,o,i,s,a,c,l,h);return bo(d,new(ne("%Temporal.Instant%"))(p))-m}return 0}function ci(e){return new(ne("%Temporal.Duration%"))(-Be(e,ge),-Be(e,we),-Be(e,ve),-Be(e,be),-Be(e,_e),-Be(e,Ee),-Be(e,Te),-Be(e,ke),-Be(e,$e),-Be(e,Se))}function li(e,t,n){return Ut(n,Wt(t,e))}function hi(e,t,n){const r=li(t,1,12);return{year:e,month:r,day:li(n,1,Go(e,r))}}function ui(e,t,n){if(e<t||e>n)throw new RangeError(`value out of range: ${t} <= ${e} <= ${n}`)}function di(e,t,n){ui(t,1,12),ui(n,1,Go(e,t))}function fi(e,t,n){yi(e,t,n,12,0,0,0,0,0)}function mi(e,t,n,r,o,i){ui(e,0,23),ui(t,0,59),ui(n,0,59),ui(r,0,999),ui(o,0,999),ui(i,0,999)}function pi(e,t,n,r,o,i,s,a,c){di(e,t,n),mi(r,o,i,s,a,c)}function yi(e,t,n,r,o,i,s,a,c){if(ui(e,-271821,275760),-271821===e&&null==Fo(e,t,n+1,r,o,i,s,a,c-1)||275760===e&&null==Fo(e,t,n-1,r,o,i,s,a,c+1))throw new RangeError("DateTime outside of supported range")}function gi(e){if(X.lessThan(e,fn)||X.greaterThan(e,mn))throw new RangeError("Instant outside of supported range")}function wi(e,t,n,r,o,i,s,a,c,l){const h=Xo(e,t,n,r,o,i,s,a,c,l);for(const u of[e,t,n,r,o,i,s,a,c,l]){if(!Jt(u))throw new RangeError("infinite values not allowed as duration fields");const e=Kt(u);if(0!==e&&e!==h)throw new RangeError("mixed-sign values not allowed as duration fields")}}function vi(e,t,n,r,o,i,s){switch(s){case"year":case"month":{const a=-ji(e,t,n,r,o,i);if(0===a)return{years:0,months:0,weeks:0,days:0};const c={year:e,month:t,day:n},l={year:r,month:o,day:i};let h=l.year-c.year,u=ki(e,t,n,h,0,0,0,"constrain"),d=-ji(u.year,u.month,u.day,r,o,i);if(0===d)return"year"===s?{years:h,months:0,weeks:0,days:0}:{years:0,months:12*h,weeks:0,days:0};let f=l.month-c.month;if(d!==a&&(h-=a,f+=12*a),u=ki(e,t,n,h,f,0,0,"constrain"),d=-ji(u.year,u.month,u.day,r,o,i),0===d)return"year"===s?{years:h,months:f,weeks:0,days:0}:{years:0,months:f+12*h,weeks:0,days:0};d!==a&&(f-=a,f===-a&&(h-=a,f=11*a),u=ki(e,t,n,h,f,0,0,"constrain"),d=-ji(e,t,n,u.year,u.month,u.day));let m=0;return m=u.month===l.month?l.day-u.day:a<0?-u.day-(Go(l.year,l.month)-l.day):l.day+(Go(u.year,u.month)-u.day),"month"===s&&(f+=12*h,h=0),{years:h,months:f,weeks:0,days:m}}case"week":case"day":{let a,c,l;ji(e,t,n,r,o,i)<0?(c={year:e,month:t,day:n},a={year:r,month:o,day:i},l=1):(c={year:r,month:o,day:i},a={year:e,month:t,day:n},l=-1);let h=Jo(a.year,a.month,a.day)-Jo(c.year,c.month,c.day);for(let e=c.year;e<a.year;++e)h+=Ko(e)?366:365;let u=0;return"week"===s&&(u=Ht(h/7),h%=7),u*=l,h*=l,{years:0,months:0,weeks:u,days:h}}default:throw new Error("assert not reached")}}function bi(e,t,n,r,o,i,s,a,c,l,h,u){let d=s-e,f=a-t,m=c-n,p=l-r,y=h-o,g=u-i;const w=Xo(0,0,0,0,d,f,m,p,y,g);d*=w,f*=w,m*=w,p*=w,y*=w,g*=w;let v=0;return({deltaDays:v,hour:d,minute:f,second:m,millisecond:p,microsecond:y,nanosecond:g}=ni(d,f,m,p,y,g)),v*=w,d*=w,f*=w,m*=w,p*=w,y*=w,g*=w,{deltaDays:v,hours:d,minutes:f,seconds:m,milliseconds:p,microseconds:y,nanoseconds:g}}function _i(e,t,n,r,o){const i=X.subtract(t,e),s=X.remainder(i,X.BigInt(864e11)),a=X.subtract(i,s),c=xi(s,Vi[r]*n,o),l=X.add(a,c),h=X.toNumber(X.remainder(l,cn)),u=X.toNumber(X.remainder(X.divide(l,cn),cn)),d=X.toNumber(X.remainder(X.divide(l,ln),cn));return{seconds:X.toNumber(X.divide(l,hn)),milliseconds:d,microseconds:u,nanoseconds:h}}function Ei(e,t,n,r,o,i,s,a,c,l,h,u,d,f,m,p,y,g,w,v,b=tn(null)){let _=e,E=t,T=n,{deltaDays:k,hours:$,minutes:S,seconds:C,milliseconds:D,microseconds:I,nanoseconds:x}=bi(r,o,i,s,a,c,d,f,m,p,y,g);const O=Xo(0,0,0,k,$,S,C,D,I,x);({year:_,month:E,day:T}=ei(_,E,T+k)),ji(l,h,u,_,E,T)===-O&&(({year:_,month:E,day:T}=ei(_,E,T-O)),({hours:$,minutes:S,seconds:C,milliseconds:D,microseconds:I,nanoseconds:x}=ii(-O,$,S,C,D,I,x,v)));const B=Mr(_,E,T,w),R=Mr(l,h,u,w),M={...b,largestUnit:pr("day",v)};let{years:P,months:A,weeks:N,days:L}=Hr(w,B,R,M);return({days:L,hours:$,minutes:S,seconds:C,milliseconds:D,microseconds:I,nanoseconds:x}=ii(L,$,S,C,D,I,x,v)),{years:P,months:A,weeks:N,days:L,hours:$,minutes:S,seconds:C,milliseconds:D,microseconds:I,nanoseconds:x}}function Ti(e,t,n,r,o,i){const s=X.subtract(t,e);if(X.equal(s,on))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const a=ne("%Temporal.Instant%"),c=new a(e),l=new a(t),h=Eo(n,c,r),u=Eo(n,l,r);let{years:d,months:f,weeks:m,days:p}=Ei(Be(h,ie),Be(h,se),Be(h,ae),Be(h,ce),Be(h,le),Be(h,he),Be(h,ue),Be(h,de),Be(h,fe),Be(u,ie),Be(u,se),Be(u,ae),Be(u,ce),Be(u,le),Be(u,he),Be(u,ue),Be(u,de),Be(u,fe),r,o,i);const y=Ii(c,n,r,d,f,m,0,0,0,0,0,0,0);let g=X.subtract(t,y);const w=Fr(y,n,r);({nanoseconds:g,days:p}=oi(g,w));const{hours:v,minutes:b,seconds:_,milliseconds:E,microseconds:T,nanoseconds:k}=ii(0,0,0,0,0,0,X.toNumber(g),"hour");return{years:d,months:f,weeks:m,days:p,hours:v,minutes:b,seconds:_,milliseconds:E,microseconds:T,nanoseconds:k}}function ki(e,t,n,r,o,i,s,a){let c=e,l=t,h=n,u=i,d=s;return c+=r,l+=o,({year:c,month:l}=Qo(c,l)),({year:c,month:l,day:h}=Jn(c,l,h,a)),d+=7*u,h+=d,({year:c,month:l,day:h}=ei(c,l,h)),{year:c,month:l,day:h}}function $i(e,t,n,r,o,i,s,a,c,l,h,u){let d=e,f=t,m=n,p=r,y=o,g=i;d+=s,f+=a,m+=c,p+=l,y+=h,g+=u;let w=0;return({deltaDays:w,hour:d,minute:f,second:m,millisecond:p,microsecond:y,nanosecond:g}=ni(d,f,m,p,y,g)),{deltaDays:w,hour:d,minute:f,second:m,millisecond:p,microsecond:y,nanosecond:g}}function Si(e,t,n,r,o,i,s,a,c,l,h,u,d,f,m,p,y,g,w,v,b){const _=pr(mr(e,t,n,r,o,i,s,a,c,l),mr(h,u,d,f,m,p,y,g,w,v));let E,T,k,$,S,C,D,I,x,O;if(b)if(Ln(b)){const B=ne("%Temporal.Duration%"),R=Be(b,me),M=new B(e,t,n,r,0,0,0,0,0,0),P=new B(h,u,d,f,0,0,0,0,0,0),A=R.dateAdd,N=Zr(R,b,M,tn(null),A),L=Zr(R,N,P,tn(null),A),j=pr("day",_),Y=tn(null);Y.largestUnit=j,({years:E,months:T,weeks:k,days:$}=Hr(R,b,L,Y)),({days:$,hours:S,minutes:C,seconds:D,milliseconds:I,microseconds:x,nanoseconds:O}=ii($,o+m,i+p,s+y,a+g,c+w,l+v,_))}else{const B=ne("%Temporal.Instant%"),R=Be(b,ye),M=Be(b,me),P=Ii(Be(b,pe),R,M,e,t,n,r,o,i,s,a,c,l),A=Ii(new B(P),R,M,h,u,d,f,m,p,y,g,w,v);"year"!==_&&"month"!==_&&"week"!==_&&"day"!==_?(E=0,T=0,k=0,$=0,({seconds:D,milliseconds:I,microseconds:x,nanoseconds:O}=_i(Be(b,re),A,1,"nanosecond","halfExpand")),({hours:S,minutes:C,seconds:D,milliseconds:I,microseconds:x,nanoseconds:O}=ii(0,0,0,D,I,x,O,_))):({years:E,months:T,weeks:k,days:$,hours:S,minutes:C,seconds:D,milliseconds:I,microseconds:x,nanoseconds:O}=Ti(Be(b,re),A,R,M,_))}else{if("year"===_||"month"===_||"week"===_)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");E=T=k=0,({days:$,hours:S,minutes:C,seconds:D,milliseconds:I,microseconds:x,nanoseconds:O}=ii(r+f,o+m,i+p,s+y,a+g,c+w,l+v,_))}return wi(E,T,k,$,S,C,D,I,x,O),{years:E,months:T,weeks:k,days:$,hours:S,minutes:C,seconds:D,milliseconds:I,microseconds:x,nanoseconds:O}}function Ci(e,t,n,r,o,i,s){let a=on;a=X.add(a,X.BigInt(s)),a=X.add(a,X.multiply(X.BigInt(i),cn)),a=X.add(a,X.multiply(X.BigInt(o),ln)),a=X.add(a,X.multiply(X.BigInt(r),hn)),a=X.add(a,X.multiply(X.BigInt(n),X.BigInt(6e10))),a=X.add(a,X.multiply(X.BigInt(t),X.BigInt(36e11)));const c=X.add(e,a);return gi(c),c}function Di(e,t,n,r,o,i,s,a,c,l,h,u,d,f,m,p,y,g,w,v,b){let _=f,{deltaDays:E,hour:T,minute:k,second:$,millisecond:S,microsecond:C,nanosecond:D}=$i(r,o,i,s,a,c,m,p,y,g,w,v);_+=E;const I=ne("%Temporal.Duration%"),x=Zr(l,Mr(e,t,n,l),new I(h,u,d,_,0,0,0,0,0,0),b);return{year:Be(x,ie),month:Be(x,se),day:Be(x,ae),hour:T,minute:k,second:$,millisecond:S,microsecond:C,nanosecond:D}}function Ii(e,t,n,r,o,i,s,a,c,l,h,u,d,f){const m=ne("%Temporal.Duration%");if(0===Xo(r,o,i,s,0,0,0,0,0,0))return Ci(Be(e,re),a,c,l,h,u,d);const p=Eo(t,e,n),y=Zr(n,Mr(Be(p,ie),Be(p,se),Be(p,ae),n),new m(r,o,i,s,0,0,0,0,0,0),f),g=Ar(Be(y,ie),Be(y,se),Be(y,ae),Be(p,ce),Be(p,le),Be(p,he),Be(p,ue),Be(p,de),Be(p,fe),n);return Ci(Be(To(t,g,"compatible"),re),a,c,l,h,u,d)}function xi(e,t,n){if(1===t)return e;let{quotient:r,remainder:o}=Cn(e,X.BigInt(t));if(X.equal(o,on))return e;const i=X.lessThan(o,on)?-1:1;switch(n){case"ceil":i>0&&(r=X.add(r,X.BigInt(i)));break;case"floor":i<0&&(r=X.add(r,X.BigInt(i)));break;case"trunc":break;case"halfExpand":X.toNumber(Dn(X.multiply(o,X.BigInt(2))))>=t&&(r=X.add(r,X.BigInt(i)))}return X.multiply(r,X.BigInt(t))}function Oi(e,t,n,r){let o=X.remainder(e,X.BigInt(864e11));X.lessThan(o,on)&&(o=X.add(o,X.BigInt(864e11)));const i=X.subtract(e,o),s=xi(o,Vi[n]*t,r);return X.add(i,s)}function Bi(e,t,n,r,o,i,s,a,c,l,h,u,d=864e11){const{deltaDays:f,hour:m,minute:p,second:y,millisecond:g,microsecond:w,nanosecond:v}=Ri(r,o,i,s,a,c,l,h,u,d),{year:b,month:_,day:E}=ei(e,t,n+f);return{year:b,month:_,day:E,hour:m,minute:p,second:y,millisecond:g,microsecond:w,nanosecond:v}}function Ri(e,t,n,r,o,i,s,a,c,l=864e11){let h=on;switch(a){case"day":case"hour":h=X.BigInt(e);case"minute":h=X.add(X.multiply(h,an),X.BigInt(t));case"second":h=X.add(X.multiply(h,an),X.BigInt(n));case"millisecond":h=X.add(X.multiply(h,cn),X.BigInt(r));case"microsecond":h=X.add(X.multiply(h,cn),X.BigInt(o));case"nanosecond":h=X.add(X.multiply(h,cn),X.BigInt(i))}const u="day"===a?l:Vi[a],d=xi(h,u*s,c),f=X.toNumber(X.divide(d,X.BigInt(u)));switch(a){case"day":return{deltaDays:f,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return ni(f,0,0,0,0,0);case"minute":return ni(e,f,0,0,0,0);case"second":return ni(e,t,f,0,0,0);case"millisecond":return ni(e,t,n,f,0,0);case"microsecond":return ni(e,t,n,r,f,0);case"nanosecond":return ni(e,t,n,r,o,f);default:throw new Error(`Invalid unit ${a}`)}}function Mi(e,t){return vi(Be(e,ie),Be(e,se),Be(e,ae),Be(t,ie),Be(t,se),Be(t,ae),"day").days}function Pi(e,t,n){const r=Zr(e,t,n,tn(null));return{relativeTo:r,days:Mi(t,r)}}function Ai(e,t,n,r,o){const i=Be(e,ye),s=Be(e,me);return Fr(Ii(Be(e,pe),i,s,t,n,r,o,0,0,0,0,0,0),i,s)}function Ni(e,t,n,r,o,i,s,a,c,l,h,u,d,f){let m=e,p=t,y=n,g=r,w=o,v=i,b=s,_=a,E=c,T=l;if(!zn(f)||"year"===u||"month"===u||"week"===u||"day"===u||"nanosecond"===u&&1===h)return{years:m,months:p,weeks:y,days:g,hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T};let k=ri(0,w,v,b,_,E,T,0);const $=Kt(X.toNumber(k)),S=Be(f,ye),C=Be(f,me),D=Ii(Be(f,pe),S,C,m,p,y,g,0,0,0,0,0,0),I=Ii(new(ne("%Temporal.Instant%"))(D),S,C,0,0,0,$,0,0,0,0,0,0),x=X.subtract(I,D);return X.greaterThanOrEqual(X.multiply(X.subtract(k,x),X.BigInt($)),on)&&(({years:m,months:p,weeks:y,days:g}=Si(m,p,y,g,0,0,0,0,0,0,0,0,0,$,0,0,0,0,0,0,f)),k=Oi(X.subtract(k,x),h,u,d),({hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=ii(0,0,0,0,0,0,X.toNumber(k),"hour"))),{years:m,months:p,weeks:y,days:g,hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}}function Li(e,t,n,r,o,i,s,a,c,l,h,u,d,f){let m=e,p=t,y=n,g=r,w=o,v=i,b=s,_=a,E=c,T=X.BigInt(l);const k=ne("%Temporal.Duration%");let $,S,C,D,I=f;if(I){if(zn(I))S=I,I=Tr(I);else if(!Ln(I))throw new TypeError("starting point must be PlainDate or ZonedDateTime");$=Be(I,me)}if("year"===u||"month"===u||"week"===u||"day"===u){let e,t,n;T=ri(0,w,v,b,_,E,l,0),S&&(e=Ai(S,m,p,y,g)),({days:t,nanoseconds:T,dayLengthNs:n}=oi(T,e)),C=X.BigInt(n),g+=t,w=v=b=_=E=0}switch(u){case"year":{if(!$)throw new RangeError("A starting point is required for years rounding");const e=new k(m),t=$.dateAdd,n=Zr($,I,e,tn(null),t),r=Zr($,I,new k(m,p,y),tn(null),t);I=n,g+=Mi(n,r);const o=Zr($,I,{days:g},tn(null),t),i=tn(null);i.largestUnit="year";const s=Hr($,I,o,i).years;m+=s;const a=I;I=Zr($,I,{years:s},tn(null),t),g-=Mi(a,I);const c=new k(g<0?-1:1);let{days:l}=Pi($,I,c);l=Zt(l);const u=X.multiply(X.BigInt(l),C);T=X.add(X.add(X.multiply(u,X.BigInt(m)),X.multiply(X.BigInt(g),C)),T);const f=xi(T,X.toNumber(X.multiply(u,X.BigInt(h))),d);D=X.toNumber(T)/X.toNumber(u),m=X.toNumber(X.divide(f,u)),T=on,p=y=g=0;break}case"month":{if(!$)throw new RangeError("A starting point is required for months rounding");const e=new k(m,p),t=$.dateAdd,n=Zr($,I,e,tn(null),t),r=Zr($,I,new k(m,p,y),tn(null),t);I=n,g+=Mi(n,r);const o=Kt(g),i=new k(0,g<0?-1:1);let s;for(({relativeTo:I,days:s}=Pi($,I,i));Zt(g)>=Zt(s);)p+=o,g-=s,({relativeTo:I,days:s}=Pi($,I,i));s=Zt(s);const a=X.multiply(X.BigInt(s),C);T=X.add(X.add(X.multiply(a,X.BigInt(p)),X.multiply(X.BigInt(g),C)),T);const c=xi(T,X.toNumber(X.multiply(a,X.BigInt(h))),d);D=X.toNumber(T)/X.toNumber(a),p=X.toNumber(X.divide(c,a)),T=on,y=g=0;break}case"week":{if(!$)throw new RangeError("A starting point is required for weeks rounding");const e=Kt(g),t=new k(0,0,g<0?-1:1);let n;for(({relativeTo:I,days:n}=Pi($,I,t));Zt(g)>=Zt(n);)y+=e,g-=n,({relativeTo:I,days:n}=Pi($,I,t));n=Zt(n);const r=X.multiply(X.BigInt(n),C);T=X.add(X.add(X.multiply(r,X.BigInt(y)),X.multiply(X.BigInt(g),C)),T);const o=xi(T,X.toNumber(X.multiply(r,X.BigInt(h))),d);D=X.toNumber(T)/X.toNumber(r),y=X.toNumber(X.divide(o,r)),T=on,g=0;break}case"day":{const e=C;T=X.add(X.multiply(e,X.BigInt(g)),T);const t=xi(T,X.toNumber(X.multiply(e,X.BigInt(h))),d);D=X.toNumber(T)/X.toNumber(e),g=X.toNumber(X.divide(t,e)),T=on;break}case"hour":{const e=36e11;let t=X.multiply(X.BigInt(w),X.BigInt(36e11));t=X.add(t,X.multiply(X.BigInt(v),X.BigInt(6e10))),t=X.add(t,X.multiply(X.BigInt(b),hn)),t=X.add(t,X.multiply(X.BigInt(_),ln)),t=X.add(t,X.multiply(X.BigInt(E),cn)),t=X.add(t,T),D=X.toNumber(t)/e;const n=xi(t,e*h,d);w=X.toNumber(X.divide(n,X.BigInt(e))),T=on,v=b=_=E=0;break}case"minute":{const e=6e10;let t=X.multiply(X.BigInt(v),X.BigInt(6e10));t=X.add(t,X.multiply(X.BigInt(b),hn)),t=X.add(t,X.multiply(X.BigInt(_),ln)),t=X.add(t,X.multiply(X.BigInt(E),cn)),t=X.add(t,T),D=X.toNumber(t)/e;const n=xi(t,e*h,d);v=X.toNumber(X.divide(n,X.BigInt(e))),T=on,b=_=E=0;break}case"second":{const e=1e9;let t=X.multiply(X.BigInt(b),hn);t=X.add(t,X.multiply(X.BigInt(_),ln)),t=X.add(t,X.multiply(X.BigInt(E),cn)),t=X.add(t,T),D=X.toNumber(t)/e;const n=xi(t,e*h,d);b=X.toNumber(X.divide(n,X.BigInt(e))),T=on,_=E=0;break}case"millisecond":{const e=1e6;let t=X.multiply(X.BigInt(_),ln);t=X.add(t,X.multiply(X.BigInt(E),cn)),t=X.add(t,T),D=X.toNumber(t)/e;const n=xi(t,e*h,d);_=X.toNumber(X.divide(n,X.BigInt(e))),T=on,E=0;break}case"microsecond":{const e=1e3;let t=X.multiply(X.BigInt(E),cn);t=X.add(t,T),D=X.toNumber(t)/e;const n=xi(t,e*h,d);E=X.toNumber(X.divide(n,X.BigInt(e))),T=on;break}case"nanosecond":D=X.toNumber(T),T=xi(T,h,d)}return{years:m,months:p,weeks:y,days:g,hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:X.toNumber(T),total:D}}function ji(e,t,n,r,o,i){for(const[s,a]of[[e,r],[t,o],[n,i]])if(s!==a)return Ui(s-a);return 0}function Yi(e,t){let n=e%t;return nn(n,-0)?0:(n<0&&(n+=t),n)}function qi(e){const t=Fi(e);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function Fi(e){if(e instanceof X)return e;let t=e;if("object"==typeof e){const n=e[Symbol.toPrimitive];n&&"function"==typeof n&&(t=rn(n,e,["number"]))}switch(typeof t){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof e} to bigint`);case"string":if(!t.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return X.BigInt(t.toString())}catch(e){if(e instanceof Error&&e.message.startsWith("Invalid integer"))throw new SyntaxError(e.message);throw e}case"boolean":return t?sn:on}}const zi=(()=>{let e=X.BigInt(Date.now()%1e6);return()=>{const t=X.BigInt(Date.now()),n=X.add(X.multiply(t,ln),e);return e=X.divide(t,ln),X.greaterThan(n,mn)?mn:X.lessThan(n,fn)?fn:n}})();function Ui(e){return e<0?-1:e>0?1:e}function Wi(e){if(void 0===e)return tn(null);if(bn(e)&&null!==e)return e;throw new TypeError("Options parameter must be an object, not "+(null===e?"null":typeof e))}function Zi(e,t){const n=tn(null);return n[e]=t,n}function Hi(e,t,n,r){let o=e[t];if(void 0!==o){if(o=Tn(o),!n.includes(o))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${o}`);return o}return r}const Ki=new RegExp(`^${Bt.source}$`);function Gi(e,t,n,r=e(t),o=e(n)){let i=X.BigInt(t),s=X.BigInt(n),a=r,c=o;for(;X.greaterThan(X.subtract(s,i),sn);){const t=X.divide(X.add(i,s),X.BigInt(2)),n=e(t);if(n===a)i=t,a=n;else{if(n!==c)throw new Error(`invalid state in bisection ${a} - ${n} - ${c}`);s=t,c=n}}return s}const Vi={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},Ji=Symbol("date"),Xi=Symbol("ym"),Qi=Symbol("md"),es=Symbol("time"),ts=Symbol("datetime"),ns=Symbol("zoneddatetime"),rs=Symbol("instant"),os=Symbol("original"),is=Symbol("timezone"),ss=Symbol("timezone-id-given"),as=Symbol("calendar-id"),cs=Symbol("locale"),ls=Symbol("options"),hs=e=>({value:e,enumerable:!0,writable:!1,configurable:!0}),us=globalThis.Intl.DateTimeFormat,ds=Object.assign,fs=Object.prototype.hasOwnProperty,ms=Reflect.apply;function ps(e,t){let n=e[t];return"function"==typeof n&&(n=new us(e[cs],n(e[ls])),e[t]=n),n}function ys(e){let t=e[is];return"string"==typeof t&&(t=yo(t),e[is]=t),t}function gs(e,t={}){if(!(this instanceof gs))return new gs(e,t);const n=void 0!==t,r=n?ds({},t):{},o=new us(e,r),i=o.resolvedOptions();if(n){const e=ds({},i);for(const t in e)ms(fs,r,[t])||delete e[t];this[ls]=e}else this[ls]=r;this[ss]=r.timeZone?r.timeZone:null,this[cs]=i.locale,this[os]=o,this[is]=i.timeZone,this[as]=i.calendar,this[Ji]=$s,this[Xi]=Ts,this[Qi]=ks,this[es]=Es,this[ts]=Ss,this[ns]=Cs,this[rs]=Ds}Object.defineProperty(gs,"name",{writable:!0,value:"DateTimeFormat"}),gs.supportedLocalesOf=function(e,t){return us.supportedLocalesOf(e,t)};const ws={resolvedOptions:hs((function(){return this[os].resolvedOptions()})),format:hs((function(e,...t){let{instant:n,formatter:r,timeZone:o}=Rs(e,this);return n&&r?(r=bs(r,o),r.format(n.epochMilliseconds)):this[os].format(e,...t)})),formatRange:hs((function(e,t){if(Os(e)||Os(t)){if(!Bs(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:n,formatter:r,timeZone:o}=Rs(e,this),{instant:i,formatter:s,timeZone:a}=Rs(t,this);if(o&&a&&o!==a)throw new RangeError("cannot format range between different time zones");if(n&&i&&r&&s&&r===s)return bs(r,o).formatRange(n.epochMilliseconds,i.epochMilliseconds)}return this[os].formatRange(e,t)}))};"formatToParts"in us.prototype&&(ws.formatToParts=hs((function(e,...t){let{instant:n,formatter:r,timeZone:o}=Rs(e,this);return n&&r?(r=bs(r,o),r.formatToParts(n.epochMilliseconds)):this[os].formatToParts(e,...t)}))),"formatRangeToParts"in us.prototype&&(ws.formatRangeToParts=hs((function(e,t){if(Os(e)||Os(t)){if(!Bs(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:n,formatter:r,timeZone:o}=Rs(e,this),{instant:i,formatter:s,timeZone:a}=Rs(t,this);if(o&&a&&o!==a)throw new RangeError("cannot format range between different time zones");if(n&&i&&r&&s&&r===s)return bs(r,o).formatRangeToParts(n.epochMilliseconds,i.epochMilliseconds)}return this[os].formatRangeToParts(e,t)}))),gs.prototype=Object.create(us.prototype,ws),Object.defineProperty(gs,"prototype",{writable:!1,enumerable:!1,configurable:!1});const vs=gs;function bs(e,t){if(!t)return e;const n=e.resolvedOptions();return n.timeZone===t?e:((n.dateStyle||n.timeStyle)&&(delete n.weekday,delete n.era,delete n.year,delete n.month,delete n.day,delete n.hour,delete n.minute,delete n.second,delete n.timeZoneName,delete n.hourCycle,delete n.hour12,delete n.dayPeriod),new us(n.locale,{...n,timeZone:t}))}function _s(e={},t={}){const n=ds({},e);for(const e of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[e]=e in t?t[e]:n[e],!1!==n[e]&&void 0!==n[e]||delete n[e];return n}function Es(e){let t=_s(e,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return xs(t)||(t=ds({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function Ts(e){let t=_s(e,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=ds(t,{year:"numeric",month:"numeric"})),t}function ks(e){let t=_s(e,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=ds({},t,{month:"numeric",day:"numeric"})),t}function $s(e){let t=_s(e,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return Is(t)||(t=ds({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function Ss(e){let t=_s(e,{timeZoneName:!1});return xs(t)||Is(t)||(t=ds({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function Cs(e){let t=e;return xs(t)||Is(t)||(t=ds({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),void 0===t.timeZoneName&&(t.timeZoneName="short")),t}function Ds(e){let t=e;return xs(t)||Is(t)||(t=ds({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function Is(e){return"year"in e||"month"in e||"day"in e||"weekday"in e||"dateStyle"in e}function xs(e){return"hour"in e||"minute"in e||"second"in e||"timeStyle"in e||"dayPeriod"in e}function Os(e){return Ln(e)||jn(e)||Yn(e)||zn(e)||qn(e)||Fn(e)||Mn(e)}function Bs(e,t){return!(!Os(e)||!Os(t)||jn(e)&&!jn(t)||Ln(e)&&!Ln(t)||Yn(e)&&!Yn(t)||zn(e)&&!zn(t)||qn(e)&&!qn(t)||Fn(e)&&!Fn(t)||Mn(e)&&!Mn(t))}function Rs(e,t){const n=ne("%Temporal.PlainDateTime%");if(jn(e)){const r=new n(1970,1,1,Be(e,ce),Be(e,le),Be(e,he),Be(e,ue),Be(e,de),Be(e,fe),t[as]);return{instant:To(ys(t),r,"compatible"),formatter:ps(t,es)}}if(qn(e)){const r=Be(e,ie),o=Be(e,se),i=Be(e,ae),s=Tn(Be(e,me));if(s!==t[as])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${t[as]}`);const a=new n(r,o,i,12,0,0,0,0,0,s);return{instant:To(ys(t),a,"compatible"),formatter:ps(t,Xi)}}if(Fn(e)){const r=Be(e,ie),o=Be(e,se),i=Be(e,ae),s=Tn(Be(e,me));if(s!==t[as])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${t[as]}`);const a=new n(r,o,i,12,0,0,0,0,0,s);return{instant:To(ys(t),a,"compatible"),formatter:ps(t,Qi)}}if(Ln(e)){const r=Be(e,ie),o=Be(e,se),i=Be(e,ae),s=Tn(Be(e,me));if("iso8601"!==s&&s!==t[as])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${t[as]}`);const a=new n(r,o,i,12,0,0,0,0,0,t[as]);return{instant:To(ys(t),a,"compatible"),formatter:ps(t,Ji)}}if(Yn(e)){const r=Be(e,ie),o=Be(e,se),i=Be(e,ae),s=Be(e,ce),a=Be(e,le),c=Be(e,he),l=Be(e,ue),h=Be(e,de),u=Be(e,fe),d=Tn(Be(e,me));if("iso8601"!==d&&d!==t[as])throw new RangeError(`cannot format PlainDateTime with calendar ${d} in locale with calendar ${t[as]}`);let f=e;return"iso8601"===d&&(f=new n(r,o,i,s,a,c,l,h,u,t[as])),{instant:To(ys(t),f,"compatible"),formatter:ps(t,ts)}}if(zn(e)){const n=Tn(Be(e,me));if("iso8601"!==n&&n!==t[as])throw new RangeError(`cannot format ZonedDateTime with calendar ${n} in locale with calendar ${t[as]}`);const r=Tn(Be(e,ye));if(t[ss]&&t[ss]!==r)throw new RangeError(`timeZone option ${t[ss]} doesn't match actual time zone ${r}`);return{instant:Be(e,pe),formatter:ps(t,ns),timeZone:r}}return Mn(e)?{instant:e,formatter:ps(t,rs)}:{}}Object.freeze({__proto__:null,DateTimeFormat:vs});const Ms=["year","month","week","day"],Ps={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3};class As{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=Fi(e);gi(t),Ie(this),Re(this,re,t)}get epochSeconds(){if(!Mn(this))throw new TypeError("invalid receiver");const e=Be(this,re);return X.toNumber(X.divide(e,hn))}get epochMilliseconds(){if(!Mn(this))throw new TypeError("invalid receiver");const e=X.BigInt(Be(this,re));return X.toNumber(X.divide(e,ln))}get epochMicroseconds(){if(!Mn(this))throw new TypeError("invalid receiver");const e=X.BigInt(Be(this,re));return qi(X.divide(e,cn))}get epochNanoseconds(){if(!Mn(this))throw new TypeError("invalid receiver");return qi(X.BigInt(Be(this,re)))}add(e){if(!Mn(this))throw new TypeError("invalid receiver");const{hours:t,minutes:n,seconds:r,milliseconds:o,microseconds:i,nanoseconds:s}=er(e,["years","months","weeks","days"]),a=Ci(Be(this,re),t,n,r,o,i,s);return new As(a)}subtract(e){if(!Mn(this))throw new TypeError("invalid receiver");const{hours:t,minutes:n,seconds:r,milliseconds:o,microseconds:i,nanoseconds:s}=er(e,["years","months","weeks","days"]),a=Ci(Be(this,re),-t,-n,-r,-o,-i,-s);return new As(a)}until(e,t){if(!Mn(this))throw new TypeError("invalid receiver");const n=Cr(e),r=Wi(t),o=ur(r,"nanosecond",Ms),i=pr("second",o),s=hr(r,"auto",Ms,i);fr(s,o);const a=rr(r,"trunc"),c=ar(r,Ps[o],!1),l=Be(this,re),h=Be(n,re);let u,d,{seconds:f,milliseconds:m,microseconds:p,nanoseconds:y}=_i(l,h,c,o,a);return({hours:u,minutes:d,seconds:f,milliseconds:m,microseconds:p,nanoseconds:y}=ii(0,0,0,f,m,p,y,s)),new(ne("%Temporal.Duration%"))(0,0,0,0,u,d,f,m,p,y)}since(e,t){if(!Mn(this))throw new TypeError("invalid receiver");const n=Cr(e),r=Wi(t),o=ur(r,"nanosecond",Ms),i=pr("second",o),s=hr(r,"auto",Ms,i);fr(s,o);const a=rr(r,"trunc"),c=ar(r,Ps[o],!1),l=Be(n,re),h=Be(this,re);let u,d,{seconds:f,milliseconds:m,microseconds:p,nanoseconds:y}=_i(l,h,c,o,a);return({hours:u,minutes:d,seconds:f,milliseconds:m,microseconds:p,nanoseconds:y}=ii(0,0,0,f,m,p,y,s)),new(ne("%Temporal.Duration%"))(0,0,0,0,u,d,f,m,p,y)}round(e){if(!Mn(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?Zi("smallestUnit",e):Wi(e),n=ur(t,void 0,Ms);if(void 0===n)throw new RangeError("smallestUnit is required");const r=rr(t,"halfExpand"),o=ar(t,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[n],!0),i=Oi(Be(this,re),o,n,r);return new As(i)}equals(e){if(!Mn(this))throw new TypeError("invalid receiver");const t=Cr(e),n=Be(this,re),r=Be(t,re);return X.equal(X.BigInt(n),X.BigInt(r))}toString(e){if(!Mn(this))throw new TypeError("invalid receiver");const t=Wi(e);let n=t.timeZone;void 0!==n&&(n=yo(n));const{precision:r,unit:o,increment:i}=lr(t),s=rr(t,"trunc"),a=Oi(Be(this,re),i,o,s);return Io(new As(a),n,r)}toJSON(){if(!Mn(this))throw new TypeError("invalid receiver");return Io(this,void 0,"auto")}toLocaleString(e,t){if(!Mn(this))throw new TypeError("invalid receiver");return new vs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Mn(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid argument in toZonedDateTime");const t=e.calendar;if(void 0===t)throw new TypeError("missing calendar property in toZonedDateTime");const n=co(t),r=e.timeZone;if(void 0===r)throw new TypeError("missing timeZone property in toZonedDateTime");const o=yo(r);return Fr(Be(this,re),o,n)}toZonedDateTimeISO(e){let t=e;if(!Mn(this))throw new TypeError("invalid receiver");if(bn(t)){const e=t.timeZone;void 0!==e&&(t=e)}const n=yo(t),r=zr();return Fr(Be(this,re),n,r)}static fromEpochSeconds(e){const t=_n(e),n=X.multiply(X.BigInt(t),hn);return gi(n),new As(n)}static fromEpochMilliseconds(e){const t=_n(e),n=X.multiply(X.BigInt(t),ln);return gi(n),new As(n)}static fromEpochMicroseconds(e){const t=Fi(e),n=X.multiply(t,cn);return gi(n),new As(n)}static fromEpochNanoseconds(e){const t=Fi(e);return gi(t),new As(t)}static from(e){return Mn(e)?new As(Be(e,re)):Cr(e)}static compare(e,t){const n=Cr(e),r=Cr(t),o=Be(n,re),i=Be(r,re);return X.lessThan(o,i)?-1:X.greaterThan(o,i)?1:0}}ee(As,"Temporal.Instant");const Ns=["hour","minute","second","millisecond","microsecond","nanosecond"];class Ls{constructor(e,t,n,r=zr()){const o=kn(e),i=kn(t),s=kn(n),a=co(r);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");Rr(this,o,i,s,a)}get calendar(){if(!Ln(this))throw new TypeError("invalid receiver");return Be(this,me)}get era(){if(!Ln(this))throw new TypeError("invalid receiver");return Xr(Be(this,me),this)}get eraYear(){if(!Ln(this))throw new TypeError("invalid receiver");return Qr(Be(this,me),this)}get year(){if(!Ln(this))throw new TypeError("invalid receiver");return Kr(Be(this,me),this)}get month(){if(!Ln(this))throw new TypeError("invalid receiver");return Gr(Be(this,me),this)}get monthCode(){if(!Ln(this))throw new TypeError("invalid receiver");return Vr(Be(this,me),this)}get day(){if(!Ln(this))throw new TypeError("invalid receiver");return Jr(Be(this,me),this)}get dayOfWeek(){if(!Ln(this))throw new TypeError("invalid receiver");return eo(Be(this,me),this)}get dayOfYear(){if(!Ln(this))throw new TypeError("invalid receiver");return to(Be(this,me),this)}get weekOfYear(){if(!Ln(this))throw new TypeError("invalid receiver");return no(Be(this,me),this)}get daysInWeek(){if(!Ln(this))throw new TypeError("invalid receiver");return ro(Be(this,me),this)}get daysInMonth(){if(!Ln(this))throw new TypeError("invalid receiver");return oo(Be(this,me),this)}get daysInYear(){if(!Ln(this))throw new TypeError("invalid receiver");return io(Be(this,me),this)}get monthsInYear(){if(!Ln(this))throw new TypeError("invalid receiver");return so(Be(this,me),this)}get inLeapYear(){if(!Ln(this))throw new TypeError("invalid receiver");return ao(Be(this,me),this)}with(e,t){if(!Ln(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid argument");Un(e);const n=Be(this,me),r=Ur(n,["day","month","monthCode","year"]),o=yr(e,r);if(!o)throw new TypeError("invalid date-like");let i=wr(this,r);return i=Wr(n,i,o),i=wr(i,r),fo(n,i,Wi(t))}withCalendar(e){if(!Ln(this))throw new TypeError("invalid receiver");const t=co(e);return new Ls(Be(this,ie),Be(this,se),Be(this,ae),t)}add(e,t){if(!Ln(this))throw new TypeError("invalid receiver");const n=Sr(e),r=Wi(t);return Zr(Be(this,me),this,n,r)}subtract(e,t){if(!Ln(this))throw new TypeError("invalid receiver");const n=ci(Sr(e)),r=Wi(t);return Zr(Be(this,me),this,n,r)}until(e,t){if(!Ln(this))throw new TypeError("invalid receiver");const n=Tr(e),r=Be(this,me),o=Be(n,me),i=Tn(r),s=Tn(o);if(i!==s)throw new RangeError(`cannot compute difference between dates of ${i} and ${s} calendars`);const a=Wi(t),c=ur(a,"day",Ns),l=pr("day",c),h=hr(a,"auto",Ns,l);fr(h,c);const u=rr(a,"trunc"),d=ar(a,void 0,!1),f=Hr(r,this,n,{...a,largestUnit:h});if("day"===c&&1===d)return f;let{years:m,months:p,weeks:y,days:g}=f;return({years:m,months:p,weeks:y,days:g}=Li(m,p,y,g,0,0,0,0,0,0,d,c,u,this)),new(ne("%Temporal.Duration%"))(m,p,y,g,0,0,0,0,0,0)}since(e,t){if(!Ln(this))throw new TypeError("invalid receiver");const n=Tr(e),r=Be(this,me),o=Be(n,me),i=Tn(r),s=Tn(o);if(i!==s)throw new RangeError(`cannot compute difference between dates of ${i} and ${s} calendars`);const a=Wi(t),c=ur(a,"day",Ns),l=pr("day",c),h=hr(a,"auto",Ns,l);fr(h,c);const u=rr(a,"trunc"),d=ar(a,void 0,!1),f={...a,largestUnit:h};let{years:m,months:p,weeks:y,days:g}=Hr(r,this,n,f);const w=ne("%Temporal.Duration%");return"day"===c&&1===d||({years:m,months:p,weeks:y,days:g}=Li(m,p,y,g,0,0,0,0,0,0,d,c,or(u),this)),new w(-m,-p,-y,-g,0,0,0,0,0,0)}equals(e){if(!Ln(this))throw new TypeError("invalid receiver");const t=Tr(e);for(const e of[ie,se,ae])if(Be(this,e)!==Be(t,e))return!1;return ho(Be(this,me),Be(t,me))}toString(e){if(!Ln(this))throw new TypeError("invalid receiver");return Oo(this,sr(Wi(e)))}toJSON(){if(!Ln(this))throw new TypeError("invalid receiver");return Oo(this)}toLocaleString(e,t){if(!Ln(this))throw new TypeError("invalid receiver");return new vs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!Ln(this))throw new TypeError("invalid receiver");const t=Be(this,ie),n=Be(this,se),r=Be(this,ae),o=Be(this,me);if(void 0===e)return Ar(t,n,r,0,0,0,0,0,0,o);const i=Ir(e);return Ar(t,n,r,Be(i,ce),Be(i,le),Be(i,he),Be(i,ue),Be(i,de),Be(i,fe),o)}toZonedDateTime(e){if(!Ln(this))throw new TypeError("invalid receiver");let t,n;if(bn(e)){const r=e.timeZone;void 0===r?t=yo(e):(t=yo(r),n=e.plainTime)}else t=yo(e);const r=Be(this,ie),o=Be(this,se),i=Be(this,ae),s=Be(this,me);let a=0,c=0,l=0,h=0,u=0,d=0;return void 0!==n&&(n=Ir(n),a=Be(n,ce),c=Be(n,le),l=Be(n,he),h=Be(n,ue),u=Be(n,de),d=Be(n,fe)),Fr(Be(To(t,Ar(r,o,i,a,c,l,h,u,d,s),"compatible"),re),t,s)}toPlainYearMonth(){if(!Ln(this))throw new TypeError("invalid receiver");const e=Be(this,me);return mo(e,Er(this,Ur(e,["monthCode","year"])))}toPlainMonthDay(){if(!Ln(this))throw new TypeError("invalid receiver");const e=Be(this,me);return po(e,br(this,Ur(e,["day","monthCode"])))}getISOFields(){if(!Ln(this))throw new TypeError("invalid receiver");return{calendar:Be(this,me),isoDay:Be(this,ae),isoMonth:Be(this,se),isoYear:Be(this,ie)}}static from(e,t){const n=Wi(t);return Ln(e)?(tr(n),Mr(Be(e,ie),Be(e,se),Be(e,ae),Be(e,me))):Tr(e,n)}static compare(e,t){const n=Tr(e),r=Tr(t);return ji(Be(n,ie),Be(n,se),Be(n,ae),Be(r,ie),Be(r,se),Be(r,ae))}}ee(Ls,"Temporal.PlainDate");class js{constructor(e,t,n,r=0,o=0,i=0,s=0,a=0,c=0,l=zr()){const h=kn(e),u=kn(t),d=kn(n),f=kn(r),m=kn(o),p=kn(i),y=kn(s),g=kn(a),w=kn(c),v=co(l);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");Pr(this,h,u,d,f,m,p,y,g,w,v)}get calendar(){if(!Yn(this))throw new TypeError("invalid receiver");return Be(this,me)}get year(){if(!Yn(this))throw new TypeError("invalid receiver");return Kr(Be(this,me),this)}get month(){if(!Yn(this))throw new TypeError("invalid receiver");return Gr(Be(this,me),this)}get monthCode(){if(!Yn(this))throw new TypeError("invalid receiver");return Vr(Be(this,me),this)}get day(){if(!Yn(this))throw new TypeError("invalid receiver");return Jr(Be(this,me),this)}get hour(){if(!Yn(this))throw new TypeError("invalid receiver");return Be(this,ce)}get minute(){if(!Yn(this))throw new TypeError("invalid receiver");return Be(this,le)}get second(){if(!Yn(this))throw new TypeError("invalid receiver");return Be(this,he)}get millisecond(){if(!Yn(this))throw new TypeError("invalid receiver");return Be(this,ue)}get microsecond(){if(!Yn(this))throw new TypeError("invalid receiver");return Be(this,de)}get nanosecond(){if(!Yn(this))throw new TypeError("invalid receiver");return Be(this,fe)}get era(){if(!Yn(this))throw new TypeError("invalid receiver");return Xr(Be(this,me),this)}get eraYear(){if(!Yn(this))throw new TypeError("invalid receiver");return Qr(Be(this,me),this)}get dayOfWeek(){if(!Yn(this))throw new TypeError("invalid receiver");return eo(Be(this,me),this)}get dayOfYear(){if(!Yn(this))throw new TypeError("invalid receiver");return to(Be(this,me),this)}get weekOfYear(){if(!Yn(this))throw new TypeError("invalid receiver");return no(Be(this,me),this)}get daysInWeek(){if(!Yn(this))throw new TypeError("invalid receiver");return ro(Be(this,me),this)}get daysInYear(){if(!Yn(this))throw new TypeError("invalid receiver");return io(Be(this,me),this)}get daysInMonth(){if(!Yn(this))throw new TypeError("invalid receiver");return oo(Be(this,me),this)}get monthsInYear(){if(!Yn(this))throw new TypeError("invalid receiver");return so(Be(this,me),this)}get inLeapYear(){if(!Yn(this))throw new TypeError("invalid receiver");return ao(Be(this,me),this)}with(e,t){if(!Yn(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid argument");Un(e);const n=Wi(t),r=Be(this,me),o=Ur(r,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),i=yr(e,o);if(!i)throw new TypeError("invalid date-time-like");let s=vr(this,o);s=Wr(r,s,i),s=vr(s,o);const{year:a,month:c,day:l,hour:h,minute:u,second:d,millisecond:f,microsecond:m,nanosecond:p}=kr(r,s,n);return Ar(a,c,l,h,u,d,f,m,p,r)}withPlainTime(e){if(!Yn(this))throw new TypeError("invalid receiver");const t=Be(this,ie),n=Be(this,se),r=Be(this,ae),o=Be(this,me);if(void 0===e)return Ar(t,n,r,0,0,0,0,0,0,o);const i=Ir(e);return Ar(t,n,r,Be(i,ce),Be(i,le),Be(i,he),Be(i,ue),Be(i,de),Be(i,fe),o)}withPlainDate(e){if(!Yn(this))throw new TypeError("invalid receiver");const t=Tr(e),n=Be(t,ie),r=Be(t,se),o=Be(t,ae);let i=Be(t,me);const s=Be(this,ce),a=Be(this,le),c=Be(this,he),l=Be(this,ue),h=Be(this,de),u=Be(this,fe);return i=uo(Be(this,me),i),Ar(n,r,o,s,a,c,l,h,u,i)}withCalendar(e){if(!Yn(this))throw new TypeError("invalid receiver");const t=co(e);return new js(Be(this,ie),Be(this,se),Be(this,ae),Be(this,ce),Be(this,le),Be(this,he),Be(this,ue),Be(this,de),Be(this,fe),t)}add(e,t){if(!Yn(this))throw new TypeError("invalid receiver");const n=er(e),{years:r,months:o,weeks:i,days:s,hours:a,minutes:c,seconds:l,milliseconds:h,microseconds:u,nanoseconds:d}=n,f=Wi(t),m=Be(this,me),{year:p,month:y,day:g,hour:w,minute:v,second:b,millisecond:_,microsecond:E,nanosecond:T}=Di(Be(this,ie),Be(this,se),Be(this,ae),Be(this,ce),Be(this,le),Be(this,he),Be(this,ue),Be(this,de),Be(this,fe),m,r,o,i,s,a,c,l,h,u,d,f);return Ar(p,y,g,w,v,b,_,E,T,m)}subtract(e,t){if(!Yn(this))throw new TypeError("invalid receiver");const n=er(e),{years:r,months:o,weeks:i,days:s,hours:a,minutes:c,seconds:l,milliseconds:h,microseconds:u,nanoseconds:d}=n,f=Wi(t),m=Be(this,me),{year:p,month:y,day:g,hour:w,minute:v,second:b,millisecond:_,microsecond:E,nanosecond:T}=Di(Be(this,ie),Be(this,se),Be(this,ae),Be(this,ce),Be(this,le),Be(this,he),Be(this,ue),Be(this,de),Be(this,fe),m,-r,-o,-i,-s,-a,-c,-l,-h,-u,-d,f);return Ar(p,y,g,w,v,b,_,E,T,m)}until(e,t){if(!Yn(this))throw new TypeError("invalid receiver");const n=$r(e),r=Be(this,me),o=Be(n,me),i=Tn(r),s=Tn(o);if(i!==s)throw new RangeError(`cannot compute difference between dates of ${i} and ${s} calendars`);const a=Wi(t),c=ur(a,"nanosecond"),l=hr(a,"auto",[],pr("day",c));fr(l,c);const h=rr(a,"trunc"),u=cr(a,c);let{years:d,months:f,weeks:m,days:p,hours:y,minutes:g,seconds:w,milliseconds:v,microseconds:b,nanoseconds:_}=Ei(Be(this,ie),Be(this,se),Be(this,ae),Be(this,ce),Be(this,le),Be(this,he),Be(this,ue),Be(this,de),Be(this,fe),Be(n,ie),Be(n,se),Be(n,ae),Be(n,ce),Be(n,le),Be(n,he),Be(n,ue),Be(n,de),Be(n,fe),r,l,a);const E=wo(this);return({years:d,months:f,weeks:m,days:p,hours:y,minutes:g,seconds:w,milliseconds:v,microseconds:b,nanoseconds:_}=Li(d,f,m,p,y,g,w,v,b,_,u,c,h,E)),({days:p,hours:y,minutes:g,seconds:w,milliseconds:v,microseconds:b,nanoseconds:_}=ii(p,y,g,w,v,b,_,l)),new(ne("%Temporal.Duration%"))(d,f,m,p,y,g,w,v,b,_)}since(e,t){if(!Yn(this))throw new TypeError("invalid receiver");const n=$r(e),r=Be(this,me),o=Be(n,me),i=Tn(r),s=Tn(o);if(i!==s)throw new RangeError(`cannot compute difference between dates of ${i} and ${s} calendars`);const a=Wi(t),c=ur(a,"nanosecond"),l=hr(a,"auto",[],pr("day",c));fr(l,c);const h=rr(a,"trunc"),u=cr(a,c);let{years:d,months:f,weeks:m,days:p,hours:y,minutes:g,seconds:w,milliseconds:v,microseconds:b,nanoseconds:_}=Ei(Be(this,ie),Be(this,se),Be(this,ae),Be(this,ce),Be(this,le),Be(this,he),Be(this,ue),Be(this,de),Be(this,fe),Be(n,ie),Be(n,se),Be(n,ae),Be(n,ce),Be(n,le),Be(n,he),Be(n,ue),Be(n,de),Be(n,fe),r,l,a);const E=wo(this);return({years:d,months:f,weeks:m,days:p,hours:y,minutes:g,seconds:w,milliseconds:v,microseconds:b,nanoseconds:_}=Li(d,f,m,p,y,g,w,v,b,_,u,c,or(h),E)),({days:p,hours:y,minutes:g,seconds:w,milliseconds:v,microseconds:b,nanoseconds:_}=ii(p,y,g,w,v,b,_,l)),new(ne("%Temporal.Duration%"))(-d,-f,-m,-p,-y,-g,-w,-v,-b,-_)}round(e){if(!Yn(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?Zi("smallestUnit",e):Wi(e),n=ur(t,void 0,["year","month","week"]);if(void 0===n)throw new RangeError("smallestUnit is required");const r=rr(t,"halfExpand"),o=ar(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[n],!1);let i=Be(this,ie),s=Be(this,se),a=Be(this,ae),c=Be(this,ce),l=Be(this,le),h=Be(this,he),u=Be(this,ue),d=Be(this,de),f=Be(this,fe);return({year:i,month:s,day:a,hour:c,minute:l,second:h,millisecond:u,microsecond:d,nanosecond:f}=Bi(i,s,a,c,l,h,u,d,f,o,n,r)),Ar(i,s,a,c,l,h,u,d,f,Be(this,me))}equals(e){if(!Yn(this))throw new TypeError("invalid receiver");const t=$r(e);for(const e of[ie,se,ae,ce,le,he,ue,de,fe])if(Be(this,e)!==Be(t,e))return!1;return ho(Be(this,me),Be(t,me))}toString(e){if(!Yn(this))throw new TypeError("invalid receiver");const t=Wi(e),{precision:n,unit:r,increment:o}=lr(t);return Bo(this,n,sr(t),{unit:r,increment:o,roundingMode:rr(t,"trunc")})}toJSON(){if(!Yn(this))throw new TypeError("invalid receiver");return Bo(this,"auto")}toLocaleString(e,t){if(!Yn(this))throw new TypeError("invalid receiver");return new vs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!Yn(this))throw new TypeError("invalid receiver");const n=yo(e);return Fr(Be(To(n,this,nr(Wi(t))),re),n,Be(this,me))}toPlainDate(){if(!Yn(this))throw new TypeError("invalid receiver");return wo(this)}toPlainYearMonth(){if(!Yn(this))throw new TypeError("invalid receiver");const e=Be(this,me);return mo(e,Er(this,Ur(e,["monthCode","year"])))}toPlainMonthDay(){if(!Yn(this))throw new TypeError("invalid receiver");const e=Be(this,me);return po(e,br(this,Ur(e,["day","monthCode"])))}toPlainTime(){if(!Yn(this))throw new TypeError("invalid receiver");return vo(this)}getISOFields(){if(!Yn(this))throw new TypeError("invalid receiver");return{calendar:Be(this,me),isoDay:Be(this,ae),isoHour:Be(this,ce),isoMicrosecond:Be(this,de),isoMillisecond:Be(this,ue),isoMinute:Be(this,le),isoMonth:Be(this,se),isoNanosecond:Be(this,fe),isoSecond:Be(this,he),isoYear:Be(this,ie)}}static from(e,t){const n=Wi(t);return Yn(e)?(tr(n),Ar(Be(e,ie),Be(e,se),Be(e,ae),Be(e,ce),Be(e,le),Be(e,he),Be(e,ue),Be(e,de),Be(e,fe),Be(e,me))):$r(e,n)}static compare(e,t){const n=$r(e),r=$r(t);for(const e of[ie,se,ae,ce,le,he,ue,de,fe]){const t=Be(n,e),o=Be(r,e);if(t!==o)return Ui(t-o)}return 0}}ee(js,"Temporal.PlainDateTime");class Ys{constructor(e=0,t=0,n=0,r=0,o=0,i=0,s=0,a=0,c=0,l=0){const h=Sn(e),u=Sn(t),d=Sn(n),f=Sn(r),m=Sn(o),p=Sn(i),y=Sn(s),g=Sn(a),w=Sn(c),v=Sn(l),b=Xo(h,u,d,f,m,p,y,g,w,v);for(const e of[h,u,d,f,m,p,y,g,w,v]){if(!Number.isFinite(e))throw new RangeError("infinite values not allowed as duration fields");const t=Math.sign(e);if(0!==t&&t!==b)throw new RangeError("mixed-sign values not allowed as duration fields")}Ie(this),Re(this,ge,h),Re(this,we,u),Re(this,ve,d),Re(this,be,f),Re(this,_e,m),Re(this,Ee,p),Re(this,Te,y),Re(this,ke,g),Re(this,$e,w),Re(this,Se,v)}get years(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,ge)}get months(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,we)}get weeks(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,ve)}get days(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,be)}get hours(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,_e)}get minutes(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,Ee)}get seconds(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,Te)}get milliseconds(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,ke)}get microseconds(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,$e)}get nanoseconds(){if(!Nn(this))throw new TypeError("invalid receiver");return Be(this,Se)}get sign(){if(!Nn(this))throw new TypeError("invalid receiver");return Xo(Be(this,ge),Be(this,we),Be(this,ve),Be(this,be),Be(this,_e),Be(this,Ee),Be(this,Te),Be(this,ke),Be(this,$e),Be(this,Se))}get blank(){if(!Nn(this))throw new TypeError("invalid receiver");return 0===Xo(Be(this,ge),Be(this,we),Be(this,ve),Be(this,be),Be(this,_e),Be(this,Ee),Be(this,Te),Be(this,ke),Be(this,$e),Be(this,Se))}with(e){if(!Nn(this))throw new TypeError("invalid receiver");const t=yr(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"]);if(!t)throw new TypeError("invalid duration-like");const{years:n=Be(this,ge),months:r=Be(this,we),weeks:o=Be(this,ve),days:i=Be(this,be),hours:s=Be(this,_e),minutes:a=Be(this,Ee),seconds:c=Be(this,Te),milliseconds:l=Be(this,ke),microseconds:h=Be(this,$e),nanoseconds:u=Be(this,Se)}=t;return new Ys(n,r,o,i,s,a,c,l,h,u)}negated(){if(!Nn(this))throw new TypeError("invalid receiver");return ci(this)}abs(){if(!Nn(this))throw new TypeError("invalid receiver");return new Ys(Math.abs(Be(this,ge)),Math.abs(Be(this,we)),Math.abs(Be(this,ve)),Math.abs(Be(this,be)),Math.abs(Be(this,_e)),Math.abs(Be(this,Ee)),Math.abs(Be(this,Te)),Math.abs(Be(this,ke)),Math.abs(Be(this,$e)),Math.abs(Be(this,Se)))}add(e,t){if(!Nn(this))throw new TypeError("invalid receiver");let{years:n,months:r,weeks:o,days:i,hours:s,minutes:a,seconds:c,milliseconds:l,microseconds:h,nanoseconds:u}=er(e);const d=dr(Wi(t));return({years:n,months:r,weeks:o,days:i,hours:s,minutes:a,seconds:c,milliseconds:l,microseconds:h,nanoseconds:u}=Si(Be(this,ge),Be(this,we),Be(this,ve),Be(this,be),Be(this,_e),Be(this,Ee),Be(this,Te),Be(this,ke),Be(this,$e),Be(this,Se),n,r,o,i,s,a,c,l,h,u,d)),new Ys(n,r,o,i,s,a,c,l,h,u)}subtract(e,t){if(!Nn(this))throw new TypeError("invalid receiver");let{years:n,months:r,weeks:o,days:i,hours:s,minutes:a,seconds:c,milliseconds:l,microseconds:h,nanoseconds:u}=er(e);const d=dr(Wi(t));return({years:n,months:r,weeks:o,days:i,hours:s,minutes:a,seconds:c,milliseconds:l,microseconds:h,nanoseconds:u}=Si(Be(this,ge),Be(this,we),Be(this,ve),Be(this,be),Be(this,_e),Be(this,Ee),Be(this,Te),Be(this,ke),Be(this,$e),Be(this,Se),-n,-r,-o,-i,-s,-a,-c,-l,-h,-u,d)),new Ys(n,r,o,i,s,a,c,l,h,u)}round(e){if(!Nn(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");let t=Be(this,ge),n=Be(this,we),r=Be(this,ve),o=Be(this,be),i=Be(this,_e),s=Be(this,Ee),a=Be(this,Te),c=Be(this,ke),l=Be(this,$e),h=Be(this,Se),u=mr(t,n,r,o,i,s,a,c,l,h);const d="string"==typeof e?Zi("smallestUnit",e):Wi(e);let f=ur(d,void 0),m=!0;f||(m=!1,f="nanosecond"),u=pr(u,f);let p=hr(d,void 0),y=!0;if(p||(y=!1,p=u),"auto"===p&&(p=u),!m&&!y)throw new RangeError("at least one of smallestUnit or largestUnit is required");fr(p,f);const g=rr(d,"halfExpand"),w=cr(d,f);let v=dr(d);return({years:t,months:n,weeks:r,days:o}=si(t,n,r,o,p,v)),({years:t,months:n,weeks:r,days:o,hours:i,minutes:s,seconds:a,milliseconds:c,microseconds:l,nanoseconds:h}=Li(t,n,r,o,i,s,a,c,l,h,w,f,g,v)),({years:t,months:n,weeks:r,days:o,hours:i,minutes:s,seconds:a,milliseconds:c,microseconds:l,nanoseconds:h}=Ni(t,n,r,o,i,s,a,c,l,h,w,f,g,v)),({years:t,months:n,weeks:r,days:o}=function(e,t,n,r,o,i){let s=e,a=t,c=n,l=r;const h=ne("%Temporal.Duration%"),u=Xo(s,a,c,l,0,0,0,0,0,0);if(0===u)return{years:s,months:a,weeks:c,days:l};let d,f;i&&(f=Tr(i),d=Be(f,me));const m=new h(u),p=new h(0,u),y=new h(0,0,u);switch(o){case"year":{if(!d)throw new RangeError("a starting point is required for years balancing");let e,t,n;for(({relativeTo:e,days:t}=Pi(d,f,m));Zt(l)>=Zt(t);)l-=t,s+=u,f=e,({relativeTo:e,days:t}=Pi(d,f,m));for(({relativeTo:e,days:n}=Pi(d,f,p));Zt(l)>=Zt(n);)l-=n,a+=u,f=e,({relativeTo:e,days:n}=Pi(d,f,p));const r=d.dateAdd;e=Zr(d,f,m,tn(null),r);const o=d.dateUntil,i=tn(null);i.largestUnit="month";let c=Hr(d,f,e,i,o),h=Be(c,we);for(;Zt(a)>=Zt(h);){a-=h,s+=u,f=e,e=Zr(d,f,m,tn(null),r);const t=tn(null);t.largestUnit="month",c=Hr(d,f,e,t,o),h=Be(c,we)}break}case"month":{if(!d)throw new RangeError("a starting point is required for months balancing");let e,t;for(({relativeTo:e,days:t}=Pi(d,f,p));Zt(l)>=Zt(t);)l-=t,a+=u,f=e,({relativeTo:e,days:t}=Pi(d,f,p));break}case"week":{if(!d)throw new RangeError("a starting point is required for weeks balancing");let e,t;for(({relativeTo:e,days:t}=Pi(d,f,y));Zt(l)>=Zt(t);)l-=t,c+=u,f=e,({relativeTo:e,days:t}=Pi(d,f,y));break}}return{years:s,months:a,weeks:c,days:l}}(t,n,r,o,p,v)),zn(v)&&(v=Ai(v,t,n,r,0)),({days:o,hours:i,minutes:s,seconds:a,milliseconds:c,microseconds:l,nanoseconds:h}=ii(o,i,s,a,c,l,h,p,v)),new Ys(t,n,r,o,i,s,a,c,l,h)}total(e){if(!Nn(this))throw new TypeError("invalid receiver");let t=Be(this,ge),n=Be(this,we),r=Be(this,ve),o=Be(this,be),i=Be(this,_e),s=Be(this,Ee),a=Be(this,Te),c=Be(this,ke),l=Be(this,$e),h=Be(this,Se);if(void 0===e)throw new TypeError("options argument is required");const u="string"==typeof e?Zi("unit",e):Wi(e),d=function(e){const t=new Map(On),n=Hi(e,"unit",[...t.values(),...t.keys()],void 0);return t.has(n)?t.get(n):n}(u);if(void 0===d)throw new RangeError("unit option is required");const f=dr(u);let m;({years:t,months:n,weeks:r,days:o}=si(t,n,r,o,d,f)),zn(f)&&(m=Ai(f,t,n,r,0)),({days:o,hours:i,minutes:s,seconds:a,milliseconds:c,microseconds:l,nanoseconds:h}=ii(o,i,s,a,c,l,h,d,m));const{total:p}=Li(t,n,r,o,i,s,a,c,l,h,1,d,"trunc",f);return p}toString(e){if(!Nn(this))throw new TypeError("invalid receiver");const t=Wi(e),{precision:n,unit:r,increment:o}=lr(t);if("minute"===n)throw new RangeError('smallestUnit must not be "minute"');return xo(this,n,{unit:r,increment:o,roundingMode:rr(t,"trunc")})}toJSON(){if(!Nn(this))throw new TypeError("invalid receiver");return xo(this)}toLocaleString(e,t){if(!Nn(this))throw new TypeError("invalid receiver");return"undefined"!=typeof Intl&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),xo(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Nn(e)?new Ys(Be(e,ge),Be(e,we),Be(e,ve),Be(e,be),Be(e,_e),Be(e,Ee),Be(e,Te),Be(e,ke),Be(e,$e),Be(e,Se)):Sr(e)}static compare(e,t,n){const r=Sr(e),o=Sr(t),i=dr(Wi(n)),s=Be(r,ge),a=Be(r,we),c=Be(r,ve);let l=Be(r,be);const h=Be(r,_e),u=Be(r,Ee),d=Be(r,Te),f=Be(r,ke),m=Be(r,$e);let p=Be(r,Se);const y=Be(o,ge),g=Be(o,we),w=Be(o,ve);let v=Be(o,be);const b=Be(o,_e),_=Be(o,Ee),E=Be(o,Te),T=Be(o,ke),k=Be(o,$e);let $=Be(o,Se);const S=ai(i,s,a,c,l,h,u,d,f,m,p),C=ai(i,y,g,w,v,b,_,E,T,k,$);0===s&&0===y&&0===a&&0===g&&0===c&&0===w||(({days:l}=si(s,a,c,l,"day",i)),({days:v}=si(y,g,w,v,"day",i)));const D=ri(l,h,u,d,f,m,p,S),I=ri(v,b,_,E,T,k,$,C);return Ui(X.toNumber(X.subtract(D,I)))}}ee(Ys,"Temporal.Duration");const qs=Object.create;class Fs{constructor(e,t,n=zr(),r=1972){const o=kn(e),i=kn(t),s=co(n),a=kn(r);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");Nr(this,o,i,s,a)}get monthCode(){if(!Fn(this))throw new TypeError("invalid receiver");return Vr(Be(this,me),this)}get day(){if(!Fn(this))throw new TypeError("invalid receiver");return Jr(Be(this,me),this)}get calendar(){if(!Fn(this))throw new TypeError("invalid receiver");return Be(this,me)}with(e,t){if(!Fn(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid argument");Un(e);const n=Be(this,me),r=Ur(n,["day","month","monthCode","year"]),o=yr(e,r);if(!o)throw new TypeError("invalid month-day-like");let i=br(this,r);return i=Wr(n,i,o),i=br(i,r),po(n,i,Wi(t))}equals(e){if(!Fn(this))throw new TypeError("invalid receiver");const t=Dr(e);for(const e of[se,ae,ie])if(Be(this,e)!==Be(t,e))return!1;return ho(Be(this,me),Be(t,me))}toString(e){if(!Fn(this))throw new TypeError("invalid receiver");return Ro(this,sr(Wi(e)))}toJSON(){if(!Fn(this))throw new TypeError("invalid receiver");return Ro(this)}toLocaleString(e,t){if(!Fn(this))throw new TypeError("invalid receiver");return new vs(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Fn(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("argument should be an object");const t=Be(this,me),n=Ur(t,["day","monthCode"]),r=br(this,n),o=Ur(t,["year"]),i=[["year",void 0]];o.forEach((e=>{i.some((([t])=>t===e))||i.push([e,void 0])}));let s=Wr(t,r,gr(e,i));const a=[...new Set([...n,...o])],c=[];a.forEach((e=>{c.some((([t])=>t===e))||c.push([e,void 0])})),s=gr(s,c);const l=qs(null);return l.overflow="reject",fo(t,s,l)}getISOFields(){if(!Fn(this))throw new TypeError("invalid receiver");return{calendar:Be(this,me),isoDay:Be(this,ae),isoMonth:Be(this,se),isoYear:Be(this,ie)}}static from(e,t){const n=Wi(t);return Fn(e)?(tr(n),Lr(Be(e,se),Be(e,ae),Be(e,me),Be(e,ie))):Dr(e,n)}}ee(Fs,"Temporal.PlainMonthDay");const zs=()=>new(ne("%Temporal.Instant%"))(zi()),Us=(e,t=Hs())=>{const n=yo(t),r=co(e);return Eo(n,zs(),r)},Ws=(e=Hs())=>{const t=yo(e),n=zr();return Eo(t,zs(),n)},Zs=(e,t=Hs())=>{const n=yo(t),r=co(e);return Fr(zi(),n,r)},Hs=()=>function(){const e=new zt("en-us");return new(ne("%Temporal.TimeZone%"))(Wn(e.resolvedOptions().timeZone))}(),Ks={instant:zs,plainDateTime:Us,plainDateTimeISO:Ws,plainDate:(e,t=Hs())=>wo(Us(e,t)),plainDateISO:(e=Hs())=>wo(Ws(e)),plainTimeISO:(e=Hs())=>vo(Ws(e)),timeZone:Hs,zonedDateTime:Zs,zonedDateTimeISO:(e=Hs())=>Zs(zr(),e),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(Ks,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const Gs=Object.assign,Vs=["year","month","week","day"],Js={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3};function Xs(e,t,n){let r=Be(e,ce),o=Be(e,le),i=Be(e,he),s=Be(e,ue),a=Be(e,de),c=Be(e,fe);if(n){const{unit:e,increment:t,roundingMode:l}=n;({hour:r,minute:o,second:i,millisecond:s,microsecond:a,nanosecond:c}=Ri(r,o,i,s,a,c,t,e,l))}return`${Co(r)}:${Co(o)}${Do(i,s,a,c,t)}`}class Qs{constructor(e=0,t=0,n=0,r=0,o=0,i=0){const s=kn(e),a=kn(t),c=kn(n),l=kn(r),h=kn(o),u=kn(i);mi(s,a,c,l,h,u),Ie(this),Re(this,ce,s),Re(this,le,a),Re(this,he,c),Re(this,ue,l),Re(this,de,h),Re(this,fe,u),Re(this,me,zr())}get calendar(){if(!jn(this))throw new TypeError("invalid receiver");return Be(this,me)}get hour(){if(!jn(this))throw new TypeError("invalid receiver");return Be(this,ce)}get minute(){if(!jn(this))throw new TypeError("invalid receiver");return Be(this,le)}get second(){if(!jn(this))throw new TypeError("invalid receiver");return Be(this,he)}get millisecond(){if(!jn(this))throw new TypeError("invalid receiver");return Be(this,ue)}get microsecond(){if(!jn(this))throw new TypeError("invalid receiver");return Be(this,de)}get nanosecond(){if(!jn(this))throw new TypeError("invalid receiver");return Be(this,fe)}with(e,t){if(!jn(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid argument");Un(e);const n=tr(Wi(t)),r=yr(e,["hour","microsecond","millisecond","minute","nanosecond","second"]);if(!r)throw new TypeError("invalid time-like");const o=_r(this);let{hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h}=Gs(o,r);return({hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h}=Xn(i,s,a,c,l,h,n)),new Qs(i,s,a,c,l,h)}add(e){if(!jn(this))throw new TypeError("invalid receiver");const t=er(e),{hours:n,minutes:r,seconds:o,milliseconds:i,microseconds:s,nanoseconds:a}=t;let c=Be(this,ce),l=Be(this,le),h=Be(this,he),u=Be(this,ue),d=Be(this,de),f=Be(this,fe);return({hour:c,minute:l,second:h,millisecond:u,microsecond:d,nanosecond:f}=$i(c,l,h,u,d,f,n,r,o,i,s,a)),({hour:c,minute:l,second:h,millisecond:u,microsecond:d,nanosecond:f}=Xn(c,l,h,u,d,f,"reject")),new Qs(c,l,h,u,d,f)}subtract(e){if(!jn(this))throw new TypeError("invalid receiver");const t=er(e),{hours:n,minutes:r,seconds:o,milliseconds:i,microseconds:s,nanoseconds:a}=t;let c=Be(this,ce),l=Be(this,le),h=Be(this,he),u=Be(this,ue),d=Be(this,de),f=Be(this,fe);return({hour:c,minute:l,second:h,millisecond:u,microsecond:d,nanosecond:f}=$i(c,l,h,u,d,f,-n,-r,-o,-i,-s,-a)),({hour:c,minute:l,second:h,millisecond:u,microsecond:d,nanosecond:f}=Xn(c,l,h,u,d,f,"reject")),new Qs(c,l,h,u,d,f)}until(e,t){if(!jn(this))throw new TypeError("invalid receiver");const n=Ir(e),r=Wi(t),o=hr(r,"auto",Vs,"hour"),i=ur(r,"nanosecond",Vs);fr(o,i);const s=rr(r,"trunc"),a=ar(r,Js[i],!1);let{hours:c,minutes:l,seconds:h,milliseconds:u,microseconds:d,nanoseconds:f}=bi(Be(this,ce),Be(this,le),Be(this,he),Be(this,ue),Be(this,de),Be(this,fe),Be(n,ce),Be(n,le),Be(n,he),Be(n,ue),Be(n,de),Be(n,fe));return({hours:c,minutes:l,seconds:h,milliseconds:u,microseconds:d,nanoseconds:f}=Li(0,0,0,0,c,l,h,u,d,f,a,i,s)),({hours:c,minutes:l,seconds:h,milliseconds:u,microseconds:d,nanoseconds:f}=ii(0,c,l,h,u,d,f,o)),new(ne("%Temporal.Duration%"))(0,0,0,0,c,l,h,u,d,f)}since(e,t){if(!jn(this))throw new TypeError("invalid receiver");const n=Ir(e),r=Wi(t),o=hr(r,"auto",Vs,"hour"),i=ur(r,"nanosecond",Vs);fr(o,i);const s=rr(r,"trunc"),a=ar(r,Js[i],!1);let{hours:c,minutes:l,seconds:h,milliseconds:u,microseconds:d,nanoseconds:f}=bi(Be(n,ce),Be(n,le),Be(n,he),Be(n,ue),Be(n,de),Be(n,fe),Be(this,ce),Be(this,le),Be(this,he),Be(this,ue),Be(this,de),Be(this,fe));return({hours:c,minutes:l,seconds:h,milliseconds:u,microseconds:d,nanoseconds:f}=Li(0,0,0,0,-c,-l,-h,-u,-d,-f,a,i,or(s))),c=-c,l=-l,h=-h,u=-u,d=-d,f=-f,({hours:c,minutes:l,seconds:h,milliseconds:u,microseconds:d,nanoseconds:f}=ii(0,c,l,h,u,d,f,o)),new(ne("%Temporal.Duration%"))(0,0,0,0,c,l,h,u,d,f)}round(e){if(!jn(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?Zi("smallestUnit",e):Wi(e),n=ur(t,void 0,Vs);if(void 0===n)throw new RangeError("smallestUnit is required");const r=rr(t,"halfExpand"),o=ar(t,Js[n],!1);let i=Be(this,ce),s=Be(this,le),a=Be(this,he),c=Be(this,ue),l=Be(this,de),h=Be(this,fe);return({hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:h}=Ri(i,s,a,c,l,h,o,n,r)),new Qs(i,s,a,c,l,h)}equals(e){if(!jn(this))throw new TypeError("invalid receiver");const t=Ir(e);for(const e of[ce,le,he,ue,de,fe])if(Be(this,e)!==Be(t,e))return!1;return!0}toString(e){if(!jn(this))throw new TypeError("invalid receiver");const t=Wi(e),{precision:n,unit:r,increment:o}=lr(t);return Xs(this,n,{unit:r,increment:o,roundingMode:rr(t,"trunc")})}toJSON(){if(!jn(this))throw new TypeError("invalid receiver");return Xs(this,"auto")}toLocaleString(e,t){if(!jn(this))throw new TypeError("invalid receiver");return new vs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!jn(this))throw new TypeError("invalid receiver");const t=Tr(e),n=Be(t,ie),r=Be(t,se),o=Be(t,ae),i=Be(t,me);return Ar(n,r,o,Be(this,ce),Be(this,le),Be(this,he),Be(this,ue),Be(this,de),Be(this,fe),i)}toZonedDateTime(e){if(!jn(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid argument");const t=e.plainDate;if(void 0===t)throw new TypeError("missing date property");const n=Tr(t),r=e.timeZone;if(void 0===r)throw new TypeError("missing timeZone property");const o=yo(r),i=Be(n,ie),s=Be(n,se),a=Be(n,ae),c=Be(n,me),l=Be(this,ce),h=Be(this,le),u=Be(this,he),d=Be(this,ue),f=Be(this,de),m=Be(this,fe);return Fr(Be(To(o,new(ne("%Temporal.PlainDateTime%"))(i,s,a,l,h,u,d,f,m,c),"compatible"),re),o,c)}getISOFields(){if(!jn(this))throw new TypeError("invalid receiver");return{calendar:Be(this,me),isoHour:Be(this,ce),isoMicrosecond:Be(this,de),isoMillisecond:Be(this,ue),isoMinute:Be(this,le),isoNanosecond:Be(this,fe),isoSecond:Be(this,he)}}static from(e,t){const n=tr(Wi(t));return jn(e)?new Qs(Be(e,ce),Be(e,le),Be(e,he),Be(e,ue),Be(e,de),Be(e,fe)):Ir(e,n)}static compare(e,t){const n=Ir(e),r=Ir(t);for(const e of[ce,le,he,ue,de,fe]){const t=Be(n,e),o=Be(r,e);if(t!==o)return Ui(t-o)}return 0}}ee(Qs,"Temporal.PlainTime");class ea{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=Lo(e);Ie(this),Re(this,oe,t)}get id(){if(!Pn(this))throw new TypeError("invalid receiver");return Tn(this)}getOffsetNanosecondsFor(e){if(!Pn(this))throw new TypeError("invalid receiver");const t=Cr(e),n=Be(this,oe);return Ao(n)?No(n):jo(Be(t,re),n)}getOffsetStringFor(e){if(!Pn(this))throw new TypeError("invalid receiver");return _o(this,Cr(e))}getPlainDateTimeFor(e,t=zr()){return Eo(this,Cr(e),co(t))}getInstantFor(e,t){if(!Pn(this))throw new TypeError("invalid receiver");return To(this,$r(e),nr(Wi(t)))}getPossibleInstantsFor(e){if(!Pn(this))throw new TypeError("invalid receiver");const t=$r(e),n=ne("%Temporal.Instant%"),r=Be(this,oe);if(Ao(r)){const e=Fo(Be(t,ie),Be(t,se),Be(t,ae),Be(t,ce),Be(t,le),Be(t,he),Be(t,ue),Be(t,de),Be(t,fe));if(null===e)throw new RangeError("DateTime outside of supported range");const o=No(r);return[new n(X.subtract(e,X.BigInt(o)))]}return function(e,t,n,r,o,i,s,a,c,l){const h=Fo(t,n,r,o,i,s,a,c,l);if(null===h)throw new RangeError("DateTime outside of supported range");let u=X.subtract(h,dn);X.lessThan(u,fn)&&(u=h);let d=X.add(h,dn);X.greaterThan(d,mn)&&(d=h);const f=jo(u,e),m=jo(d,e);return(f===m?[f]:[f,m]).map((u=>{const d=X.subtract(h,X.BigInt(u)),f=Uo(d,e);if(t===f.year&&n===f.month&&r===f.day&&o===f.hour&&i===f.minute&&s===f.second&&a===f.millisecond&&c===f.microsecond&&l===f.nanosecond)return d})).filter((e=>void 0!==e))}(r,Be(t,ie),Be(t,se),Be(t,ae),Be(t,ce),Be(t,le),Be(t,he),Be(t,ue),Be(t,de),Be(t,fe)).map((e=>new n(e)))}getNextTransition(e){if(!Pn(this))throw new TypeError("invalid receiver");const t=Cr(e),n=Be(this,oe);if(Ao(n)||"UTC"===n)return null;let r=Be(t,re);const o=ne("%Temporal.Instant%");return r=function(e,t){const n=X.add(e,gn),r=Wo(Zo(),n);let o=Wo(pn,e);const i=jo(o,t);let s=o,a=i;for(;i===a&&X.lessThan(X.BigInt(o),r);)s=X.add(o,wn),a=jo(s,t),i===a&&(o=s);return i===a?null:Gi((e=>jo(e,t)),o,s,i,a)}(r,n),null===r?null:new o(r)}getPreviousTransition(e){if(!Pn(this))throw new TypeError("invalid receiver");const t=Cr(e),n=Be(this,oe);if(Ao(n)||"UTC"===n)return null;let r=Be(t,re);const o=ne("%Temporal.Instant%");return r=Ho(r,n),null===r?null:new o(r)}toString(){if(!Pn(this))throw new TypeError("invalid receiver");return Tn(Be(this,oe))}toJSON(){if(!Pn(this))throw new TypeError("invalid receiver");return Tn(this)}static from(e){return yo(e)}}ee(ea,"Temporal.TimeZone");const ta=Object.create,na=["week","day","hour","minute","second","millisecond","microsecond","nanosecond"];class ra{constructor(e,t,n=zr(),r=1){const o=kn(e),i=kn(t),s=co(n),a=kn(r);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");jr(this,o,i,s,a)}get year(){if(!qn(this))throw new TypeError("invalid receiver");return Kr(Be(this,me),this)}get month(){if(!qn(this))throw new TypeError("invalid receiver");return Gr(Be(this,me),this)}get monthCode(){if(!qn(this))throw new TypeError("invalid receiver");return Vr(Be(this,me),this)}get calendar(){if(!qn(this))throw new TypeError("invalid receiver");return Be(this,me)}get era(){if(!qn(this))throw new TypeError("invalid receiver");return Xr(Be(this,me),this)}get eraYear(){if(!qn(this))throw new TypeError("invalid receiver");return Qr(Be(this,me),this)}get daysInMonth(){if(!qn(this))throw new TypeError("invalid receiver");return oo(Be(this,me),this)}get daysInYear(){if(!qn(this))throw new TypeError("invalid receiver");return io(Be(this,me),this)}get monthsInYear(){if(!qn(this))throw new TypeError("invalid receiver");return so(Be(this,me),this)}get inLeapYear(){if(!qn(this))throw new TypeError("invalid receiver");return ao(Be(this,me),this)}with(e,t){if(!qn(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid argument");Un(e);const n=Be(this,me),r=Ur(n,["month","monthCode","year"]),o=yr(e,r);if(!o)throw new TypeError("invalid year-month-like");let i=Er(this,r);return i=Wr(n,i,o),i=Er(i,r),mo(n,i,Wi(t))}add(e,t){if(!qn(this))throw new TypeError("invalid receiver");const n=er(e);let{years:r,months:o,weeks:i,days:s,hours:a,minutes:c,seconds:l,milliseconds:h,microseconds:u,nanoseconds:d}=n;({days:s}=ii(s,a,c,l,h,u,d,"day"));const f=Wi(t),m=Be(this,me),p=Ur(m,["monthCode","year"]),y=fo(m,{...Er(this,p),day:Xo(r,o,i,s,0,0,0,0,0,0)<0?$n(oo(m,this)):1}),g={...f};return mo(m,Er(Zr(m,y,{...n,days:s},f),p),g)}subtract(e,t){if(!qn(this))throw new TypeError("invalid receiver");let n=er(e);n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds};let{years:r,months:o,weeks:i,days:s,hours:a,minutes:c,seconds:l,milliseconds:h,microseconds:u,nanoseconds:d}=n;({days:s}=ii(s,a,c,l,h,u,d,"day"));const f=Wi(t),m=Be(this,me),p=Ur(m,["monthCode","year"]),y=fo(m,{...Er(this,p),day:Xo(r,o,i,s,0,0,0,0,0,0)<0?$n(oo(m,this)):1}),g={...f};return mo(m,Er(Zr(m,y,{...n,days:s},f),p),g)}until(e,t){if(!qn(this))throw new TypeError("invalid receiver");const n=xr(e),r=Be(this,me),o=Be(n,me),i=Tn(r),s=Tn(o);if(i!==s)throw new RangeError(`cannot compute difference between months of ${i} and ${s} calendars`);const a=Wi(t),c=ur(a,"month",na),l=hr(a,"auto",na,"year");fr(l,c);const h=rr(a,"trunc"),u=ar(a,void 0,!1),d=Ur(r,["monthCode","year"]),f=Er(n,d),m=Er(this,d),p=fo(r,{...f,day:1}),y=fo(r,{...m,day:1}),g=Hr(r,y,p,{...a,largestUnit:l});if("month"===c&&1===u)return g;let{years:w,months:v}=g;return({years:w,months:v}=Li(w,v,0,0,0,0,0,0,0,0,u,c,h,y)),new(ne("%Temporal.Duration%"))(w,v,0,0,0,0,0,0,0,0)}since(e,t){if(!qn(this))throw new TypeError("invalid receiver");const n=xr(e),r=Be(this,me),o=Be(n,me),i=Tn(r),s=Tn(o);if(i!==s)throw new RangeError(`cannot compute difference between months of ${i} and ${s} calendars`);const a=Wi(t),c=ur(a,"month",na),l=hr(a,"auto",na,"year");fr(l,c);const h=rr(a,"trunc"),u=ar(a,void 0,!1),d=Ur(r,["monthCode","year"]),f=Er(n,d),m=Er(this,d),p=fo(r,{...f,day:1}),y=fo(r,{...m,day:1}),g={...a,largestUnit:l};let{years:w,months:v}=Hr(r,y,p,g);const b=ne("%Temporal.Duration%");return"month"===c&&1===u||({years:w,months:v}=Li(w,v,0,0,0,0,0,0,0,0,u,c,or(h),y)),new b(-w,-v,0,0,0,0,0,0,0,0)}equals(e){if(!qn(this))throw new TypeError("invalid receiver");const t=xr(e);for(const e of[ie,se,ae])if(Be(this,e)!==Be(t,e))return!1;return ho(Be(this,me),Be(t,me))}toString(e){if(!qn(this))throw new TypeError("invalid receiver");return Mo(this,sr(Wi(e)))}toJSON(){if(!qn(this))throw new TypeError("invalid receiver");return Mo(this)}toLocaleString(e,t){if(!qn(this))throw new TypeError("invalid receiver");return new vs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!qn(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("argument should be an object");const t=Be(this,me),n=Ur(t,["monthCode","year"]),r=Er(this,n),o=Ur(t,["day"]),i=[["day"]];o.forEach((e=>{i.some((([t])=>t===e))||i.push([e,void 0])}));let s=Wr(t,r,gr(e,i));const a=[...new Set([...n,...o])],c=[];a.forEach((e=>{c.some((([t])=>t===e))||c.push([e,void 0])})),s=gr(s,c);const l=ta(null);return l.overflow="reject",fo(t,s,l)}getISOFields(){if(!qn(this))throw new TypeError("invalid receiver");return{calendar:Be(this,me),isoDay:Be(this,ae),isoMonth:Be(this,se),isoYear:Be(this,ie)}}static from(e,t){const n=Wi(t);return qn(e)?(tr(n),Yr(Be(e,ie),Be(e,se),Be(e,me),Be(e,ae))):xr(e,n)}static compare(e,t){const n=xr(e),r=xr(t);return ji(Be(n,ie),Be(n,se),Be(n,ae),Be(r,ie),Be(r,se),Be(r,ae))}}ee(ra,"Temporal.PlainYearMonth");const oa=Array.prototype.push;class ia{constructor(e,t,n=zr()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");qr(this,Fi(e),yo(t),co(n))}get calendar(){if(!zn(this))throw new TypeError("invalid receiver");return Be(this,me)}get timeZone(){if(!zn(this))throw new TypeError("invalid receiver");return Be(this,ye)}get year(){if(!zn(this))throw new TypeError("invalid receiver");return Kr(Be(this,me),sa(this))}get month(){if(!zn(this))throw new TypeError("invalid receiver");return Gr(Be(this,me),sa(this))}get monthCode(){if(!zn(this))throw new TypeError("invalid receiver");return Vr(Be(this,me),sa(this))}get day(){if(!zn(this))throw new TypeError("invalid receiver");return Jr(Be(this,me),sa(this))}get hour(){if(!zn(this))throw new TypeError("invalid receiver");return Be(sa(this),ce)}get minute(){if(!zn(this))throw new TypeError("invalid receiver");return Be(sa(this),le)}get second(){if(!zn(this))throw new TypeError("invalid receiver");return Be(sa(this),he)}get millisecond(){if(!zn(this))throw new TypeError("invalid receiver");return Be(sa(this),ue)}get microsecond(){if(!zn(this))throw new TypeError("invalid receiver");return Be(sa(this),de)}get nanosecond(){if(!zn(this))throw new TypeError("invalid receiver");return Be(sa(this),fe)}get era(){if(!zn(this))throw new TypeError("invalid receiver");return Xr(Be(this,me),sa(this))}get eraYear(){if(!zn(this))throw new TypeError("invalid receiver");return Qr(Be(this,me),sa(this))}get epochSeconds(){if(!zn(this))throw new TypeError("invalid receiver");const e=Be(this,re);return X.toNumber(X.divide(e,hn))}get epochMilliseconds(){if(!zn(this))throw new TypeError("invalid receiver");const e=Be(this,re);return X.toNumber(X.divide(e,ln))}get epochMicroseconds(){if(!zn(this))throw new TypeError("invalid receiver");const e=Be(this,re);return qi(X.divide(e,cn))}get epochNanoseconds(){if(!zn(this))throw new TypeError("invalid receiver");return qi(Be(this,re))}get dayOfWeek(){if(!zn(this))throw new TypeError("invalid receiver");return eo(Be(this,me),sa(this))}get dayOfYear(){if(!zn(this))throw new TypeError("invalid receiver");return to(Be(this,me),sa(this))}get weekOfYear(){if(!zn(this))throw new TypeError("invalid receiver");return no(Be(this,me),sa(this))}get hoursInDay(){if(!zn(this))throw new TypeError("invalid receiver");const e=sa(this),t=ne("%Temporal.PlainDateTime%"),n=Be(e,ie),r=Be(e,se),o=Be(e,ae),i=new t(n,r,o,0,0,0,0,0,0),s=ki(n,r,o,0,0,0,1,"reject"),a=new t(s.year,s.month,s.day,0,0,0,0,0,0),c=Be(this,ye),l=Be(To(c,i,"compatible"),re),h=Be(To(c,a,"compatible"),re);return X.toNumber(X.subtract(h,l))/36e11}get daysInWeek(){if(!zn(this))throw new TypeError("invalid receiver");return ro(Be(this,me),sa(this))}get daysInMonth(){if(!zn(this))throw new TypeError("invalid receiver");return oo(Be(this,me),sa(this))}get daysInYear(){if(!zn(this))throw new TypeError("invalid receiver");return io(Be(this,me),sa(this))}get monthsInYear(){if(!zn(this))throw new TypeError("invalid receiver");return so(Be(this,me),sa(this))}get inLeapYear(){if(!zn(this))throw new TypeError("invalid receiver");return ao(Be(this,me),sa(this))}get offset(){if(!zn(this))throw new TypeError("invalid receiver");return _o(Be(this,ye),Be(this,pe))}get offsetNanoseconds(){if(!zn(this))throw new TypeError("invalid receiver");return bo(Be(this,ye),Be(this,pe))}with(e,t){if(!zn(this))throw new TypeError("invalid receiver");if(!bn(e))throw new TypeError("invalid zoned-date-time-like");Un(e);const n=Wi(t),r=nr(n),o=ir(n,"prefer"),i=Be(this,ye),s=Be(this,me),a=Ur(s,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);oa.call(a,"offset");const c=yr(e,a);if(!c)throw new TypeError("invalid zoned-date-time-like");const l=[["day",void 0],["hour",0],["microsecond",0],["millisecond",0],["minute",0],["month",void 0],["monthCode",void 0],["nanosecond",0],["second",0],["year",void 0],["offset"],["timeZone"]];a.forEach((e=>{l.some((([t])=>t===e))||l.push([e,void 0])}));let h=gr(this,l);h=Wr(s,h,c),h=gr(h,l);const{year:u,month:d,day:f,hour:m,minute:p,second:y,millisecond:g,microsecond:w,nanosecond:v}=kr(s,h,n);return Fr(Or(u,d,f,m,p,y,g,w,v,"option",No(h.offset),i,r,o,!1),Be(this,ye),s)}withPlainDate(e){if(!zn(this))throw new TypeError("invalid receiver");const t=Tr(e),n=Be(t,ie),r=Be(t,se),o=Be(t,ae);let i=Be(t,me);const s=sa(this),a=Be(s,ce),c=Be(s,le),l=Be(s,he),h=Be(s,ue),u=Be(s,de),d=Be(s,fe);i=uo(Be(this,me),i);const f=Be(this,ye);return Fr(Be(To(f,new(ne("%Temporal.PlainDateTime%"))(n,r,o,a,c,l,h,u,d,i),"compatible"),re),f,i)}withPlainTime(e){if(!zn(this))throw new TypeError("invalid receiver");const t=ne("%Temporal.PlainTime%"),n=null==e?new t:Ir(e),r=sa(this),o=Be(r,ie),i=Be(r,se),s=Be(r,ae),a=Be(this,me),c=Be(n,ce),l=Be(n,le),h=Be(n,he),u=Be(n,ue),d=Be(n,de),f=Be(n,fe),m=Be(this,ye);return Fr(Be(To(m,new(ne("%Temporal.PlainDateTime%"))(o,i,s,c,l,h,u,d,f,a),"compatible"),re),m,a)}withTimeZone(e){if(!zn(this))throw new TypeError("invalid receiver");const t=yo(e);return Fr(Be(this,re),t,Be(this,me))}withCalendar(e){if(!zn(this))throw new TypeError("invalid receiver");const t=co(e);return Fr(Be(this,re),Be(this,ye),t)}add(e,t){if(!zn(this))throw new TypeError("invalid receiver");const n=er(e),{years:r,months:o,weeks:i,days:s,hours:a,minutes:c,seconds:l,milliseconds:h,microseconds:u,nanoseconds:d}=n,f=Wi(t),m=Be(this,ye),p=Be(this,me);return Fr(Ii(Be(this,pe),m,p,r,o,i,s,a,c,l,h,u,d,f),m,p)}subtract(e,t){if(!zn(this))throw new TypeError("invalid receiver");const n=er(e),{years:r,months:o,weeks:i,days:s,hours:a,minutes:c,seconds:l,milliseconds:h,microseconds:u,nanoseconds:d}=n,f=Wi(t),m=Be(this,ye),p=Be(this,me);return Fr(Ii(Be(this,pe),m,p,-r,-o,-i,-s,-a,-c,-l,-h,-u,-d,f),m,p)}until(e,t){if(!zn(this))throw new TypeError("invalid receiver");const n=Br(e),r=Be(this,me),o=Be(n,me),i=Tn(r),s=Tn(o);if(i!==s)throw new RangeError(`cannot compute difference between dates of ${i} and ${s} calendars`);const a=Wi(t),c=ur(a,"nanosecond"),l=hr(a,"auto",[],pr("hour",c));fr(l,c);const h=rr(a,"trunc"),u=cr(a,c),d=Be(this,re),f=Be(n,re);let m,p,y,g,w,v,b,_,E,T;if("year"!==l&&"month"!==l&&"week"!==l&&"day"!==l)m=0,p=0,y=0,g=0,({seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=_i(d,f,u,c,h)),({hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=ii(0,0,0,b,_,E,T,l));else{const e=Be(this,ye);if(!go(e,Be(n,ye)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const t={...a,largestUnit:l};({years:m,months:p,weeks:y,days:g,hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=Ti(d,f,e,r,l,t)),({years:m,months:p,weeks:y,days:g,hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=Li(m,p,y,g,w,v,b,_,E,T,u,c,h,this)),({years:m,months:p,weeks:y,days:g,hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=Ni(m,p,y,g,w,v,b,_,E,T,u,c,h,this))}return new(ne("%Temporal.Duration%"))(m,p,y,g,w,v,b,_,E,T)}since(e,t){if(!zn(this))throw new TypeError("invalid receiver");const n=Br(e),r=Be(this,me),o=Be(n,me),i=Tn(r),s=Tn(o);if(i!==s)throw new RangeError(`cannot compute difference between dates of ${i} and ${s} calendars`);const a=Wi(t),c=ur(a,"nanosecond"),l=hr(a,"auto",[],pr("hour",c));fr(l,c);let h=rr(a,"trunc");h=or(h);const u=cr(a,c),d=Be(this,re),f=Be(n,re);let m,p,y,g,w,v,b,_,E,T;if("year"!==l&&"month"!==l&&"week"!==l&&"day"!==l)m=0,p=0,y=0,g=0,({seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=_i(d,f,u,c,h)),({hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=ii(0,0,0,b,_,E,T,l));else{const e=Be(this,ye);if(!go(e,Be(n,ye)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const t={...a,largestUnit:l};({years:m,months:p,weeks:y,days:g,hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=Ti(d,f,e,r,l,t)),({years:m,months:p,weeks:y,days:g,hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=Li(m,p,y,g,w,v,b,_,E,T,u,c,h,this)),({years:m,months:p,weeks:y,days:g,hours:w,minutes:v,seconds:b,milliseconds:_,microseconds:E,nanoseconds:T}=Ni(m,p,y,g,w,v,b,_,E,T,u,c,h,this))}return new(ne("%Temporal.Duration%"))(-m,-p,-y,-g,-w,-v,-b,-_,-E,-T)}round(e){if(!zn(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?Zi("smallestUnit",e):Wi(e),n=ur(t,void 0,["year","month","week"]);if(void 0===n)throw new RangeError("smallestUnit is required");const r=rr(t,"halfExpand"),o=ar(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[n],!1),i=sa(this);let s=Be(i,ie),a=Be(i,se),c=Be(i,ae),l=Be(i,ce),h=Be(i,le),u=Be(i,he),d=Be(i,ue),f=Be(i,de),m=Be(i,fe);const p=ne("%Temporal.PlainDateTime%"),y=Be(this,ye),g=Be(this,me),w=To(y,new p(Be(i,ie),Be(i,se),Be(i,ae),0,0,0,0,0,0),"compatible"),v=Ii(w,y,g,0,0,0,1,0,0,0,0,0,0),b=X.subtract(v,X.BigInt(Be(w,re)));if(X.equal(b,on))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");return({year:s,month:a,day:c,hour:l,minute:h,second:u,millisecond:d,microsecond:f,nanosecond:m}=Bi(s,a,c,l,h,u,d,f,m,o,n,r,X.toNumber(b))),Fr(Or(s,a,c,l,h,u,d,f,m,"option",bo(y,Be(this,pe)),y,"compatible","prefer",!1),y,Be(this,me))}equals(e){if(!zn(this))throw new TypeError("invalid receiver");const t=Br(e),n=Be(this,re),r=Be(t,re);return!!X.equal(X.BigInt(n),X.BigInt(r))&&!!go(Be(this,ye),Be(t,ye))&&ho(Be(this,me),Be(t,me))}toString(e){if(!zn(this))throw new TypeError("invalid receiver");const t=Wi(e),{precision:n,unit:r,increment:o}=lr(t),i=rr(t,"trunc");return Po(this,n,sr(t),function(e){return Hi(e,"timeZoneName",["auto","never"],"auto")}(t),function(e){return Hi(e,"offset",["auto","never"],"auto")}(t),{unit:r,increment:o,roundingMode:i})}toLocaleString(e,t){if(!zn(this))throw new TypeError("invalid receiver");return new vs(e,t).format(this)}toJSON(){if(!zn(this))throw new TypeError("invalid receiver");return Po(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!zn(this))throw new TypeError("invalid receiver");const e=sa(this),t=ne("%Temporal.PlainDateTime%"),n=Be(this,me),r=new t(Be(e,ie),Be(e,se),Be(e,ae),0,0,0,0,0,0,n),o=Be(this,ye);return Fr(Be(To(o,r,"compatible"),re),o,n)}toInstant(){if(!zn(this))throw new TypeError("invalid receiver");return new(ne("%Temporal.Instant%"))(Be(this,re))}toPlainDate(){if(!zn(this))throw new TypeError("invalid receiver");return wo(sa(this))}toPlainTime(){if(!zn(this))throw new TypeError("invalid receiver");return vo(sa(this))}toPlainDateTime(){if(!zn(this))throw new TypeError("invalid receiver");return sa(this)}toPlainYearMonth(){if(!zn(this))throw new TypeError("invalid receiver");const e=Be(this,me);return mo(e,Er(this,Ur(e,["monthCode","year"])))}toPlainMonthDay(){if(!zn(this))throw new TypeError("invalid receiver");const e=Be(this,me);return po(e,br(this,Ur(e,["day","monthCode"])))}getISOFields(){if(!zn(this))throw new TypeError("invalid receiver");const e=sa(this),t=Be(this,ye);return{calendar:Be(this,me),isoDay:Be(e,ae),isoHour:Be(e,ce),isoMicrosecond:Be(e,de),isoMillisecond:Be(e,ue),isoMinute:Be(e,le),isoMonth:Be(e,se),isoNanosecond:Be(e,fe),isoSecond:Be(e,he),isoYear:Be(e,ie),offset:_o(t,Be(this,pe)),timeZone:t}}static from(e,t){const n=Wi(t);return zn(e)?(tr(n),nr(n),ir(n,"reject"),Fr(Be(e,re),Be(e,ye),Be(e,me))):Br(e,n)}static compare(e,t){const n=Br(e),r=Br(t),o=Be(n,re),i=Be(r,re);return X.lessThan(X.BigInt(o),X.BigInt(i))?-1:X.greaterThan(X.BigInt(o),X.BigInt(i))?1:0}}function sa(e){return Eo(Be(e,ye),Be(e,pe),Be(e,me))}ee(ia,"Temporal.ZonedDateTime");var aa=Object.freeze({__proto__:null,Instant:As,Calendar:ze,PlainDate:Ls,PlainDateTime:js,Duration:Ys,PlainMonthDay:Fs,Now:Ks,PlainTime:Qs,TimeZone:ea,PlainYearMonth:ra,ZonedDateTime:ia});const ca=[As,ze,Ls,js,Ys,Fs,Qs,ea,ra,ia];for(const e of ca){const t=Object.getOwnPropertyDescriptor(e,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(e,"prototype",t))}function la(t){let n,r,o,i;return{c(){n=p("div"),r=p("p"),r.textContent=`${t[1][t[0].month]}  ${t[0].year}`,o=g(),i=p("p"),i.textContent=`${t[0].day}`,b(r,"class","mon svelte-h4aeu2"),b(i,"class","day svelte-h4aeu2"),b(n,"class","date-part svelte-h4aeu2")},m(e,t){d(e,n,t),u(n,r),u(n,o),u(n,i)},p:e,i:e,o:e,d(e){e&&f(n)}}}function ha(e){return[aa.Now.zonedDateTimeISO(),{1:"Jan",2:"Feb",3:"March",4:"April",5:"May",6:"June",7:"July",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}]}class ua extends G{constructor(e){super(),K(this,e,ha,la,i,{})}}const da=(e,t,n,r,o)=>r+(o-r)*(e-t)/(n-t);function fa(t){let n,r,o,i,s,a,c,l,h;return{c(){n=p("div"),r=p("div"),o=p("div"),i=p("p"),s=y(t[0]),a=y("/"),c=y(t[1]),l=g(),h=p("div"),b(i,"class","svelte-jqkp86"),b(o,"class","semi-circle svelte-jqkp86"),b(h,"class","semi-circle--mask svelte-jqkp86"),T(h,"transform","rotate("+t[3]+"deg) translate3d(0, 0, 0)"),b(r,"class","mask svelte-jqkp86"),T(n,"--theme-color",t[2]),b(n,"class","gauge--1 svelte-jqkp86")},m(e,t){d(e,n,t),u(n,r),u(r,o),u(o,i),u(i,s),u(i,a),u(i,c),u(r,l),u(r,h)},p(e,[t]){1&t&&_(s,e[0]),2&t&&_(c,e[1]),8&t&&T(h,"transform","rotate("+e[3]+"deg) translate3d(0, 0, 0)"),4&t&&T(n,"--theme-color",e[2])},i:e,o:e,d(e){e&&f(n)}}}function ma(e,t,n){let{rotate:r}=t,{max:o}=t,{gaugeColor:i}=t,s=da(r,0,o,0,360);return e.$$set=e=>{"rotate"in e&&n(0,r=e.rotate),"max"in e&&n(1,o=e.max),"gaugeColor"in e&&n(2,i=e.gaugeColor)},e.$$.update=()=>{3&e.$$.dirty&&n(3,s=da(r,0,o,0,180))},[r,o,i,s]}class pa extends G{constructor(e){super(),K(this,e,ma,fa,i,{rotate:0,max:1,gaugeColor:2})}}function ya(t){let n,o,i,s,a,c,l,h,m;return{c(){n=p("div"),o=p("div"),i=p("p"),i.textContent="Are you sure?",s=g(),a=p("button"),a.textContent="Yes",c=g(),l=p("button"),l.textContent="No",b(i,"class","svelte-1wt71df"),b(a,"class","yes svelte-1wt71df"),b(l,"class","no svelte-1wt71df"),b(o,"class","yesNo svelte-1wt71df"),b(n,"class","prompt svelte-1wt71df")},m(e,r){d(e,n,r),u(n,o),u(o,i),u(o,s),u(o,a),u(o,c),u(o,l),h||(m=[v(a,"click",t[1]),v(l,"click",t[2]),v(n,"click",t[3])],h=!0)},p:e,i:e,o:e,d(e){e&&f(n),h=!1,r(m)}}}function ga(e){const t=$();return[t,()=>{t("answer",!0)},()=>{t("closeit",!0)},({target:e})=>{e.classList.contains("prompt")&&t("closeit",!0)}]}class wa extends G{constructor(e){super(),K(this,e,ga,ya,i,{})}}function va(t){let n,r;return n=new wa({}),n.$on("closeit",t[6]),n.$on("answer",t[7]),{c(){U(n.$$.fragment)},m(e,t){W(n,e,t),r=!0},p:e,i(e){r||(F(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){Z(n,e)}}}function ba(e){let t,n,o,i,s,a,c,l,h,m,y,w,_,E,T,k=e[1]&&va(e);return{c(){t=p("div"),n=p("p"),n.textContent="Danger Zone",o=g(),i=p("button"),i.textContent="Change Password",s=g(),a=p("button"),a.textContent="Delete Account",c=g(),l=p("div"),h=p("p"),h.textContent="Allow 2fa",m=g(),y=p("input"),w=g(),k&&k.c(),b(n,"class","title svelte-uwhhk8"),b(i,"class","svelte-uwhhk8"),b(a,"class","svelte-uwhhk8"),b(h,"class","svelte-uwhhk8"),y.checked=e[0],b(y,"type","checkbox"),b(y,"name","Allow 2fa checkbox"),b(y,"class","checkbox svelte-uwhhk8"),b(l,"class","tfa svelte-uwhhk8"),b(t,"class","password svelte-uwhhk8")},m(r,f){d(r,t,f),u(t,n),u(t,o),u(t,i),u(t,s),u(t,a),u(t,c),u(t,l),u(l,h),u(l,m),u(l,y),u(t,w),k&&k.m(t,null),_=!0,E||(T=[v(i,"click",e[3]),v(a,"click",e[4]),v(y,"change",e[5])],E=!0)},p(e,[n]){(!_||1&n)&&(y.checked=e[0]),e[1]?k?(k.p(e,n),2&n&&F(k,1)):(k=va(e),k.c(),F(k,1),k.m(t,null)):k&&(Y(),z(k,1,1,(()=>{k=null})),q())},i(e){_||(F(k),_=!0)},o(e){z(k),_=!1},d(e){e&&f(t),k&&k.d(),E=!1,r(T)}}}function _a(e,t,n){let{tfaTrue:r}=t;const o=$();let i=!1;return e.$$set=e=>{"tfaTrue"in e&&n(0,r=e.tfaTrue)},[r,i,o,()=>{o("change-password",!0)},()=>{n(1,i=!0)},({target:e})=>{o("changeTfa",e.checked)},()=>{n(1,i=!1)},()=>{o("delete-account",!0),n(1,i=!1)}]}class Ea extends G{constructor(e){super(),K(this,e,_a,ba,i,{tfaTrue:0})}}function Ta(t){let n,r,o,i,s,a,l,h,m,w,v=(t[2]?t[2]:"N/A")+"";return{c(){n=p("div"),r=p("div"),o=p("img"),s=g(),a=p("h2"),l=y(v),h=g(),m=p("p"),w=y(t[0]),c(o.src,i=t[1]?t[1]:null)||b(o,"src",i),b(o,"alt","Icon"),b(o,"class","svelte-kd328s"),T(r,"background-color",t[3]?t[3]:"rgba(79, 0, 153, 0.7)"),b(r,"class","svelte-kd328s"),b(a,"class","svelte-kd328s"),b(m,"class","svelte-kd328s"),b(n,"class","card svelte-kd328s")},m(e,t){d(e,n,t),u(n,r),u(r,o),u(n,s),u(n,a),u(a,l),u(n,h),u(n,m),u(m,w)},p(e,[t]){2&t&&!c(o.src,i=e[1]?e[1]:null)&&b(o,"src",i),8&t&&T(r,"background-color",e[3]?e[3]:"rgba(79, 0, 153, 0.7)"),4&t&&v!==(v=(e[2]?e[2]:"N/A")+"")&&_(l,v),1&t&&_(w,e[0])},i:e,o:e,d(e){e&&f(n)}}}function ka(e,t,n){let{answer:r}=t,{icon:o}=t,{title:i}=t,{iconBackground:s}=t;return e.$$set=e=>{"answer"in e&&n(0,r=e.answer),"icon"in e&&n(1,o=e.icon),"title"in e&&n(2,i=e.title),"iconBackground"in e&&n(3,s=e.iconBackground)},[r,o,i,s]}class $a extends G{constructor(e){super(),K(this,e,ka,Ta,i,{answer:0,icon:1,title:2,iconBackground:3})}}function Sa(e){let t,n,r,o,i,s,a,c,l,h,m;return o=new $a({props:{answer:e[0],icon:"./shield-lock.svg",title:"Attempted Logins",iconBackground:"rgba(79, 0, 153, 0.7)"}}),s=new $a({props:{answer:e[1],icon:"./shield-x.svg",title:"Failed Attempts",iconBackground:"rgba(0, 82, 195, 0.7)"}}),c=new $a({props:{answer:e[3]-1,icon:"./shield-check.svg",title:"Subscriptions",iconBackground:"rgba(195, 0, 40, 0.7)"}}),h=new $a({props:{answer:e[2],icon:"./bar-chart-line.svg",title:"Most Popular",iconBackground:"rgba(116, 233, 36, 0.7)"}}),{c(){t=p("div"),n=p("p"),n.textContent="Statistics",r=g(),U(o.$$.fragment),i=g(),U(s.$$.fragment),a=g(),U(c.$$.fragment),l=g(),U(h.$$.fragment),b(n,"class","svelte-1txuqok"),b(t,"class","stats svelte-1txuqok")},m(e,f){d(e,t,f),u(t,n),u(t,r),W(o,t,null),u(t,i),W(s,t,null),u(t,a),W(c,t,null),u(t,l),W(h,t,null),m=!0},p(e,[t]){const n={};1&t&&(n.answer=e[0]),o.$set(n);const r={};2&t&&(r.answer=e[1]),s.$set(r);const i={};8&t&&(i.answer=e[3]-1),c.$set(i);const a={};4&t&&(a.answer=e[2]),h.$set(a)},i(e){m||(F(o.$$.fragment,e),F(s.$$.fragment,e),F(c.$$.fragment,e),F(h.$$.fragment,e),m=!0)},o(e){z(o.$$.fragment,e),z(s.$$.fragment,e),z(c.$$.fragment,e),z(h.$$.fragment,e),m=!1},d(e){e&&f(t),Z(o),Z(s),Z(c),Z(h)}}}function Ca(e,t,n){let{logins:r}=t,{failed:o}=t,{mostPopular:i}=t,{subscriptions:s}=t;return e.$$set=e=>{"logins"in e&&n(0,r=e.logins),"failed"in e&&n(1,o=e.failed),"mostPopular"in e&&n(2,i=e.mostPopular),"subscriptions"in e&&n(3,s=e.subscriptions)},[r,o,i,s]}class Da extends G{constructor(e){super(),K(this,e,Ca,Sa,i,{logins:0,failed:1,mostPopular:2,subscriptions:3})}}const Ia=document.querySelector(":root"),xa=()=>{const e=window.localStorage.getItem("theme");"dark"!==e&&e?(Ia.style.setProperty("--header-background-color","#f3f3f3"),Ia.style.setProperty("--header-color","#000000"),Ia.style.setProperty("--main-background-color","#dfdfdf"),Ia.style.setProperty("--main-color","#000000"),Ia.style.setProperty("--shadow","rgba(100, 100, 111, 0.2) 0px 7px 29px 0px"),window.localStorage.setItem("theme","dark")):(Ia.style.setProperty("--header-background-color","#202020"),Ia.style.setProperty("--header-color","rgb(179, 179, 179)"),Ia.style.setProperty("--main-background-color","rgb(25, 32, 43)"),Ia.style.setProperty("--main-color","#dfdfdf"),Ia.style.setProperty("--shadow","rgb(0 0 0) 0px 3px 8px"),window.localStorage.setItem("theme","light"))};function Oa(e){let t;return{c(){t=p("p"),t.textContent="BlackListed",b(t,"class","blacklist-p svelte-bwhyfa")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function Ba(t){let n,r,o;return{c(){n=p("button"),n.innerHTML='<img src="./shield-x.svg" alt="Blacklist" class="svelte-bwhyfa"/>',b(n,"name","Blacklist"),b(n,"title","Blacklist"),b(n,"class","svelte-bwhyfa")},m(e,i){d(e,n,i),r||(o=v(n,"click",t[7]),r=!0)},p:e,d(e){e&&f(n),r=!1,o()}}}function Ra(t){let n,r,o;return{c(){n=p("button"),n.innerHTML='<img src="./shield-check.svg" alt="Un-Blacklist" class="svelte-bwhyfa"/>',b(n,"name","Un-Blacklist"),b(n,"title","Un-Blacklist"),b(n,"class","svelte-bwhyfa")},m(e,i){d(e,n,i),r||(o=v(n,"click",t[6]),r=!0)},p:e,d(e){e&&f(n),r=!1,o()}}}function Ma(t){let n,r,o,i,s,a,l,m,w,v=(t[0]?t[4].origin:"N/A")+"",E=t[3]&&Oa();function T(e,t){return e[3]?Ra:Ba}let k=T(t),$=k(t);return{c(){n=p("div"),E&&E.c(),r=g(),o=p("img"),s=g(),a=p("a"),l=y(v),m=g(),$.c(),b(o,"class","web-img svelte-bwhyfa"),c(o.src,i="./window.svg")||b(o,"src","./window.svg"),b(o,"alt","Website"),b(a,"href",t[4].origin),b(a,"target","_blank"),b(a,"class","name svelte-bwhyfa"),b(n,"class",w=h(t[3]?"blackList":"website")+" svelte-bwhyfa")},m(e,t){d(e,n,t),E&&E.m(n,null),u(n,r),u(n,o),u(n,s),u(n,a),u(a,l),u(n,m),$.m(n,null)},p(e,[t]){e[3]?E||(E=Oa(),E.c(),E.m(n,r)):E&&(E.d(1),E=null),1&t&&v!==(v=(e[0]?e[4].origin:"N/A")+"")&&_(l,v),k===(k=T(e))&&$?$.p(e,t):($.d(1),$=k(e),$&&($.c(),$.m(n,null))),8&t&&w!==(w=h(e[3]?"blackList":"website")+" svelte-bwhyfa")&&b(n,"class",w)},i:e,o:e,d(e){e&&f(n),E&&E.d(),$.d()}}}function Pa(e,t,n){const r=$();let o,{name:i}=t,{socket:s}=t,{userData:a}=t,{blackList:c}=t;o="false"!==c;try{new URL(i)}catch(e){i="https://www.google.com"}let l=new URL(i);s.on("blacklist",(e=>{if(!e.success)return n(3,o=e.blacklist),void r("error",`Unable to ${e.blacklist?"blacklist":"unblacklist"} website.`);r("success",`Successfully ${e.blacklist?"blacklisted":"unblacklisted"} website.`)}));return e.$$set=e=>{"name"in e&&n(0,i=e.name),"socket"in e&&n(1,s=e.socket),"userData"in e&&n(2,a=e.userData),"blackList"in e&&n(5,c=e.blackList)},[i,s,a,o,l,c,()=>{n(3,o=!1),s.emit("blacklist",{name:i,key:a.data,blackList:!1})},()=>{n(3,o=!0),s.emit("blacklist",{name:i,key:a.data,blackList:!0})}]}class Aa extends G{constructor(e){super(),K(this,e,Pa,Ma,i,{name:0,socket:1,userData:2,blackList:5})}}function Na(e,t,n){const r=e.slice();return r[5]=t[n],r}function La(e){let t;return{c(){t=p("div"),t.textContent="No 3rd party websites.",b(t,"class","empty svelte-c76m4e")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function ja(e){let t,n;return t=new Aa({props:{userData:e[2],socket:e[1],name:e[5].site,blackList:e[5].blackList}}),t.$on("error",e[3]),t.$on("success",e[4]),{c(){U(t.$$.fragment)},m(e,r){W(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.userData=e[2]),2&n&&(r.socket=e[1]),1&n&&(r.name=e[5].site),1&n&&(r.blackList=e[5].blackList),t.$set(r)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Ya(e){let t,n,r=!e[5].site.includes(window.location.origin),o=r&&ja(e);return{c(){o&&o.c(),t=w()},m(e,r){o&&o.m(e,r),d(e,t,r),n=!0},p(e,n){1&n&&(r=!e[5].site.includes(window.location.origin)),r?o?(o.p(e,n),1&n&&F(o,1)):(o=ja(e),o.c(),F(o,1),o.m(t.parentNode,t)):o&&(Y(),z(o,1,1,(()=>{o=null})),q())},i(e){n||(F(o),n=!0)},o(e){z(o),n=!1},d(e){o&&o.d(e),e&&f(t)}}}function qa(e){let t,n,r,o=1===e[0].length&&La(),i=e[0],s=[];for(let t=0;t<i.length;t+=1)s[t]=Ya(Na(e,i,t));const a=e=>z(s[e],1,1,(()=>{s[e]=null}));return{c(){t=p("div"),o&&o.c(),n=g();for(let e=0;e<s.length;e+=1)s[e].c();b(t,"class","websites svelte-c76m4e")},m(e,i){d(e,t,i),o&&o.m(t,null),u(t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null);r=!0},p(e,[r]){if(1===e[0].length?o||(o=La(),o.c(),o.m(t,n)):o&&(o.d(1),o=null),7&r){let n;for(i=e[0],n=0;n<i.length;n+=1){const o=Na(e,i,n);s[n]?(s[n].p(o,r),F(s[n],1)):(s[n]=Ya(o),s[n].c(),F(s[n],1),s[n].m(t,null))}for(Y(),n=i.length;n<s.length;n+=1)a(n);q()}},i(e){if(!r){for(let e=0;e<i.length;e+=1)F(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)z(s[e]);r=!1},d(e){e&&f(t),o&&o.d(),m(s,e)}}}function Fa(e,t,n){let{sites:r}=t,{socket:o}=t,{userData:i}=t;return e.$$set=e=>{"sites"in e&&n(0,r=e.sites),"socket"in e&&n(1,o=e.socket),"userData"in e&&n(2,i=e.userData)},[r,o,i,function(t){S.call(this,e,t)},function(t){S.call(this,e,t)}]}class za extends G{constructor(e){super(),K(this,e,Fa,qa,i,{sites:0,socket:1,userData:2})}}function Ua(t){let n,r,o,i,s,a,l,h,m,w,E=(t[0]?t[0]:"N/A")+"";return{c(){n=p("div"),r=p("img"),i=g(),s=p("p"),a=y(E),l=g(),h=p("button"),h.innerHTML='<img src="./trash3.svg" alt="Delete" class="svelte-1g9ne50"/>',b(r,"class","web-img svelte-1g9ne50"),c(r.src,o="./key.svg")||b(r,"src","./key.svg"),b(r,"alt","Key"),b(s,"class","name svelte-1g9ne50"),b(h,"name","delete"),b(h,"title","Delete"),b(h,"class","svelte-1g9ne50"),b(n,"class","website svelte-1g9ne50")},m(e,o){d(e,n,o),u(n,r),u(n,i),u(n,s),u(s,a),u(n,l),u(n,h),m||(w=v(h,"click",t[3]),m=!0)},p(e,[t]){1&t&&E!==(E=(e[0]?e[0]:"N/A")+"")&&_(a,E)},i:e,o:e,d(e){e&&f(n),m=!1,w()}}}function Wa(e,t,n){const r=$();let{name:o}=t,{id:i}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"id"in e&&n(1,i=e.id)},[o,i,r,()=>{r("delete",{id:i,name:o})}]}class Za extends G{constructor(e){super(),K(this,e,Wa,Ua,i,{name:0,id:1})}}function Ha(e){return(new TextEncoder).encode(e)}function Ka(e){const t=new Uint8Array(e);let n="";for(const e of t)n+=String.fromCharCode(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Ga(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=t.padEnd(t.length+n,"="),o=atob(r),i=new ArrayBuffer(o.length),s=new Uint8Array(i);for(let e=0;e<o.length;e++)s[e]=o.charCodeAt(e);return i}function Va(){return void 0!==(null===window||void 0===window?void 0:window.PublicKeyCredential)&&"function"==typeof window.PublicKeyCredential}function Ja(e){const{id:t}=e;return{...e,id:Ga(t),transports:e.transports}}function Xa(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}class Qa extends Error{constructor(e,t="WebAuthnError"){super(e),this.name=t}}const ec=new class{createNewAbortSignal(){return this.controller&&this.controller.abort(),this.controller=new AbortController,this.controller.signal}reset(){this.controller=void 0}};async function tc(){if(navigator.credentials.conditionalMediationSupported)return!0;const e=window.PublicKeyCredential;return void 0!==e.isConditionalMediationAvailable&&e.isConditionalMediationAvailable()}var nc=Object.freeze({__proto__:null,browserSupportsWebAuthn:Va,browserSupportsWebAuthnAutofill:tc,platformAuthenticatorIsAvailable:async function(){return!!Va()&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()},startAuthentication:async function(e,t=!1){var n,r;if(!Va())throw new Error("WebAuthn is not supported in this browser");let o;0!==(null===(n=e.allowCredentials)||void 0===n?void 0:n.length)&&(o=null===(r=e.allowCredentials)||void 0===r?void 0:r.map(Ja));const i={...e,challenge:Ga(e.challenge),allowCredentials:o},s={};if(t){if(!await tc())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete*='webauthn']").length<1)throw Error('No <input> with `"webauthn"` in its `autocomplete` attribute was detected');s.mediation="conditional",i.allowCredentials=[]}let a;s.publicKey=i,s.signal=ec.createNewAbortSignal();try{a=await navigator.credentials.get(s)}catch(e){throw function({error:e,options:t}){var n;const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal===(new AbortController).signal)return new Qa("Authentication ceremony was sent an abort signal","AbortError")}else{if("NotAllowedError"===e.name)return(null===(n=r.allowCredentials)||void 0===n?void 0:n.length)?new Qa("No available authenticator recognized any of the allowed credentials","NotAllowedError"):new Qa("User clicked cancel, or the authentication ceremony timed out","NotAllowedError");if("SecurityError"===e.name){const e=window.location.hostname;if(!Xa(e))return new Qa(`${window.location.hostname} is an invalid domain`,"SecurityError");if(r.rpId!==e)return new Qa(`The RP ID "${r.rpId}" is invalid for this domain`,"SecurityError")}else if("UnknownError"===e.name)return new Qa("The authenticator was unable to process the specified options, or could not create a new assertion signature","UnknownError")}return e}({error:e,options:s})}finally{ec.reset()}if(!a)throw new Error("Authentication was not completed");const{id:c,rawId:l,response:h,type:u}=a;let d;return h.userHandle&&(d=function(e){return new TextDecoder("utf-8").decode(e)}(h.userHandle)),{id:c,rawId:Ka(l),response:{authenticatorData:Ka(h.authenticatorData),clientDataJSON:Ka(h.clientDataJSON),signature:Ka(h.signature),userHandle:d},type:u,clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:a.authenticatorAttachment}},startRegistration:async function(e){if(!Va())throw new Error("WebAuthn is not supported in this browser");const t={publicKey:{...e,challenge:Ga(e.challenge),user:{...e.user,id:Ha(e.user.id)},excludeCredentials:e.excludeCredentials.map(Ja)}};let n;t.signal=ec.createNewAbortSignal();try{n=await navigator.credentials.create(t)}catch(e){throw function({error:e,options:t}){var n,r;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal===(new AbortController).signal)return new Qa("Registration ceremony was sent an abort signal","AbortError")}else if("ConstraintError"===e.name){if(!0===(null===(n=o.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new Qa("Discoverable credentials were required but no available authenticator supported it","ConstraintError");if("required"===(null===(r=o.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new Qa("User verification was required but no available authenticator supported it","ConstraintError")}else{if("InvalidStateError"===e.name)return new Qa("The authenticator was previously registered","InvalidStateError");if("NotAllowedError"===e.name)return new Qa("User clicked cancel, or the registration ceremony timed out","NotAllowedError");if("NotSupportedError"===e.name)return 0===o.pubKeyCredParams.filter((e=>"public-key"===e.type)).length?new Qa('No entry in pubKeyCredParams was of type "public-key"',"NotSupportedError"):new Qa("No available authenticator supported any of the specified pubKeyCredParams algorithms","NotSupportedError");if("SecurityError"===e.name){const e=window.location.hostname;if(!Xa(e))return new Qa(`${window.location.hostname} is an invalid domain`,"SecurityError");if(o.rp.id!==e)return new Qa(`The RP ID "${o.rp.id}" is invalid for this domain`,"SecurityError")}else if("TypeError"===e.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Qa("User ID was not between 1 and 64 characters","TypeError")}else if("UnknownError"===e.name)return new Qa("The authenticator was unable to process the specified options, or could not create a new credential","UnknownError")}return e}({error:e,options:t})}finally{ec.reset()}if(!n)throw new Error("Registration was not completed");const{id:r,rawId:o,response:i,type:s}=n,a={id:r,rawId:Ka(o),response:{attestationObject:Ka(i.attestationObject),clientDataJSON:Ka(i.clientDataJSON)},type:s,clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:n.authenticatorAttachment};return"function"==typeof i.getTransports&&(a.transports=i.getTransports()),a}});function rc(t){let n,o,i,s,a,c,l,h,m,y,w,_,k,$,S,C,D,I;return{c(){n=p("div"),o=p("div"),i=p("p"),s=p("span"),a=p("span"),c=g(),l=p("div"),h=p("div"),h.innerHTML='<img src="/icons/cursor-text.svg" alt="Person" class="svelte-7bekkk"/>',m=g(),y=p("input"),w=g(),_=p("button"),_.textContent="Begin",k=g(),$=p("button"),$.textContent="Finish",S=g(),C=p("button"),C.textContent="Cancel",b(s,"id","success"),b(s,"class","svelte-7bekkk"),b(a,"id","error"),b(a,"class","svelte-7bekkk"),b(i,"class","status svelte-7bekkk"),b(h,"class","iconpart svelte-7bekkk"),b(y,"type","text"),b(y,"placeholder","2fa Method Name (e.g., Bobs Security Key)."),b(y,"id","keyName"),b(y,"class","svelte-7bekkk"),b(l,"class","label svelte-7bekkk"),b(_,"id","btnBegin"),b(_,"class","svelte-7bekkk"),b($,"id","finishButton"),T($,"display","none"),b($,"class","svelte-7bekkk"),b(C,"id","cancelButton"),b(C,"class","svelte-7bekkk"),b(o,"class","addOnBox svelte-7bekkk"),b(n,"class","addOn svelte-7bekkk"),b(n,"id","addOnCover")},m(e,r){d(e,n,r),u(n,o),u(o,i),u(i,s),t[6](s),u(i,a),t[7](a),u(o,c),u(o,l),u(l,h),u(l,m),u(l,y),E(y,t[3]),u(o,w),u(o,_),t[9](_),u(o,k),u(o,$),u(o,S),u(o,C),D||(I=[v(y,"input",t[8]),v(_,"click",t[5]),v($,"click",t[4]),v(C,"click",t[10])],D=!0)},p(e,[t]){8&t&&y.value!==e[3]&&E(y,e[3])},i:e,o:e,d(e){e&&f(n),t[6](null),t[7](null),t[9](null),D=!1,r(I)}}}function oc(e,t,n){const r=$(),{startRegistration:o}=nc;let i,s,a,c;const l=async e=>{r(e?"cancel":"success",!0)};return[i,s,a,c,l,async()=>{if(n(0,i.style.display="none",i),n(1,s.innerHTML="",s),n(2,a.innerHTML="",a),!c||void 0===c||""===c)return n(2,a.innerText="Name the 2fa Method.",a),void n(0,i.style.display="block",i);const e=await fetch("/getRegistrationOptions");let t;console.log(e);try{t=await o(await e.json()),t.keyName=c}catch(e){throw"InvalidStateError"===e.name?n(2,a.innerText="Error: Authenticator was probably already registered by user",a):n(2,a.innerText=e,a),e}const l=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),h=await l.json();h&&h.verified?(r("success",!0),n(1,s.innerHTML="Success!",s),document.querySelector("#finishButton").style.display="block",document.querySelector("#cancelButton").style.display="none"):n(2,a.innerHTML=`Oh no, something went wrong! Response: <pre>${JSON.stringify(h)}</pre>`,a)},function(e){D[e?"unshift":"push"]((()=>{s=e,n(1,s)}))},function(e){D[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},function(){c=this.value,n(3,c)},function(e){D[e?"unshift":"push"]((()=>{i=e,n(0,i)}))},()=>{l(!0)}]}class ic extends G{constructor(e){super(),K(this,e,oc,rc,i,{})}}function sc(t){let n,r;return n=new ic({}),n.$on("cancel",t[1]),n.$on("success",t[2]),{c(){U(n.$$.fragment)},m(e,t){W(n,e,t),r=!0},p:e,i(e){r||(F(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){Z(n,e)}}}function ac(e){let t,n,r,o,i,s=e[0]&&sc(e);return{c(){s&&s.c(),t=g(),n=p("button"),n.textContent="Add 2fa method",b(n,"class","enable svelte-15wlws0")},m(a,c){s&&s.m(a,c),d(a,t,c),d(a,n,c),r=!0,o||(i=v(n,"click",e[3]),o=!0)},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&F(s,1)):(s=sc(e),s.c(),F(s,1),s.m(t.parentNode,t)):s&&(Y(),z(s,1,1,(()=>{s=null})),q())},i(e){r||(F(s),r=!0)},o(e){z(s),r=!1},d(e){s&&s.d(e),e&&f(t),e&&f(n),o=!1,i()}}}function cc(e,t,n){let r=!1;return[r,()=>{n(0,r=!1)},function(t){S.call(this,e,t)},()=>{n(0,r=!0)}]}class lc extends G{constructor(e){super(),K(this,e,cc,ac,i,{})}}function hc(e,t,n){const r=e.slice();return r[8]=t[n],r}function uc(t){let n,r;return n=new wa({}),n.$on("closeit",t[4]),n.$on("answer",t[5]),{c(){U(n.$$.fragment)},m(e,t){W(n,e,t),r=!0},p:e,i(e){r||(F(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){Z(n,e)}}}function dc(e){let t,n;return t=new Za({props:{name:e[8].name,id:e[8].id}}),t.$on("delete",e[6]),{c(){U(t.$$.fragment)},m(e,r){W(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.name=e[8].name),2&n&&(r.id=e[8].id),t.$set(r)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function fc(e){let t;return{c(){t=p("div"),t.innerHTML='<h1 class="svelte-k27zw3">Disabled</h1>',b(t,"class","blackout svelte-k27zw3")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function mc(e){let t,n,r,o,i,s,a,c,l,h,y=e[2]&&uc(e),w=e[1],v=[];for(let t=0;t<w.length;t+=1)v[t]=dc(hc(e,w,t));const _=e=>z(v[e],1,1,(()=>{v[e]=null}));c=new lc({}),c.$on("success",e[7]);let E=!e[0]&&fc();return{c(){y&&y.c(),t=g(),n=p("div"),r=p("div"),r.innerHTML='<p class="svelte-k27zw3">?</p> \n    <div class="show svelte-k27zw3">Add a second layer of protection with biometrics or security key.</div>',o=g(),i=p("p"),i.textContent="2 factor authentication",s=g();for(let e=0;e<v.length;e+=1)v[e].c();a=g(),U(c.$$.fragment),l=g(),E&&E.c(),b(r,"class","extraInfo svelte-k27zw3"),b(i,"class","title svelte-k27zw3"),b(n,"class","twofactor svelte-k27zw3")},m(e,f){y&&y.m(e,f),d(e,t,f),d(e,n,f),u(n,r),u(n,o),u(n,i),u(n,s);for(let e=0;e<v.length;e+=1)v[e].m(n,null);u(n,a),W(c,n,null),u(n,l),E&&E.m(n,null),h=!0},p(e,[r]){if(e[2]?y?(y.p(e,r),4&r&&F(y,1)):(y=uc(e),y.c(),F(y,1),y.m(t.parentNode,t)):y&&(Y(),z(y,1,1,(()=>{y=null})),q()),6&r){let t;for(w=e[1],t=0;t<w.length;t+=1){const o=hc(e,w,t);v[t]?(v[t].p(o,r),F(v[t],1)):(v[t]=dc(o),v[t].c(),F(v[t],1),v[t].m(n,a))}for(Y(),t=w.length;t<v.length;t+=1)_(t);q()}e[0]?E&&(E.d(1),E=null):E||(E=fc(),E.c(),E.m(n,null))},i(e){if(!h){F(y);for(let e=0;e<w.length;e+=1)F(v[e]);F(c.$$.fragment,e),h=!0}},o(e){z(y),v=v.filter(Boolean);for(let e=0;e<v.length;e+=1)z(v[e]);z(c.$$.fragment,e),h=!1},d(e){y&&y.d(e),e&&f(t),e&&f(n),m(v,e),Z(c),E&&E.d()}}}function pc(e,t,n){let{tfa:r}=t,{tfaKeys2:o}=t,i=o,s=!1;return e.$$set=e=>{"tfa"in e&&n(0,r=e.tfa),"tfaKeys2"in e&&n(3,o=e.tfaKeys2)},[r,i,s,o,()=>{n(2,s=!1)},async({detail:e})=>{if(e){const e=await fetch("/deleteKey",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s.id,name:s.name})});if(!1===(await e.json()).error){let e=[];for(let t=0;t<i.length;t++)i[t].id!==s.id&&e.push(i[t]);n(1,i=e)}n(2,s=!1)}},({detail:e})=>{n(2,s=e)},async()=>{const e=await fetch("/getKeys");try{let t=await e.json();console.log(t),t.keys&&n(1,i=t.keys)}catch(e){console.log(e)}}]}class yc extends G{constructor(e){super(),K(this,e,pc,mc,i,{tfa:0,tfaKeys2:3})}}function gc(t){let n,o,i,s,a,c,l,h,m,y;return{c(){n=p("div"),o=p("div"),i=p("form"),s=p("input"),a=g(),c=p("button"),c.textContent="Submit",l=g(),h=p("button"),h.textContent="",b(s,"type","text"),b(s,"placeholder",t[0]),s.autofocus=!0,b(s,"class","svelte-1lgzmrh"),b(c,"type","submit"),b(c,"class","svelte-1lgzmrh"),b(i,"class","svelte-1lgzmrh"),b(h,"class","close svelte-1lgzmrh"),b(o,"class","prompt-color svelte-1lgzmrh"),b(n,"class","prompt svelte-1lgzmrh"),b(n,"id","coverPrompt")},m(e,r){var f;d(e,n,r),u(n,o),u(o,i),u(i,s),u(i,a),u(i,c),u(o,l),u(o,h),s.focus(),m||(y=[v(i,"submit",(f=t[4],function(e){return e.preventDefault(),f.call(this,e)})),v(h,"click",t[5]),v(n,"click",t[3])],m=!0)},p(e,[t]){1&t&&b(s,"placeholder",e[0])},i:e,o:e,d(e){e&&f(n),m=!1,r(y)}}}function wc(e,t,n){let{promptPlaceholder:r}=t,{promptEvent:o}=t,{promptExtra:i}=t;return e.$$set=e=>{"promptPlaceholder"in e&&n(0,r=e.promptPlaceholder),"promptEvent"in e&&n(1,o=e.promptEvent),"promptExtra"in e&&n(2,i=e.promptExtra)},[r,o,i,e=>{"coverPrompt"===e.target.id&&o(!1,i)},e=>o(e,i),()=>o(!1,i)]}class vc extends G{constructor(e){super(),K(this,e,wc,gc,i,{promptPlaceholder:0,promptEvent:1,promptExtra:2})}}function bc(e){let t,n,r,o,i,s,a,c,h;const m=e[3].default,y=function(e,t,n,r){if(e){const o=l(e,t,n,r);return e[0](o)}}(m,e,e[2],null);return{c(){t=p("div"),n=p("div"),r=p("p"),y&&y.c(),o=g(),i=p("button"),i.textContent="",b(r,"class","svelte-98l6sy"),b(i,"class","svelte-98l6sy"),b(n,"class","notification-toast-inner svelte-98l6sy"),b(t,"class",s="notification-toast "+e[0]+" svelte-98l6sy")},m(s,l){d(s,t,l),u(t,n),u(n,r),y&&y.m(r,null),u(n,o),u(n,i),a=!0,c||(h=v(i,"click",e[1]),c=!0)},p(e,[n]){y&&y.p&&(!a||4&n)&&function(e,t,n,r,o,i){if(o){const s=l(t,n,r,i);e.p(s,o)}}(y,m,e,e[2],a?function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(m,e[2],n,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[2]),null),(!a||1&n&&s!==(s="notification-toast "+e[0]+" svelte-98l6sy"))&&b(t,"class",s)},i(e){a||(F(y,e),a=!0)},o(e){z(y,e),a=!1},d(e){e&&f(t),y&&y.d(e),c=!1,h()}}}function _c(e,t,n){let{$$slots:r={},$$scope:o}=t,{type:i}=t;const s=$();return e.$$set=e=>{"type"in e&&n(0,i=e.type),"$$scope"in e&&n(2,o=e.$$scope)},[i,()=>{s("close",!1)},o,r]}class Ec extends G{constructor(e){super(),K(this,e,_c,bc,i,{type:0})}}
/*!
     * Platform.js v1.3.6
     * Copyright 2014-2020 Benjamin Tan
     * Copyright 2011-2013 John-David Dalton
     * Available under MIT license
     */function Tc(e){let t,n;return t=new Ec({props:{type:e[4].type,$$slots:{default:[kc]},$$scope:{ctx:e}}}),t.$on("close",e[14]),{c(){U(t.$$.fragment)},m(e,r){W(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.type=e[4].type),33554448&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function kc(e){let t,n=e[4].slot+"";return{c(){t=y(n)},m(e,n){d(e,t,n)},p(e,r){16&r&&n!==(n=e[4].slot+"")&&_(t,n)},d(e){e&&f(t)}}}function $c(e){let t,n;return t=new vc({props:{promptEvent:e[3].promptEvent,promptExtra:e[3].promptExtra,promptPlaceholder:e[3].promptPlaceholder}}),{c(){U(t.$$.fragment)},m(e,r){W(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.promptEvent=e[3].promptEvent),8&n&&(r.promptExtra=e[3].promptExtra),8&n&&(r.promptPlaceholder=e[3].promptPlaceholder),t.$set(r)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Sc(e){let t,n,o,i,s,a,c,l,h,m,w,E,T,k,$,S,C,D,I,x,O,B,R,M,P,A,N,L,j,H,K,G,V,J,X,Q,ee,te,ne,re,oe,ie,se,ae,ce=e[0].userData.name+"",le=e[4].show&&Tc(e),he=e[3].promptShow&&$c(e);return I=new pa({props:{max:e[9]-1,rotate:e[5]-1,gaugeColor:"#430498"}}),B=new Da({props:{mostPopular:e[8],failed:e[7],logins:e[6],subscriptions:e[9]}}),G=new za({props:{sites:e[0].sites,socket:e[1],userData:e[0].userData}}),G.$on("error",e[15]),G.$on("success",e[16]),X=new ua({}),te=new Ea({props:{tfaTrue:e[2]}}),te.$on("delete-account",e[17]),te.$on("change-password",e[18]),te.$on("changeTfa",e[19]),oe=new yc({props:{tfa:e[2],tfaKeys2:e[10]}}),{c(){le&&le.c(),t=g(),he&&he.c(),n=g(),o=p("main"),i=p("header"),s=p("h1"),s.textContent="Auth Dashboard",a=g(),c=p("ul"),l=p("li"),h=p("button"),h.textContent="Toggle Theme",m=g(),w=p("li"),w.innerHTML='<a href="/" class="svelte-1aa9bis">Logout</a>',E=g(),T=p("section"),k=p("section"),$=p("p"),$.textContent="Secure Subscriptions",S=g(),C=p("div"),C.innerHTML='<p class="svelte-1aa9bis">?</p> \n        <div class="show svelte-1aa9bis">Percentage of websites your subscribed to that encrypts their data.</div>',D=g(),U(I.$$.fragment),x=g(),O=p("section"),U(B.$$.fragment),R=g(),M=p("section"),P=p("button"),P.textContent="Change",A=g(),N=p("h1"),L=y("Hi "),j=y(ce),H=g(),K=p("section"),U(G.$$.fragment),V=g(),J=p("section"),U(X.$$.fragment),Q=g(),ee=p("section"),U(te.$$.fragment),ne=g(),re=p("section"),U(oe.$$.fragment),b(s,"class","svelte-1aa9bis"),b(h,"class","svelte-1aa9bis"),b(l,"class","svelte-1aa9bis"),b(w,"class","svelte-1aa9bis"),b(i,"class","svelte-1aa9bis"),b($,"class","meter-title svelte-1aa9bis"),b(C,"class","extraInfo svelte-1aa9bis"),b(k,"class","meterPart tile svelte-1aa9bis"),b(O,"class","stats tile svelte-1aa9bis"),b(P,"id","change-name"),b(P,"class","svelte-1aa9bis"),b(N,"class","svelte-1aa9bis"),b(M,"class","chart tile svelte-1aa9bis"),b(K,"class","tile websites svelte-1aa9bis"),b(J,"class","date tile svelte-1aa9bis"),b(ee,"class","password tile svelte-1aa9bis"),b(re,"class","ips tile svelte-1aa9bis"),b(T,"class","main svelte-1aa9bis"),b(o,"class","svelte-1aa9bis")},m(r,f){le&&le.m(r,f),d(r,t,f),he&&he.m(r,f),d(r,n,f),d(r,o,f),u(o,i),u(i,s),u(i,a),u(i,c),u(c,l),u(l,h),u(c,m),u(c,w),u(o,E),u(o,T),u(T,k),u(k,$),u(k,S),u(k,C),u(k,D),W(I,k,null),u(T,x),u(T,O),W(B,O,null),u(T,R),u(T,M),u(M,P),u(M,A),u(M,N),u(N,L),u(N,j),u(T,H),u(T,K),W(G,K,null),u(T,V),u(T,J),W(X,J,null),u(T,Q),u(T,ee),W(te,ee,null),u(T,ne),u(T,re),W(oe,re,null),ie=!0,se||(ae=[v(h,"click",xa),v(P,"click",e[12])],se=!0)},p(e,[r]){e[4].show?le?(le.p(e,r),16&r&&F(le,1)):(le=Tc(e),le.c(),F(le,1),le.m(t.parentNode,t)):le&&(Y(),z(le,1,1,(()=>{le=null})),q()),e[3].promptShow?he?(he.p(e,r),8&r&&F(he,1)):(he=$c(e),he.c(),F(he,1),he.m(n.parentNode,n)):he&&(Y(),z(he,1,1,(()=>{he=null})),q()),(!ie||1&r)&&ce!==(ce=e[0].userData.name+"")&&_(j,ce);const o={};1&r&&(o.sites=e[0].sites),2&r&&(o.socket=e[1]),1&r&&(o.userData=e[0].userData),G.$set(o);const i={};4&r&&(i.tfaTrue=e[2]),te.$set(i);const s={};4&r&&(s.tfa=e[2]),oe.$set(s)},i(e){ie||(F(le),F(he),F(I.$$.fragment,e),F(B.$$.fragment,e),F(G.$$.fragment,e),F(X.$$.fragment,e),F(te.$$.fragment,e),F(oe.$$.fragment,e),ie=!0)},o(e){z(le),z(he),z(I.$$.fragment,e),z(B.$$.fragment,e),z(G.$$.fragment,e),z(X.$$.fragment,e),z(te.$$.fragment,e),z(oe.$$.fragment,e),ie=!1},d(e){le&&le.d(e),e&&f(t),he&&he.d(e),e&&f(n),e&&f(o),Z(I),Z(B),Z(G),Z(X),Z(te),Z(oe),se=!1,r(ae)}}}function Cc(e,t,n){const r=$();let{userData:o}=t,{socket:i}=t,s=o.https,a=o.attemptedLogins,c=o.failedLogins,l=o.mostPopular,h=o.sites.length,u=o.tfa,d=o.tfaKeys,f="1"===u,m={promptPlaceholder:"",promptEvent:console.log,promptExtra:"",promptShow:!1},p={show:!1,type:"success",slot:""};"light"===window.localStorage.getItem("theme")|!window.localStorage.getItem("theme")?(Ia.style.setProperty("--header-background-color","#202020"),Ia.style.setProperty("--header-color","rgb(179, 179, 179)"),Ia.style.setProperty("--main-background-color","rgb(25, 32, 43)"),Ia.style.setProperty("--main-color","#dfdfdf"),Ia.style.setProperty("--shadow","rgb(0 0 0) 0px 3px 8px")):(Ia.style.setProperty("--header-background-color","#f3f3f3"),Ia.style.setProperty("--header-color","#000000"),Ia.style.setProperty("--main-background-color","#dfdfdf"),Ia.style.setProperty("--main-color","#000000"),Ia.style.setProperty("--shadow","rgba(100, 100, 111, 0.2) 0px 7px 29px 0px"));const y=(e,t)=>{e?(n(3,m.promptShow=!1,m),fetch(`/changeName?name=${e.target[0].value}`,{method:"POST"}).then((e=>e.json())).then((t=>{if(t.error)return n(4,p.type="alert",p),n(4,p.slot=`Cant change name to '${e.target[0].value}'.`,p),void n(4,p.show=!0,p);n(4,p.type="success",p),n(4,p.slot=`Changed name to '${e.target[0].value}'.`,p),n(4,p.show=!0,p),r("nameChange",e.target[0].value)}))):n(3,m.promptShow=!1,m)},g=(e,t)=>{if(n(3,m.promptShow=!1,m),!e)return n(4,p.type="alert",p),n(4,p.slot="Error",p),void n(4,p.show=!0,p);setTimeout((()=>{n(3,m={promptPlaceholder:"New password",promptEvent:w,promptExtra:e.target[0].value,promptShow:!0})}),1)},w=(e,t)=>{if(n(3,m.promptShow=!1,m),!e)return n(4,p.type="alert",p),n(4,p.slot="Error",p),void n(4,p.show=!0,p);setTimeout((()=>{n(3,m={promptPlaceholder:"Confirm password",promptEvent:v,promptExtra:{oldPassword:t,newPassword:e.target[0].value},promptShow:!0})}),1)},v=(e,t)=>{if(e){if(n(3,m.promptShow=!1,m),t.newPassword!==e.target[0].value)return n(4,p.type="alert",p),n(4,p.slot="Passwords dont match.",p),void n(4,p.show=!0,p);fetch(`/changePassword?oldPassword=${t.oldPassword}&newPassword=${e.target[0].value}`,{method:"POST"}).then((e=>e.json())).then((e=>{if(e.error)return n(4,p.type="alert",p),n(4,p.slot=e.msg,p),void n(4,p.show=!0,p);n(4,p.type="success",p),n(4,p.slot="Changed Password.",p),n(4,p.show=!0,p)}))}else n(3,m.promptShow=!1,m)},b=(e,t)=>{n(3,m.promptShow=!1,m),e&&fetch(`/deleteAccount?password=${e.target[0].value}`,{method:"POST"}).then((e=>e.json())).then((e=>{if(e.error)return n(4,p.type="alert",p),n(4,p.slot=e.msg,p),void n(4,p.show=!0,p);n(4,p.type="success",p),n(4,p.slot="Account deleted.",p),n(4,p.show=!0,p),setTimeout((()=>{window.location.href="/"}),1e3)}))};return e.$$set=e=>{"userData"in e&&n(0,o=e.userData),"socket"in e&&n(1,i=e.socket)},[o,i,f,m,p,s,a,c,l,h,d,g,()=>{n(3,m={promptPlaceholder:"Change Name to",promptEvent:y,promptExtra:"",promptShow:!0})},b,()=>{n(4,p.show=!1,p)},({detail:e})=>{n(4,p={show:!0,type:"alert",slot:e})},({detail:e})=>{n(4,p={show:!0,type:"success",slot:e})},()=>{n(3,m={promptPlaceholder:"Password",promptEvent:b,promptExtra:"",promptShow:!0})},()=>{n(3,m={promptPlaceholder:"Old password.",promptEvent:g,promptExtra:"",promptShow:!0})},async({detail:e})=>{if(e)try{const e=await fetch("/enabletfa",{method:"POST"});(await e.json()).error||n(2,f=!0)}catch(e){console.error(e),n(2,f=!1)}else try{const e=await fetch("/canceltfa",{method:"POST"});(await e.json()).error||n(2,f=!1)}catch(e){console.error(e),n(2,f=!0)}}]}J((function(e,t){(function(){var n={function:!0,object:!0}[typeof window]&&window||this,r=t,o=e&&!e.nodeType&&e,i=r&&o&&"object"==typeof V&&V;!i||i.global!==i&&i.window!==i&&i.self!==i||(n=i);var s=Math.pow(2,53)-1,a=/\bOpera/,c=Object.prototype,l=c.hasOwnProperty,h=c.toString;function u(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function d(e){return e=g(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:u(e)}function f(e,t){for(var n in e)l.call(e,n)&&t(e[n],n,e)}function m(e){return null==e?u(e):h.call(e).slice(8,-1)}function p(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function y(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=s)for(;++n<r;)t(e[n],n,e);else f(e,t)}(e,(function(r,o){n=t(n,r,o,e)})),n}function g(e){return String(e).replace(/^ +| +$/g,"")}var w=function e(t){var r=n,o=t&&"object"==typeof t&&"String"!=m(t);o&&(r=t,t=null);var i=r.navigator||{},s=i.userAgent||"";t||(t=s);var c,l,u,w,v,b=o?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(h.toString()),_="Object",E=o?_:"ScriptBridgingProxyObject",T=o?_:"Environment",k=o&&r.java?"JavaPackage":m(r.java),$=o?_:"RuntimeObject",S=/\bJava/.test(k)&&r.java,C=S&&m(r.environment)==T,D=S?"a":"",I=S?"b":"",x=r.document||{},O=r.operamini||r.opera,B=a.test(B=o&&O?O["[[Class]]"]:m(O))?B:O=null,R=t,M=[],P=null,A=t==s,N=A&&O&&"function"==typeof O.version&&O.version(),L=y([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||p(n))+"\\b","i").exec(t)&&(n.label||n)})),j=function(e){return y(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||p(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),Y=z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),q=function(e){return y(e,(function(e,n,r){return e||(n[Y]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(Y)]||RegExp("\\b"+p(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),F=function(e){return y(e,(function(e,n){var r=n.pattern||p(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),d(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function z(e){return y(e,(function(e,n){var r=n.pattern||p(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=d(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function U(e){return y(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(L&&(L=[L]),/\bAndroid\b/.test(F)&&!Y&&(c=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(Y=g(c[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),q&&!Y?Y=z([q]):q&&Y&&(Y=Y.replace(RegExp("^("+p(q)+")[-_.\\s]","i"),q+" ").replace(RegExp("^("+p(q)+")[-_.]?(\\w)","i"),q+" $2")),(c=/\bGoogle TV\b/.exec(Y))&&(Y=c[0]),/\bSimulator\b/i.test(t)&&(Y=(Y?Y+" ":"")+"Simulator"),"Opera Mini"==j&&/\bOPiOS\b/.test(t)&&M.push("running in Turbo/Uncompressed mode"),"IE"==j&&/\blike iPhone OS\b/.test(t)?(q=(c=e(t.replace(/like iPhone OS/,""))).manufacturer,Y=c.product):/^iP/.test(Y)?(j||(j="Safari"),F="iOS"+((c=/ OS ([\d_]+)/i.exec(t))?" "+c[1].replace(/_/g,"."):"")):"Konqueror"==j&&/^Linux\b/i.test(F)?F="Kubuntu":q&&"Google"!=q&&(/Chrome/.test(j)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(Y))||/\bAndroid\b/.test(F)&&/^Chrome/.test(j)&&/\bVersion\//i.test(t)?(j="Android Browser",F=/\bAndroid\b/.test(F)?F:"Android"):"Silk"==j?(/\bMobi/i.test(t)||(F="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&M.unshift("accelerated")):"UC Browser"==j&&/\bUCWEB\b/.test(t)?M.push("speed mode"):"PaleMoon"==j&&(c=/\bFirefox\/([\d.]+)\b/.exec(t))?M.push("identifying as Firefox "+c[1]):"Firefox"==j&&(c=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(F||(F="Firefox OS"),Y||(Y=c[1])):!j||(c=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(j))?(j&&!Y&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(c+"/")+8))&&(j=null),(c=Y||q||F)&&(Y||q||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(F))&&(j=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(F)?F:c)+" Browser")):"Electron"==j&&(c=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&M.push("Chromium "+c),N||(N=U(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",p(j),"(?:Firefox|Minefield|NetFront)"])),(c=("iCab"==L&&parseFloat(N)>3?"WebKit":/\bOpera\b/.test(j)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(L)&&"WebKit"||!L&&/\bMSIE\b/i.test(t)&&("Mac OS"==F?"Tasman":"Trident")||"WebKit"==L&&/\bPlayStation\b(?! Vita\b)/i.test(j)&&"NetFront")&&(L=[c]),"IE"==j&&(c=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(j+=" Mobile",F="Windows Phone "+(/\+$/.test(c)?c:c+".x"),M.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(j="IE Mobile",F="Windows Phone 8.x",M.unshift("desktop mode"),N||(N=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=j&&"Trident"==L&&(c=/\brv:([\d.]+)/.exec(t))&&(j&&M.push("identifying as "+j+(N?" "+N:"")),j="IE",N=c[1]),A){if(w="global",v=null!=(u=r)?typeof u[w]:"number",/^(?:boolean|number|string|undefined)$/.test(v)||"object"==v&&!u[w])m(c=r.runtime)==E?(j="Adobe AIR",F=c.flash.system.Capabilities.os):m(c=r.phantom)==$?(j="PhantomJS",N=(c=c.version||null)&&c.major+"."+c.minor+"."+c.patch):"number"==typeof x.documentMode&&(c=/\bTrident\/(\d+)/i.exec(t))?(N=[N,x.documentMode],(c=+c[1]+4)!=N[1]&&(M.push("IE "+N[1]+" mode"),L&&(L[1]=""),N[1]=c),N="IE"==j?String(N[1].toFixed(1)):N[0]):"number"==typeof x.documentMode&&/^(?:Chrome|Firefox)\b/.test(j)&&(M.push("masking as "+j+" "+N),j="IE",N="11.0",L=["Trident"],F="Windows");else if(S&&(R=(c=S.lang.System).getProperty("os.arch"),F=F||c.getProperty("os.name")+" "+c.getProperty("os.version")),C){try{N=r.require("ringo/engine").version.join("."),j="RingoJS"}catch(e){(c=r.system)&&c.global.system==r.system&&(j="Narwhal",F||(F=c[0].os||null))}j||(j="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(c=r.process)&&("object"==typeof c.versions&&("string"==typeof c.versions.electron?(M.push("Node "+c.versions.node),j="Electron",N=c.versions.electron):"string"==typeof c.versions.nw&&(M.push("Chromium "+N,"Node "+c.versions.node),j="NW.js",N=c.versions.nw)),j||(j="Node.js",R=c.arch,F=c.platform,N=(N=/[\d.]+/.exec(c.version))?N[0]:null));F=F&&d(F)}if(N&&(c=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(N)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(A&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(P=/b/i.test(c)?"beta":"alpha",N=N.replace(RegExp(c+"\\+?$"),"")+("beta"==P?I:D)+(/\d+\+?/.exec(c)||"")),"Fennec"==j||"Firefox"==j&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(F))j="Firefox Mobile";else if("Maxthon"==j&&N)N=N.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(Y))"Xbox 360"==Y&&(F=null),"Xbox 360"==Y&&/\bIEMobile\b/.test(t)&&M.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(j)&&(!j||Y||/Browser|Mobi/.test(j))||"Windows CE"!=F&&!/Mobi/i.test(t))if("IE"==j&&A)try{null===r.external&&M.unshift("platform preview")}catch(e){M.unshift("embedded")}else(/\bBlackBerry\b/.test(Y)||/\bBB10\b/.test(t))&&(c=(RegExp(Y.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||N)?(F=((c=[c,/BB10/.test(t)])[1]?(Y=null,q="BlackBerry"):"Device Software")+" "+c[0],N=null):this!=f&&"Wii"!=Y&&(A&&O||/Opera/.test(j)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==j&&/\bOS X (?:\d+\.){2,}/.test(F)||"IE"==j&&(F&&!/^Win/.test(F)&&N>5.5||/\bWindows XP\b/.test(F)&&N>8||8==N&&!/\bTrident\b/.test(t)))&&!a.test(c=e.call(f,t.replace(a,"")+";"))&&c.name&&(c="ing as "+c.name+((c=c.version)?" "+c:""),a.test(j)?(/\bIE\b/.test(c)&&"Mac OS"==F&&(F=null),c="identify"+c):(c="mask"+c,j=B?d(B.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(c)&&(F=null),A||(N=null)),L=["Presto"],M.push(c));else j+=" Mobile";(c=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(c=[parseFloat(c.replace(/\.(\d)$/,".0$1")),c],"Safari"==j&&"+"==c[1].slice(-1)?(j="WebKit Nightly",P="alpha",N=c[1].slice(0,-1)):N!=c[1]&&N!=(c[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(N=null),c[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==c[0]&&537.36==c[2]&&parseFloat(c[1])>=28&&"WebKit"==L&&(L=["Blink"]),A&&(b||c[1])?(L&&(L[1]="like Chrome"),c=c[1]||((c=c[0])<530?1:c<532?2:c<532.05?3:c<533?4:c<534.03?5:c<534.07?6:c<534.1?7:c<534.13?8:c<534.16?9:c<534.24?10:c<534.3?11:c<535.01?12:c<535.02?"13+":c<535.07?15:c<535.11?16:c<535.19?17:c<536.05?18:c<536.1?19:c<537.01?20:c<537.11?"21+":c<537.13?23:c<537.18?24:c<537.24?25:c<537.36?26:"Blink"!=L?"27":"28")):(L&&(L[1]="like Safari"),c=(c=c[0])<400?1:c<500?2:c<526?3:c<533?4:c<534?"4+":c<535?5:c<537?6:c<538?7:c<601?8:c<602?9:c<604?10:c<606?11:c<608?12:"12"),L&&(L[1]+=" "+(c+="number"==typeof c?".x":/[.+]/.test(c)?"":"+")),"Safari"==j&&(!N||parseInt(N)>45)?N=c:"Chrome"==j&&/\bHeadlessChrome/i.test(t)&&M.unshift("headless")),"Opera"==j&&(c=/\bzbov|zvav$/.exec(F))?(j+=" ",M.unshift("desktop mode"),"zvav"==c?(j+="Mini",N=null):j+="Mobile",F=F.replace(RegExp(" *"+c+"$"),"")):"Safari"==j&&/\bChrome\b/.exec(L&&L[1])?(M.unshift("desktop mode"),j="Chrome Mobile",N=null,/\bOS X\b/.test(F)?(q="Apple",F="iOS 4.3+"):F=null):/\bSRWare Iron\b/.test(j)&&!N&&(N=U("Chrome")),N&&0==N.indexOf(c=/[\d.]+$/.exec(F))&&t.indexOf("/"+c+"-")>-1&&(F=g(F.replace(c,""))),F&&-1!=F.indexOf(j)&&!RegExp(j+" OS").test(F)&&(F=F.replace(RegExp(" *"+p(j)+" *"),"")),L&&!/\b(?:Avant|Nook)\b/.test(j)&&(/Browser|Lunascape|Maxthon/.test(j)||"Safari"!=j&&/^iOS/.test(F)&&/\bSafari\b/.test(L[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(j)&&L[1])&&(c=L[L.length-1])&&M.push(c),M.length&&(M=["("+M.join("; ")+")"]),q&&Y&&Y.indexOf(q)<0&&M.push("on "+q),Y&&M.push((/^on /.test(M[M.length-1])?"":"on ")+Y),F&&(c=/ ([\d.+]+)$/.exec(F),l=c&&"/"==F.charAt(F.length-c[0].length-1),F={architecture:32,family:c&&!l?F.replace(c[0],""):F,version:c?c[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(c=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(R))&&!/\bi686\b/i.test(R)?(F&&(F.architecture=64,F.family=F.family.replace(RegExp(" *"+c),"")),j&&(/\bWOW64\b/i.test(t)||A&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&M.unshift("32-bit")):F&&/^OS X/.test(F.family)&&"Chrome"==j&&parseFloat(N)>=39&&(F.architecture=64),t||(t=null);var W={};return W.description=t,W.layout=L&&L[0],W.manufacturer=q,W.name=j,W.prerelease=P,W.product=Y,W.ua=t,W.version=j&&N,W.os=F||{architecture:null,family:null,version:null,toString:function(){return"null"}},W.parse=e,W.toString=function(){return this.description||""},W.version&&M.unshift(N),W.name&&M.unshift(j),F&&j&&(F!=String(F).split(" ")[0]||F!=j.split(" ")[0]&&!Y)&&M.push(Y?"("+F+")":"on "+F),M.length&&(W.description=M.join(" ")),W}();r&&o?f(w,(function(e,t){r[t]=e})):n.platform=w}).call(V)}));class Dc extends G{constructor(e){super(),K(this,e,Cc,Sc,i,{userData:0,socket:1})}}const Ic=(e,t)=>{(({postServer:e,key:t,title:n,w:r,h:o,where:i})=>{const s=void 0!==window.screenLeft?window.screenLeft:window.screenX,a=void 0!==window.screenTop?window.screenTop:window.screenY,c=`${i}auth?website=${e}&key=${t}`,l=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,h=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,u=l/window.screen.availWidth,d=(l-r)/2/u+s,f=(h-o)/2/u+a,m=window.open(c,n,`\n      scrollbars=yes,\n      width=${r/u}, \n      height=${o/u}, \n      top=${f}, \n      left=${d}\n      `);window.focus&&m.focus()})({postServer:`${e}myAuth`,key:t,title:"Authenticate",w:520,h:570,where:e})};function xc(t){let n,o,i,s,a,c,l,h,m,y,w,_,E,T,k,$,S,C,D,I,x,O,B,R,M,P,A,N,L,j,Y,q,F,z,U,W,Z,H,K,G,V;return{c(){n=p("div"),o=p("div"),i=p("div"),s=p("button"),s.textContent="",a=g(),c=p("p"),c.textContent="N/A",l=g(),h=p("header"),m=p("a"),m.innerHTML='<h1 class="svelte-1gxutbd">Gruzservices</h1>',y=g(),w=p("ul"),_=p("li"),E=p("button"),E.textContent="Home",T=g(),k=p("li"),$=p("button"),$.textContent="Contact",S=g(),C=p("li"),D=p("button"),D.textContent="About",I=g(),x=p("main"),O=p("section"),B=p("section"),R=p("div"),M=p("button"),M.innerHTML='Login with Gruzservices <span class="svelte-1gxutbd"><img src="/lock2.svg" alt="Lock"/></span>',P=p("br"),A=p("br"),N=g(),L=p("a"),L.textContent="Signup to Gruzservices",j=g(),Y=p("section"),Y.innerHTML='<img src="/lock.svg" alt="Lock Icon" class="svelte-1gxutbd"/>',q=g(),F=p("section"),z=p("section"),z.innerHTML='<img src="/contact.svg" alt="Lock Icon" class="svelte-1gxutbd"/>',U=g(),W=p("section"),Z=p("form"),Z.innerHTML='<input name="email" type="email" placeholder="Email" required="" class="svelte-1gxutbd"/> \n          <textarea name="what" id="textarea" cols="30" rows="10" placeholder="What do you want to tell me?" required="" class="svelte-1gxutbd"></textarea> \n          <button type="submit" class="svelte-1gxutbd">Send</button>',H=g(),K=p("section"),K.innerHTML='<section class="sec1 svelte-1gxutbd"><div class="svelte-1gxutbd"><h1 class="svelte-1gxutbd">What is this?</h1> \n          <p class="svelte-1gxutbd">Every time I build a website, I have to do the authentication part\n            every single time. It is unnecessary and not convenient to the end\n            user. Now I only need to plug my server to this authentication\n            server and not worry about it again.</p></div></section> \n      <section class="sec2 svelte-1gxutbd"><img src="/about.svg" alt="Lock Icon" class="svelte-1gxutbd"/></section>',b(s,"class","svelte-1gxutbd"),b(i,"class","svelte-1gxutbd"),b(c,"id","message"),b(c,"class","svelte-1gxutbd"),b(o,"class","popup svelte-1gxutbd"),b(m,"href","/"),b(m,"class","svelte-1gxutbd"),b(E,"class","svelte-1gxutbd"),b(_,"id","bhome"),b(_,"class","hide svelte-1gxutbd"),b($,"class","svelte-1gxutbd"),b(k,"class","svelte-1gxutbd"),b(D,"class","svelte-1gxutbd"),b(C,"class","svelte-1gxutbd"),b(w,"class","svelte-1gxutbd"),b(h,"class","svelte-1gxutbd"),b(M,"id","sauth-login"),b(M,"class","svelte-1gxutbd"),b(L,"id","sauth-signup"),b(L,"href","/signup"),b(L,"class","svelte-1gxutbd"),b(R,"class","svelte-1gxutbd"),b(B,"class","sec1 svelte-1gxutbd"),b(Y,"class","sec2 svelte-1gxutbd"),b(O,"class","home svelte-1gxutbd"),b(z,"class","sec2 svelte-1gxutbd"),b(Z,"id","contactform"),b(Z,"class","contact svelte-1gxutbd"),b(W,"class","sec1 svelte-1gxutbd"),b(F,"class","contact hide svelte-1gxutbd"),b(K,"class","about hide svelte-1gxutbd"),b(x,"class","svelte-1gxutbd"),b(n,"class","main svelte-1gxutbd")},m(e,r){d(e,n,r),u(n,o),u(o,i),u(i,s),u(o,a),u(o,c),t[12](o),u(n,l),u(n,h),u(h,m),u(h,y),u(h,w),u(w,_),u(_,E),t[13](_),u(w,T),u(w,k),u(k,$),u(w,S),u(w,C),u(C,D),u(n,I),u(n,x),u(x,O),u(O,B),u(B,R),u(R,M),u(R,P),u(R,A),u(R,N),u(R,L),u(O,j),u(O,Y),t[15](O),u(x,q),u(x,F),u(F,z),u(F,U),u(F,W),u(W,Z),t[16](F),u(x,H),u(x,K),t[17](K),G||(V=[v(s,"click",t[11]),v(E,"click",t[9]),v($,"click",t[7]),v(D,"click",t[8]),v(M,"click",t[14]),v(Z,"submit",t[10])],G=!0)},p:e,i:e,o:e,d(e){e&&f(n),t[12](null),t[13](null),t[15](null),t[16](null),t[17](null),G=!1,r(V)}}}function Oc(e,t,n){let r,o,i,s,a,{socket:c}=t,{PROXY:l}=t;return e.$$set=e=>{"socket"in e&&n(0,c=e.socket),"PROXY"in e&&n(1,l=e.PROXY)},[c,l,r,o,i,s,a,()=>{o.classList.add("hide"),i.classList.remove("hide"),s.classList.add("hide"),a.classList.remove("hide")},()=>{o.classList.add("hide"),s.classList.remove("hide"),i.classList.add("hide"),a.classList.remove("hide")},()=>{s.classList.add("hide"),o.classList.remove("hide"),i.classList.add("hide"),a.classList.add("hide")},e=>{e.preventDefault(),fetch(`${l}contact`,{method:"POST",body:JSON.stringify({email:e.target[0].value,what:e.target[1].value})})},()=>{r.classList.remove("movedown"),r.classList.add("moveup")},function(e){D[e?"unshift":"push"]((()=>{r=e,n(2,r)}))},function(e){D[e?"unshift":"push"]((()=>{a=e,n(6,a)}))},()=>Ic(l,c.id),function(e){D[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){D[e?"unshift":"push"]((()=>{i=e,n(4,i)}))},function(e){D[e?"unshift":"push"]((()=>{s=e,n(5,s)}))}]}class Bc extends G{constructor(e){super(),K(this,e,Oc,xc,i,{socket:0,PROXY:1})}}const Rc=Object.create(null);Rc.open="0",Rc.close="1",Rc.ping="2",Rc.pong="3",Rc.message="4",Rc.upgrade="5",Rc.noop="6";const Mc=Object.create(null);Object.keys(Rc).forEach((e=>{Mc[Rc[e]]=e}));const Pc={type:"error",data:"parser error"},Ac="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Nc="function"==typeof ArrayBuffer,Lc=({type:e,data:t},n,r)=>{return Ac&&t instanceof Blob?n?r(t):jc(t,r):Nc&&(t instanceof ArrayBuffer||(o=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer))?n?r(t):jc(new Blob([t]),r):r(Rc[e]+(t||""));var o},jc=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},Yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qc="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<Yc.length;e++)qc[Yc.charCodeAt(e)]=e;const Fc="function"==typeof ArrayBuffer,zc=(e,t)=>{if("string"!=typeof e)return{type:"message",data:Wc(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Uc(e.substring(1),t)};return Mc[n]?e.length>1?{type:Mc[n],data:e.substring(1)}:{type:Mc[n]}:Pc},Uc=(e,t)=>{if(Fc){const n=(e=>{let t,n,r,o,i,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const l=new ArrayBuffer(s),h=new Uint8Array(l);for(t=0;t<a;t+=4)n=qc[e.charCodeAt(t)],r=qc[e.charCodeAt(t+1)],o=qc[e.charCodeAt(t+2)],i=qc[e.charCodeAt(t+3)],h[c++]=n<<2|r>>4,h[c++]=(15&r)<<4|o>>2,h[c++]=(3&o)<<6|63&i;return l})(e);return Wc(n,t)}return{base64:!0,data:e}},Wc=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,Zc=String.fromCharCode(30);function Hc(e){if(e)return function(e){for(var t in Hc.prototype)e[t]=Hc.prototype[t];return e}(e)}Hc.prototype.on=Hc.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Hc.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Hc.prototype.off=Hc.prototype.removeListener=Hc.prototype.removeAllListeners=Hc.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Hc.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},Hc.prototype.emitReserved=Hc.prototype.emit,Hc.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Hc.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Kc="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Gc(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Vc=setTimeout,Jc=clearTimeout;function Xc(e,t){t.useNativeTimers?(e.setTimeoutFn=Vc.bind(Kc),e.clearTimeoutFn=Jc.bind(Kc)):(e.setTimeoutFn=setTimeout.bind(Kc),e.clearTimeoutFn=clearTimeout.bind(Kc))}class Qc extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class el extends Hc{constructor(e){super(),this.writable=!1,Xc(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new Qc(e,t,n)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=zc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const tl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),nl={};let rl,ol=0,il=0;function sl(e){let t="";do{t=tl[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function al(){const e=sl(+new Date);return e!==rl?(ol=0,rl=e):e+"."+sl(ol++)}for(;il<64;il++)nl[tl[il]]=il;function cl(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}let ll=!1;try{ll="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const hl=ll;function ul(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||hl))return new XMLHttpRequest}catch(e){}if(!t)try{return new(Kc[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function dl(){}const fl=null!=new ul({xdomain:!1}).responseType;class ml extends Hc{constructor(e,t){super(),Xc(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=Gc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new ul(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=ml.requestsCount++,ml.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=dl,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete ml.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(ml.requestsCount=0,ml.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",pl);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Kc?"pagehide":"unload",pl,!1)}function pl(){for(let e in ml.requests)ml.requests.hasOwnProperty(e)&&ml.requests[e].abort()}const yl="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),gl=Kc.WebSocket||Kc.MozWebSocket,wl="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const vl={websocket:class extends el{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=wl?{}:Gc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=wl?new gl(e,t,n):t?new gl(e,t):new gl(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Lc(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}r&&yl((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=al()),this.supportsBinary||(e.b64=1);const r=cl(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!!gl}},polling:class extends el{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=fl&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Zc),r=[];for(let e=0;e<n.length;e++){const o=zc(n[e],t);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,i)=>{Lc(e,!1,(e=>{r[i]=e,++o===n&&t(r.join(Zc))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=al()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=cl(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new ml(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},bl=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_l=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function El(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=bl.exec(e||""),i={},s=14;for(;s--;)i[_l[s]]=o[s]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}class Tl extends Hc{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=El(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=El(t.host).host),Xc(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new vl[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Tl.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;Tl.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Tl.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,l(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function s(){i("transport closed")}function a(){i("socket closed")}function c(e){t&&e.name!==t.name&&o()}const l=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",i),t.once("close",s),this.once("close",a),this.once("upgrading",c),t.open()}onOpen(){if(this.readyState="open",Tl.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){Tl.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}Tl.protocol=4;const kl="function"==typeof ArrayBuffer,$l=Object.prototype.toString,Sl="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===$l.call(Blob),Cl="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===$l.call(File);function Dl(e){return kl&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Sl&&e instanceof Blob||Cl&&e instanceof File}function Il(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Il(e[t]))return!0;return!1}if(Dl(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Il(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Il(e[t]))return!0;return!1}function xl(e){const t=[],n=e.data,r=e;return r.data=Ol(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ol(e,t){if(!e)return e;if(Dl(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ol(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ol(e[r],t));return n}return e}function Bl(e,t){return e.data=Rl(e.data,t),e.attachments=void 0,e}function Rl(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Rl(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Rl(e[n],t));return e}var Ml;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Ml||(Ml={}));class Pl extends Hc{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===Ml.BINARY_EVENT||t.type===Ml.BINARY_ACK?(this.reconstructor=new Al(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else{if(!Dl(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Ml[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Ml.BINARY_EVENT||n.type===Ml.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Pl.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case Ml.CONNECT:return"object"==typeof t;case Ml.DISCONNECT:return void 0===t;case Ml.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Ml.EVENT:case Ml.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Ml.ACK:case Ml.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Al{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Bl(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Nl=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Ml},Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==Ml.EVENT&&e.type!==Ml.ACK||!Il(e)?[this.encodeAsString(e)]:(e.type=e.type===Ml.EVENT?Ml.BINARY_EVENT:Ml.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==Ml.BINARY_EVENT&&e.type!==Ml.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=xl(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}},Decoder:Pl});function Ll(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const jl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Yl extends Hc{constructor(e,t,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ll(e,"open",this.onopen.bind(this)),Ll(e,"packet",this.onpacket.bind(this)),Ll(e,"error",this.onerror.bind(this)),Ll(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(jl.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const n={type:Ml.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const r=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:Ml.CONNECT,data:e})})):this.packet({type:Ml.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ml.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ml.EVENT:case Ml.BINARY_EVENT:this.onevent(e);break;case Ml.ACK:case Ml.BINARY_ACK:this.onack(e);break;case Ml.DISCONNECT:this.ondisconnect();break;case Ml.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:Ml.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ml.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function ql(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ql.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},ql.prototype.reset=function(){this.attempts=0},ql.prototype.setMin=function(e){this.ms=e},ql.prototype.setMax=function(e){this.max=e},ql.prototype.setJitter=function(e){this.jitter=e};class Fl extends Hc{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Xc(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new ql({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Nl;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Tl(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Ll(t,"open",(function(){n.onopen(),e&&e()})),o=Ll(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&r();const n=this.setTimeoutFn((()=>{r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ll(e,"ping",this.onping.bind(this)),Ll(e,"data",this.ondata.bind(this)),Ll(e,"error",this.onerror.bind(this)),Ll(e,"close",this.onclose.bind(this)),Ll(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new Yl(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const zl={};function Ul(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=El(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=zl[o]&&i in zl[o].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new Fl(r,t):(zl[o]||(zl[o]=new Fl(r,t)),a=zl[o]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Ul,{Manager:Fl,Socket:Yl,io:Ul,connect:Ul});function Wl(t){let n,r;return n=new Bc({props:{PROXY:t[2],socket:t[3]}}),{c(){U(n.$$.fragment)},m(e,t){W(n,e,t),r=!0},p:e,i(e){r||(F(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){Z(n,e)}}}function Zl(e){let t,n;return t=new Dc({props:{userData:e[1],socket:e[3]}}),t.$on("nameChange",e[4]),{c(){U(t.$$.fragment)},m(e,r){W(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.userData=e[1]),t.$set(r)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Hl(e){let t,n,r,o;const i=[Zl,Wl],s=[];function a(e,t){return e[0]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=w()},m(e,n){s[t].m(e,n),d(e,r,n),o=!0},p(e,[o]){let c=t;t=a(e),t===c?s[t].p(e,o):(Y(),z(s[c],1,1,(()=>{s[c]=null})),q(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),F(n,1),n.m(r.parentNode,r))},i(e){o||(F(n),o=!0)},o(e){z(n),o=!1},d(e){s[t].d(e),e&&f(r)}}}function Kl(e,t,n){const r=window.location.href,o=(e=>Ul(e))(r);let i,s=!1;o.on("login",(e=>{console.log(e),n(1,i=e),n(0,s=!0)}));return[s,i,r,o,({detail:e})=>{n(1,i.userData.name=e,i)}]}return new class extends G{constructor(e){super(),K(this,e,Kl,Hl,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
